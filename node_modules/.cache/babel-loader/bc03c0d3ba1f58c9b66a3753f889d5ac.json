{"ast":null,"code":"import { h, render } from 'preact';\nimport { getUserDataAndCsrfToken } from '../chat/util';\nimport { getUnopenedChannels } from '../utilities/connect';\nHTMLDocument.prototype.ready = new Promise(function (resolve) {\n  if (document.readyState !== 'loading') {\n    return resolve();\n  }\n\n  document.addEventListener('DOMContentLoaded', function () {\n    return resolve();\n  });\n  return null;\n});\n\nfunction renderPage() {\n  var dataElement = document.getElementById('onboarding-container');\n  var communityConfig = {\n    communityName: dataElement.dataset.communityName,\n    communityLogo: dataElement.dataset.communityLogo,\n    communityBackground: dataElement.dataset.communityBackground,\n    communityDescription: dataElement.dataset.communityDescription\n  };\n  import('../onboarding/Onboarding').then(function (_ref) {\n    var Onboarding = _ref[\"default\"];\n    render(h(Onboarding, {\n      communityConfig: communityConfig\n    }), document.getElementById('onboarding-container'));\n  })[\"catch\"](function (error) {\n    // eslint-disable-next-line no-console\n    console.error('Unable to load onboarding', error);\n  });\n}\n\ndocument.ready.then(getUserDataAndCsrfToken().then(function (_ref2) {\n  var currentUser = _ref2.currentUser,\n      csrfToken = _ref2.csrfToken;\n  window.currentUser = currentUser;\n  window.csrfToken = csrfToken;\n  getUnopenedChannels();\n  renderPage();\n})[\"catch\"](function (error) {\n  // eslint-disable-next-line no-console\n  console.error('Error getting user and CSRF Token', error);\n}));","map":{"version":3,"sources":["/Users/nmadhab/hobby/forem/app/javascript/packs/Onboarding.jsx"],"names":["h","render","getUserDataAndCsrfToken","getUnopenedChannels","HTMLDocument","prototype","ready","Promise","resolve","document","readyState","addEventListener","renderPage","dataElement","getElementById","communityConfig","communityName","dataset","communityLogo","communityBackground","communityDescription","then","Onboarding","error","console","currentUser","csrfToken","window"],"mappings":"AAAA,SAASA,CAAT,EAAYC,MAAZ,QAA0B,QAA1B;AACA,SAASC,uBAAT,QAAwC,cAAxC;AACA,SAASC,mBAAT,QAAoC,sBAApC;AAEAC,YAAY,CAACC,SAAb,CAAuBC,KAAvB,GAA+B,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AACtD,MAAIC,QAAQ,CAACC,UAAT,KAAwB,SAA5B,EAAuC;AACrC,WAAOF,OAAO,EAAd;AACD;;AACDC,EAAAA,QAAQ,CAACE,gBAAT,CAA0B,kBAA1B,EAA8C;AAAA,WAAMH,OAAO,EAAb;AAAA,GAA9C;AACA,SAAO,IAAP;AACD,CAN8B,CAA/B;;AAQA,SAASI,UAAT,GAAsB;AACpB,MAAMC,WAAW,GAAGJ,QAAQ,CAACK,cAAT,CAAwB,sBAAxB,CAApB;AACA,MAAMC,eAAe,GAAG;AACtBC,IAAAA,aAAa,EAAEH,WAAW,CAACI,OAAZ,CAAoBD,aADb;AAEtBE,IAAAA,aAAa,EAAEL,WAAW,CAACI,OAAZ,CAAoBC,aAFb;AAGtBC,IAAAA,mBAAmB,EAAEN,WAAW,CAACI,OAAZ,CAAoBE,mBAHnB;AAItBC,IAAAA,oBAAoB,EAAEP,WAAW,CAACI,OAAZ,CAAoBG;AAJpB,GAAxB;AAMA,SAAO,0BAAP,EACGC,IADH,CACQ,gBAA6B;AAAA,QAAjBC,UAAiB;AACjCrB,IAAAA,MAAM,CACJ,EAAC,UAAD;AAAY,MAAA,eAAe,EAAEc;AAA7B,MADI,EAEJN,QAAQ,CAACK,cAAT,CAAwB,sBAAxB,CAFI,CAAN;AAID,GANH,WAOS,UAACS,KAAD,EAAW;AAChB;AACAC,IAAAA,OAAO,CAACD,KAAR,CAAc,2BAAd,EAA2CA,KAA3C;AACD,GAVH;AAWD;;AAEDd,QAAQ,CAACH,KAAT,CAAee,IAAf,CACEnB,uBAAuB,GACpBmB,IADH,CACQ,iBAAgC;AAAA,MAA7BI,WAA6B,SAA7BA,WAA6B;AAAA,MAAhBC,SAAgB,SAAhBA,SAAgB;AACpCC,EAAAA,MAAM,CAACF,WAAP,GAAqBA,WAArB;AACAE,EAAAA,MAAM,CAACD,SAAP,GAAmBA,SAAnB;AAEAvB,EAAAA,mBAAmB;AACnBS,EAAAA,UAAU;AACX,CAPH,WAQS,UAACW,KAAD,EAAW;AAChB;AACAC,EAAAA,OAAO,CAACD,KAAR,CAAc,mCAAd,EAAmDA,KAAnD;AACD,CAXH,CADF","sourcesContent":["import { h, render } from 'preact';\nimport { getUserDataAndCsrfToken } from '../chat/util';\nimport { getUnopenedChannels } from '../utilities/connect';\n\nHTMLDocument.prototype.ready = new Promise((resolve) => {\n  if (document.readyState !== 'loading') {\n    return resolve();\n  }\n  document.addEventListener('DOMContentLoaded', () => resolve());\n  return null;\n});\n\nfunction renderPage() {\n  const dataElement = document.getElementById('onboarding-container');\n  const communityConfig = {\n    communityName: dataElement.dataset.communityName,\n    communityLogo: dataElement.dataset.communityLogo,\n    communityBackground: dataElement.dataset.communityBackground,\n    communityDescription: dataElement.dataset.communityDescription,\n  };\n  import('../onboarding/Onboarding')\n    .then(({ default: Onboarding }) => {\n      render(\n        <Onboarding communityConfig={communityConfig} />,\n        document.getElementById('onboarding-container'),\n      );\n    })\n    .catch((error) => {\n      // eslint-disable-next-line no-console\n      console.error('Unable to load onboarding', error);\n    });\n}\n\ndocument.ready.then(\n  getUserDataAndCsrfToken()\n    .then(({ currentUser, csrfToken }) => {\n      window.currentUser = currentUser;\n      window.csrfToken = csrfToken;\n\n      getUnopenedChannels();\n      renderPage();\n    })\n    .catch((error) => {\n      // eslint-disable-next-line no-console\n      console.error('Error getting user and CSRF Token', error);\n    }),\n);\n"]},"metadata":{},"sourceType":"module"}