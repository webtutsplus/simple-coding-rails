{"ast":null,"code":"import { h } from 'preact';\nimport PropTypes from 'prop-types';\nimport { Dropdown, Button } from '@crayons';\nexport var Options = function Options(_ref) {\n  var _ref$passedData = _ref.passedData,\n      _ref$passedData$publi = _ref$passedData.published,\n      published = _ref$passedData$publi === void 0 ? false : _ref$passedData$publi,\n      _ref$passedData$allSe = _ref$passedData.allSeries,\n      allSeries = _ref$passedData$allSe === void 0 ? [] : _ref$passedData$allSe,\n      _ref$passedData$canon = _ref$passedData.canonicalUrl,\n      canonicalUrl = _ref$passedData$canon === void 0 ? '' : _ref$passedData$canon,\n      _ref$passedData$serie = _ref$passedData.series,\n      series = _ref$passedData$serie === void 0 ? '' : _ref$passedData$serie,\n      onSaveDraft = _ref.onSaveDraft,\n      onConfigChange = _ref.onConfigChange,\n      toggleMoreConfig = _ref.toggleMoreConfig,\n      moreConfigShowing = _ref.moreConfigShowing;\n  var publishedField = '';\n  var existingSeries = '';\n\n  if (allSeries.length > 0) {\n    var seriesNames = allSeries.map(function (name) {\n      return h(\"option\", {\n        value: name\n      }, name);\n    });\n    existingSeries = h(\"div\", {\n      className: \"crayons-field__description\"\n    }, \"Existing series:\", \" \", h(\"select\", {\n      value: \"\",\n      name: \"series\",\n      onInput: onConfigChange,\n      required: true,\n      \"aria-label\": \"Select one of the existing series\"\n    }, h(\"option\", {\n      value: \"\",\n      disabled: true\n    }, \"Select...\"), seriesNames));\n  }\n\n  if (published) {\n    publishedField = h(\"div\", {\n      \"data-testid\": \"options__danger-zone\",\n      className: \"crayons-field mb-6\"\n    }, h(\"div\", {\n      className: \"crayons-field__label color-accent-danger\"\n    }, \"Danger Zone\"), h(Button, {\n      variant: \"danger\",\n      onClick: onSaveDraft\n    }, \"Unpublish post\"));\n  }\n\n  return h(Dropdown, {\n    className: moreConfigShowing && 'inline-block bottom-2 s:bottom-100 left-2 s:left-0 right-2 s:left-auto',\n    style: {\n      zIndex: 100\n    }\n  }, h(\"h3\", {\n    className: \"mb-6\"\n  }, \"Post options\"), h(\"div\", {\n    className: \"crayons-field mb-6\"\n  }, h(\"label\", {\n    htmlFor: \"canonicalUrl\",\n    className: \"crayons-field__label\"\n  }, \"Canonical URL\"), h(\"p\", {\n    className: \"crayons-field__description\"\n  }, \"Change meta tag\", \" \", h(\"code\", null, \"canonical_url\"), \" \", \"if this post was first published elsewhere (like your own blog).\"), h(\"input\", {\n    type: \"text\",\n    value: canonicalUrl,\n    className: \"crayons-textfield\",\n    placeholder: \"https://yoursite.com/post-title\",\n    name: \"canonicalUrl\",\n    onKeyUp: onConfigChange,\n    id: \"canonicalUrl\"\n  })), h(\"div\", {\n    className: \"crayons-field mb-6\"\n  }, h(\"label\", {\n    htmlFor: \"series\",\n    className: \"crayons-field__label\"\n  }, \"Series\"), h(\"p\", {\n    className: \"crayons-field__description\"\n  }, \"Will this post be part of a series? Give the series a unique name. (Series visible once it has multiple posts)\"), h(\"input\", {\n    type: \"text\",\n    value: series,\n    className: \"crayons-textfield\",\n    name: \"series\",\n    onKeyUp: onConfigChange,\n    id: \"series\",\n    placeholder: \"...\"\n  }), existingSeries), publishedField, h(Button, {\n    className: \"w-100\",\n    \"data-content\": \"exit\",\n    onClick: toggleMoreConfig\n  }, \"Done\"));\n};\nOptions.propTypes = {\n  passedData: PropTypes.shape({\n    published: PropTypes.bool.isRequired,\n    allSeries: PropTypes.array.isRequired,\n    canonicalUrl: PropTypes.string.isRequired,\n    series: PropTypes.string.isRequired\n  }).isRequired,\n  onSaveDraft: PropTypes.func.isRequired,\n  onConfigChange: PropTypes.func.isRequired,\n  toggleMoreConfig: PropTypes.func.isRequired,\n  moreConfigShowing: PropTypes.bool.isRequired\n};\nOptions.displayName = 'Options';","map":{"version":3,"sources":["/Users/nmadhab/hobby/forem/app/javascript/article-form/components/Options.jsx"],"names":["h","PropTypes","Dropdown","Button","Options","passedData","published","allSeries","canonicalUrl","series","onSaveDraft","onConfigChange","toggleMoreConfig","moreConfigShowing","publishedField","existingSeries","length","seriesNames","map","name","zIndex","propTypes","shape","bool","isRequired","array","string","func","displayName"],"mappings":"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","sourcesContent":["import { h } from 'preact';\nimport PropTypes from 'prop-types';\nimport { Dropdown, Button } from '@crayons';\n\nexport const Options = ({\n  passedData: {\n    published = false,\n    allSeries = [],\n    canonicalUrl = '',\n    series = '',\n  },\n  onSaveDraft,\n  onConfigChange,\n  toggleMoreConfig,\n  moreConfigShowing,\n}) => {\n  let publishedField = '';\n  let existingSeries = '';\n\n  if (allSeries.length > 0) {\n    const seriesNames = allSeries.map((name) => {\n      return <option value={name}>{name}</option>;\n    });\n    existingSeries = (\n      <div className=\"crayons-field__description\">\n        Existing series:\n        {` `}\n        <select\n          value=\"\"\n          name=\"series\"\n          onInput={onConfigChange}\n          required\n          aria-label=\"Select one of the existing series\"\n        >\n          <option value=\"\" disabled>\n            Select...\n          </option>\n          {seriesNames}\n        </select>\n      </div>\n    );\n  }\n\n  if (published) {\n    publishedField = (\n      <div data-testid=\"options__danger-zone\" className=\"crayons-field mb-6\">\n        <div className=\"crayons-field__label color-accent-danger\">\n          Danger Zone\n        </div>\n        <Button variant=\"danger\" onClick={onSaveDraft}>\n          Unpublish post\n        </Button>\n      </div>\n    );\n  }\n  return (\n    <Dropdown\n      className={\n        moreConfigShowing &&\n        'inline-block bottom-2 s:bottom-100 left-2 s:left-0 right-2 s:left-auto'\n      }\n      style={{ zIndex: 100 }}\n    >\n      <h3 className=\"mb-6\">Post options</h3>\n      <div className=\"crayons-field mb-6\">\n        <label htmlFor=\"canonicalUrl\" className=\"crayons-field__label\">\n          Canonical URL\n        </label>\n        <p className=\"crayons-field__description\">\n          Change meta tag\n          {` `}\n          <code>canonical_url</code>\n          {` `}\n          if this post was first published elsewhere (like your own blog).\n        </p>\n        <input\n          type=\"text\"\n          value={canonicalUrl}\n          className=\"crayons-textfield\"\n          placeholder=\"https://yoursite.com/post-title\"\n          name=\"canonicalUrl\"\n          onKeyUp={onConfigChange}\n          id=\"canonicalUrl\"\n        />\n      </div>\n      <div className=\"crayons-field mb-6\">\n        <label htmlFor=\"series\" className=\"crayons-field__label\">\n          Series\n        </label>\n        <p className=\"crayons-field__description\">\n          Will this post be part of a series? Give the series a unique name.\n          (Series visible once it has multiple posts)\n        </p>\n        <input\n          type=\"text\"\n          value={series}\n          className=\"crayons-textfield\"\n          name=\"series\"\n          onKeyUp={onConfigChange}\n          id=\"series\"\n          placeholder=\"...\"\n        />\n        {existingSeries}\n      </div>\n      {publishedField}\n      <Button className=\"w-100\" data-content=\"exit\" onClick={toggleMoreConfig}>\n        Done\n      </Button>\n    </Dropdown>\n  );\n};\n\nOptions.propTypes = {\n  passedData: PropTypes.shape({\n    published: PropTypes.bool.isRequired,\n    allSeries: PropTypes.array.isRequired,\n    canonicalUrl: PropTypes.string.isRequired,\n    series: PropTypes.string.isRequired,\n  }).isRequired,\n  onSaveDraft: PropTypes.func.isRequired,\n  onConfigChange: PropTypes.func.isRequired,\n  toggleMoreConfig: PropTypes.func.isRequired,\n  moreConfigShowing: PropTypes.bool.isRequired,\n};\n\nOptions.displayName = 'Options';\n"]},"metadata":{},"sourceType":"module"}