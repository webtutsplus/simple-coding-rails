{"ast":null,"code":"/** This initializes the mod actions button on the article show page (app/views/articles/show.html.erb). */\nexport default function initializeActionsPanel(user, path) {\n  var modActionsMenuHTML = \"\\n    <iframe id=\\\"mod-container\\\" src=\".concat(path, \"/actions_panel title=\\\"Moderation panel actions\\\">\\n    </iframe>\\n  \");\n  var modActionsMenuIconHTML = \"\\n    <button class=\\\"mod-actions-menu-btn crayons-btn crayons-btn--icon-rounded crayons-btn--s\\\">\\n      <svg\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"54px\\\" height=\\\"54px\\\"\\n        viewBox=\\\"-8 -8 40 40\\\" class=\\\"crayons-icon actions-menu-svg\\\" role=\\\"img\\\"\\n        aria-labelledby=\\\"d6cd43ffbad3fe639e2e95c901ee88c8\\\">\\n        <title id=\\\"d6cd43ffbad3fe639e2e95c901ee88c8\\\">Moderation</title>\\n        <path d=\\\"M3.783 2.826L12 1l8.217 1.826a1 1 0 01.783.976v9.987a6 6 0 01-2.672 4.992L12 23l-6.328-4.219A6 6 0 013 13.79V3.802a1 1 0 01.783-.976zM5 4.604v9.185a4 4 0 001.781 3.328L12 20.597l5.219-3.48A4 4 0 0019 13.79V4.604L12 3.05 5 4.604zM13 10h3l-5 7v-5H8l5-7v5z\\\"></path>\\n      </svg>\\n    </button>\\n  \";\n\n  function toggleModActionsMenu() {\n    document.getElementsByClassName('mod-actions-menu')[0].classList.toggle('showing');\n    document.getElementsByClassName('mod-actions-menu-btn')[0].classList.toggle('hidden'); // showing close icon in the mod panel if it is opened by clicking the button\n\n    var modContainer = document.getElementById('mod-container');\n    var panelDocument = modContainer.contentDocument;\n    panelDocument.getElementsByClassName('close-actions-panel')[0].classList.remove('hidden');\n  }\n\n  document.getElementsByClassName('mod-actions-menu')[0].innerHTML = modActionsMenuHTML; // eslint-disable-next-line no-restricted-globals\n\n  if (!top.document.location.pathname.includes('/mod')) {\n    // don't show mod button in mod center page\n    document.getElementById('mod-actions-menu-btn-area').innerHTML = modActionsMenuIconHTML;\n    document.getElementsByClassName('mod-actions-menu-btn')[0].addEventListener('click', toggleModActionsMenu);\n  }\n}","map":{"version":3,"sources":["/Users/nmadhab/hobby/forem/app/javascript/actionsPanel/initializeActionsPanelToggle.js"],"names":["initializeActionsPanel","user","path","modActionsMenuHTML","modActionsMenuIconHTML","toggleModActionsMenu","document","getElementsByClassName","classList","toggle","modContainer","getElementById","panelDocument","contentDocument","remove","innerHTML","top","location","pathname","includes","addEventListener"],"mappings":"AAAA;AACA,eAAe,SAASA,sBAAT,CAAgCC,IAAhC,EAAsCC,IAAtC,EAA4C;AACzD,MAAMC,kBAAkB,oDACWD,IADX,0EAAxB;AAKA,MAAME,sBAAsB,4tBAA5B;;AAYA,WAASC,oBAAT,GAAgC;AAC9BC,IAAAA,QAAQ,CACLC,sBADH,CAC0B,kBAD1B,EAC8C,CAD9C,EAEGC,SAFH,CAEaC,MAFb,CAEoB,SAFpB;AAGAH,IAAAA,QAAQ,CACLC,sBADH,CAC0B,sBAD1B,EACkD,CADlD,EAEGC,SAFH,CAEaC,MAFb,CAEoB,QAFpB,EAJ8B,CAQ9B;;AACA,QAAMC,YAAY,GAAGJ,QAAQ,CAACK,cAAT,CAAwB,eAAxB,CAArB;AACA,QAAMC,aAAa,GAAGF,YAAY,CAACG,eAAnC;AAEAD,IAAAA,aAAa,CACVL,sBADH,CAC0B,qBAD1B,EACiD,CADjD,EAEGC,SAFH,CAEaM,MAFb,CAEoB,QAFpB;AAGD;;AAEDR,EAAAA,QAAQ,CAACC,sBAAT,CACE,kBADF,EAEE,CAFF,EAEKQ,SAFL,GAEiBZ,kBAFjB,CAnCyD,CAsCzD;;AACA,MAAI,CAACa,GAAG,CAACV,QAAJ,CAAaW,QAAb,CAAsBC,QAAtB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAL,EAAsD;AACpD;AACAb,IAAAA,QAAQ,CAACK,cAAT,CACE,2BADF,EAEEI,SAFF,GAEcX,sBAFd;AAGAE,IAAAA,QAAQ,CACLC,sBADH,CAC0B,sBAD1B,EACkD,CADlD,EAEGa,gBAFH,CAEoB,OAFpB,EAE6Bf,oBAF7B;AAGD;AACF","sourcesContent":["/** This initializes the mod actions button on the article show page (app/views/articles/show.html.erb). */\nexport default function initializeActionsPanel(user, path) {\n  const modActionsMenuHTML = `\n    <iframe id=\"mod-container\" src=${path}/actions_panel title=\"Moderation panel actions\">\n    </iframe>\n  `;\n\n  const modActionsMenuIconHTML = `\n    <button class=\"mod-actions-menu-btn crayons-btn crayons-btn--icon-rounded crayons-btn--s\">\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\" width=\"54px\" height=\"54px\"\n        viewBox=\"-8 -8 40 40\" class=\"crayons-icon actions-menu-svg\" role=\"img\"\n        aria-labelledby=\"d6cd43ffbad3fe639e2e95c901ee88c8\">\n        <title id=\"d6cd43ffbad3fe639e2e95c901ee88c8\">Moderation</title>\n        <path d=\"M3.783 2.826L12 1l8.217 1.826a1 1 0 01.783.976v9.987a6 6 0 01-2.672 4.992L12 23l-6.328-4.219A6 6 0 013 13.79V3.802a1 1 0 01.783-.976zM5 4.604v9.185a4 4 0 001.781 3.328L12 20.597l5.219-3.48A4 4 0 0019 13.79V4.604L12 3.05 5 4.604zM13 10h3l-5 7v-5H8l5-7v5z\"></path>\n      </svg>\n    </button>\n  `;\n\n  function toggleModActionsMenu() {\n    document\n      .getElementsByClassName('mod-actions-menu')[0]\n      .classList.toggle('showing');\n    document\n      .getElementsByClassName('mod-actions-menu-btn')[0]\n      .classList.toggle('hidden');\n\n    // showing close icon in the mod panel if it is opened by clicking the button\n    const modContainer = document.getElementById('mod-container');\n    const panelDocument = modContainer.contentDocument;\n\n    panelDocument\n      .getElementsByClassName('close-actions-panel')[0]\n      .classList.remove('hidden');\n  }\n\n  document.getElementsByClassName(\n    'mod-actions-menu',\n  )[0].innerHTML = modActionsMenuHTML;\n  // eslint-disable-next-line no-restricted-globals\n  if (!top.document.location.pathname.includes('/mod')) {\n    // don't show mod button in mod center page\n    document.getElementById(\n      'mod-actions-menu-btn-area',\n    ).innerHTML = modActionsMenuIconHTML;\n    document\n      .getElementsByClassName('mod-actions-menu-btn')[0]\n      .addEventListener('click', toggleModActionsMenu);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}