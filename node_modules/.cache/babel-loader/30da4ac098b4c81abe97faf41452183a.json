{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { h, Component } from 'preact';\nimport PropTypes from 'prop-types';\nimport Article from './article';\nimport ChannelRequest from './channelRequest';\nimport RequestManager from './RequestManager/RequestManager';\nimport ChatChannelSettings from './ChatChannelSettings/ChatChannelSettings';\nimport Draw from './draw';\nimport ReportAbuse from './ReportAbuse';\n\nvar smartSvgIcon = function smartSvgIcon(content, d) {\n  return h(\"svg\", {\n    \"data-content\": content,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    width: \"24\",\n    height: \"24\"\n  }, h(\"path\", {\n    \"data-content\": content,\n    fill: \"none\",\n    d: \"M0 0h24v24H0z\"\n  }), h(\"path\", {\n    \"data-content\": content,\n    d: d\n  }));\n};\n\nvar Content = /*#__PURE__*/function (_Component) {\n  _inherits(Content, _Component);\n\n  var _super = _createSuper(Content);\n\n  function Content() {\n    _classCallCheck(this, Content);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Content, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          onTriggerContent = _this$props.onTriggerContent,\n          fullscreen = _this$props.fullscreen,\n          resource = _this$props.resource,\n          closeReportAbuseForm = _this$props.closeReportAbuseForm;\n\n      if (!resource) {\n        return '';\n      }\n\n      return (// TODO: A button (role=\"button\") cannot contain other interactive elements, i.e. buttons.\n        // TODO: These should have key click events as well.\n        h(\"div\", {\n          className: \"activechatchannel__activecontent activechatchannel__activecontent--sidecar\",\n          id: \"chat_activecontent\",\n          onClick: onTriggerContent,\n          role: \"button\",\n          tabIndex: \"0\",\n          \"aria-hidden\": \"true\"\n        }, h(\"button\", {\n          type: \"button\",\n          className: \"activechatchannel__activecontentexitbutton crayons-btn crayons-btn--secondary\",\n          \"data-content\": \"exit\",\n          title: \"exit\"\n        }, smartSvgIcon('exit', 'M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z')), h(\"button\", {\n          type: \"button\",\n          className: \"activechatchannel__activecontentexitbutton activechatchannel__activecontentexitbutton--fullscreen crayons-btn crayons-btn--secondary\",\n          \"data-content\": \"fullscreen\",\n          style: {\n            left: '39px'\n          },\n          title: \"fullscreen\"\n        }, ' ', fullscreen ? smartSvgIcon('fullscreen', 'M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z') : smartSvgIcon('fullscreen', 'M20 3h2v6h-2V5h-4V3h4zM4 3h4v2H4v4H2V3h2zm16 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z')), h(Display, {\n          resource: resource,\n          closeReportAbuseForm: closeReportAbuseForm\n        }))\n      );\n    }\n  }]);\n\n  return Content;\n}(Component);\n\n_defineProperty(Content, \"propTypes\", {\n  resource: PropTypes.shape({\n    data: PropTypes.any,\n    type_of: PropTypes.string.isRequired,\n    handleRequestRejection: PropTypes.func,\n    handleRequestApproval: PropTypes.func,\n    handleJoiningRequest: PropTypes.func,\n    activeMembershipId: PropTypes.func,\n    sendCanvasImage: PropTypes.func\n  }).isRequired,\n  fullscreen: PropTypes.bool.isRequired,\n  onTriggerContent: PropTypes.func.isRequired,\n  updateRequestCount: PropTypes.func.isRequired,\n  closeReportAbuseForm: PropTypes.func.isRequired\n});\n\nexport { Content as default };\n\nfunction Display(_ref) {\n  var resource = _ref.resource,\n      closeReportAbuseForm = _ref.closeReportAbuseForm;\n\n  switch (resource.type_of) {\n    case 'loading-user':\n      return h(\"div\", {\n        className: \"loading-user\",\n        title: \"Loading user\"\n      });\n\n    case 'article':\n      return h(Article, {\n        resource: resource\n      });\n\n    case 'draw':\n      return h(Draw, {\n        sendCanvasImage: resource.sendCanvasImage\n      });\n\n    case 'channel-request':\n      return h(ChannelRequest, {\n        resource: resource.data,\n        handleJoiningRequest: resource.handleJoiningRequest\n      });\n\n    case 'channel-request-manager':\n      return h(RequestManager, {\n        resource: resource.data,\n        updateRequestCount: resource.updateRequestCount\n      });\n\n    case 'chat-channel-setting':\n      return h(ChatChannelSettings, {\n        resource: resource.data,\n        activeMembershipId: resource.activeMembershipId,\n        handleLeavingChannel: resource.handleLeavingChannel\n      });\n\n    case 'message-report-abuse':\n      return h(ReportAbuse, {\n        data: resource.data,\n        closeReportAbuseForm: closeReportAbuseForm\n      });\n\n    default:\n      return null;\n  }\n}","map":{"version":3,"sources":["/Users/nmadhab/hobby/forem/app/javascript/chat/content.jsx"],"names":["h","Component","PropTypes","Article","ChannelRequest","RequestManager","ChatChannelSettings","Draw","ReportAbuse","smartSvgIcon","content","d","Content","props","onTriggerContent","fullscreen","resource","closeReportAbuseForm","left","shape","data","any","type_of","string","isRequired","handleRequestRejection","func","handleRequestApproval","handleJoiningRequest","activeMembershipId","sendCanvasImage","bool","updateRequestCount","Display","handleLeavingChannel"],"mappings":"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","sourcesContent":["import { h, Component } from 'preact';\nimport PropTypes from 'prop-types';\nimport Article from './article';\nimport ChannelRequest from './channelRequest';\nimport RequestManager from './RequestManager/RequestManager';\nimport ChatChannelSettings from './ChatChannelSettings/ChatChannelSettings';\nimport Draw from './draw';\nimport ReportAbuse from './ReportAbuse';\n\nconst smartSvgIcon = (content, d) => (\n  <svg\n    data-content={content}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path data-content={content} fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path data-content={content} d={d} />\n  </svg>\n);\n\nexport default class Content extends Component {\n  static propTypes = {\n    resource: PropTypes.shape({\n      data: PropTypes.any,\n      type_of: PropTypes.string.isRequired,\n      handleRequestRejection: PropTypes.func,\n      handleRequestApproval: PropTypes.func,\n      handleJoiningRequest: PropTypes.func,\n      activeMembershipId: PropTypes.func,\n      sendCanvasImage: PropTypes.func,\n    }).isRequired,\n    fullscreen: PropTypes.bool.isRequired,\n    onTriggerContent: PropTypes.func.isRequired,\n    updateRequestCount: PropTypes.func.isRequired,\n    closeReportAbuseForm: PropTypes.func.isRequired,\n  };\n\n  render() {\n    const {\n      onTriggerContent,\n      fullscreen,\n      resource,\n      closeReportAbuseForm,\n    } = this.props;\n    if (!resource) {\n      return '';\n    }\n\n    return (\n      // TODO: A button (role=\"button\") cannot contain other interactive elements, i.e. buttons.\n      // TODO: These should have key click events as well.\n      <div\n        className=\"activechatchannel__activecontent activechatchannel__activecontent--sidecar\"\n        id=\"chat_activecontent\"\n        onClick={onTriggerContent}\n        role=\"button\"\n        tabIndex=\"0\"\n        aria-hidden=\"true\"\n      >\n        <button\n          type=\"button\"\n          className=\"activechatchannel__activecontentexitbutton crayons-btn crayons-btn--secondary\"\n          data-content=\"exit\"\n          title=\"exit\"\n        >\n          {smartSvgIcon(\n            'exit',\n            'M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z',\n          )}\n        </button>\n        <button\n          type=\"button\"\n          className=\"activechatchannel__activecontentexitbutton activechatchannel__activecontentexitbutton--fullscreen crayons-btn crayons-btn--secondary\"\n          data-content=\"fullscreen\"\n          style={{ left: '39px' }}\n          title=\"fullscreen\"\n        >\n          {' '}\n          {fullscreen\n            ? smartSvgIcon(\n                'fullscreen',\n                'M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z',\n              )\n            : smartSvgIcon(\n                'fullscreen',\n                'M20 3h2v6h-2V5h-4V3h4zM4 3h4v2H4v4H2V3h2zm16 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z',\n              )}\n        </button>\n        <Display\n          resource={resource}\n          closeReportAbuseForm={closeReportAbuseForm}\n        />\n      </div>\n    );\n  }\n}\n\nfunction Display({ resource, closeReportAbuseForm }) {\n  switch (resource.type_of) {\n    case 'loading-user':\n      return <div className=\"loading-user\" title=\"Loading user\" />;\n    case 'article':\n      return <Article resource={resource} />;\n    case 'draw':\n      return <Draw sendCanvasImage={resource.sendCanvasImage} />;\n    case 'channel-request':\n      return (\n        <ChannelRequest\n          resource={resource.data}\n          handleJoiningRequest={resource.handleJoiningRequest}\n        />\n      );\n    case 'channel-request-manager':\n      return (\n        <RequestManager\n          resource={resource.data}\n          updateRequestCount={resource.updateRequestCount}\n        />\n      );\n    case 'chat-channel-setting':\n      return (\n        <ChatChannelSettings\n          resource={resource.data}\n          activeMembershipId={resource.activeMembershipId}\n          handleLeavingChannel={resource.handleLeavingChannel}\n        />\n      );\n    case 'message-report-abuse':\n      return (\n        <ReportAbuse\n          data={resource.data}\n          closeReportAbuseForm={closeReportAbuseForm}\n        />\n      );\n    default:\n      return null;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}