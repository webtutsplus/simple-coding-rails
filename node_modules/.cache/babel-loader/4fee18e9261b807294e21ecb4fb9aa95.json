{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { h, Component } from 'preact';\nimport PropTypes from 'prop-types';\nimport { articlePropTypes } from '../../common-prop-types';\nexport var SaveButton = /*#__PURE__*/function (_Component) {\n  _inherits(SaveButton, _Component);\n\n  var _super = _createSuper(SaveButton);\n\n  function SaveButton(props) {\n    var _this;\n\n    _classCallCheck(this, SaveButton);\n\n    _this = _super.call(this, props);\n    var isBookmarked = props.isBookmarked;\n    _this.state = {\n      buttonText: isBookmarked ? 'Saved' : 'Save'\n    };\n    return _this;\n  }\n\n  _createClass(SaveButton, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var buttonText = this.state.buttonText;\n      var _this$props = this.props,\n          article = _this$props.article,\n          isBookmarked = _this$props.isBookmarked,\n          onClick = _this$props.onClick;\n\n      var mouseMove = function mouseMove(_e) {\n        _this2.setState({\n          buttonText: isBookmarked ? 'Unsave' : 'Save'\n        });\n      };\n\n      var mouseOut = function mouseOut(_e) {\n        _this2.setState({\n          buttonText: isBookmarked ? 'Saved' : 'Save'\n        });\n      };\n\n      var handleClick = function handleClick(_e) {\n        onClick(_e);\n\n        _this2.setState({\n          buttonText: isBookmarked ? 'Save' : 'Saved',\n          isBookmarked: !isBookmarked\n        });\n      };\n\n      if (article.class_name === 'Article') {\n        return h(\"button\", {\n          type: \"button\",\n          id: \"article-save-button-\".concat(article.id),\n          className: \"crayons-btn crayons-btn--s \".concat(isBookmarked ? 'crayons-btn--ghost' : 'crayons-btn--secondary'),\n          \"data-initial-feed\": true,\n          \"data-reactable-id\": article.id,\n          onClick: handleClick,\n          onMouseMove: mouseMove,\n          onFocus: mouseMove,\n          onMouseout: mouseOut,\n          onBlur: mouseOut\n        }, buttonText);\n      }\n\n      if (article.class_name === 'User') {\n        return h(\"button\", {\n          type: \"button\",\n          className: \"crayons-btn crayons-btn--secondary fs-s\",\n          \"data-info\": \"{\\\"id\\\":\".concat(article.id, \",\\\"className\\\":\\\"User\\\"}\"),\n          \"data-follow-action-button\": true\n        }, \"\\xA0\");\n      }\n\n      return null;\n    }\n  }]);\n\n  return SaveButton;\n}(Component);\nSaveButton.propTypes = {\n  article: articlePropTypes.isRequired,\n  isBookmarked: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired\n};\nSaveButton.displayName = 'SaveButton';","map":{"version":3,"sources":["/Users/nmadhab/hobby/forem/app/javascript/articles/components/SaveButton.jsx"],"names":["h","Component","PropTypes","articlePropTypes","SaveButton","props","isBookmarked","state","buttonText","article","onClick","mouseMove","_e","setState","mouseOut","handleClick","class_name","id","propTypes","isRequired","bool","func","displayName"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,CAAT,EAAYC,SAAZ,QAA6B,QAA7B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,gBAAT,QAAiC,yBAAjC;AAEA,WAAaC,UAAb;AAAA;;AAAA;;AACE,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AADiB,QAGTC,YAHS,GAGQD,KAHR,CAGTC,YAHS;AAKjB,UAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAEF,YAAY,GAAG,OAAH,GAAa;AAD1B,KAAb;AALiB;AAQlB;;AATH;AAAA;AAAA,6BAWW;AAAA;;AAAA,UACCE,UADD,GACgB,KAAKD,KADrB,CACCC,UADD;AAAA,wBAEoC,KAAKH,KAFzC;AAAA,UAECI,OAFD,eAECA,OAFD;AAAA,UAEUH,YAFV,eAEUA,YAFV;AAAA,UAEwBI,OAFxB,eAEwBA,OAFxB;;AAIP,UAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,EAAD,EAAQ;AACxB,QAAA,MAAI,CAACC,QAAL,CAAc;AAAEL,UAAAA,UAAU,EAAEF,YAAY,GAAG,QAAH,GAAc;AAAxC,SAAd;AACD,OAFD;;AAIA,UAAMQ,QAAQ,GAAG,SAAXA,QAAW,CAACF,EAAD,EAAQ;AACvB,QAAA,MAAI,CAACC,QAAL,CAAc;AAAEL,UAAAA,UAAU,EAAEF,YAAY,GAAG,OAAH,GAAa;AAAvC,SAAd;AACD,OAFD;;AAIA,UAAMS,WAAW,GAAG,SAAdA,WAAc,CAACH,EAAD,EAAQ;AAC1BF,QAAAA,OAAO,CAACE,EAAD,CAAP;;AACA,QAAA,MAAI,CAACC,QAAL,CAAc;AACZL,UAAAA,UAAU,EAAEF,YAAY,GAAG,MAAH,GAAY,OADxB;AAEZA,UAAAA,YAAY,EAAE,CAACA;AAFH,SAAd;AAID,OAND;;AAQA,UAAIG,OAAO,CAACO,UAAR,KAAuB,SAA3B,EAAsC;AACpC,eACE;AACE,UAAA,IAAI,EAAC,QADP;AAEE,UAAA,EAAE,gCAAyBP,OAAO,CAACQ,EAAjC,CAFJ;AAGE,UAAA,SAAS,uCACPX,YAAY,GAAG,oBAAH,GAA0B,wBAD/B,CAHX;AAME,mCANF;AAOE,+BAAmBG,OAAO,CAACQ,EAP7B;AAQE,UAAA,OAAO,EAAEF,WARX;AASE,UAAA,WAAW,EAAEJ,SATf;AAUE,UAAA,OAAO,EAAEA,SAVX;AAWE,UAAA,UAAU,EAAEG,QAXd;AAYE,UAAA,MAAM,EAAEA;AAZV,WAcGN,UAdH,CADF;AAkBD;;AACD,UAAIC,OAAO,CAACO,UAAR,KAAuB,MAA3B,EAAmC;AACjC,eACE;AACE,UAAA,IAAI,EAAC,QADP;AAEE,UAAA,SAAS,EAAC,yCAFZ;AAGE,yCAAoBP,OAAO,CAACQ,EAA5B,6BAHF;AAIE;AAJF,kBADF;AAUD;;AAED,aAAO,IAAP;AACD;AAjEH;;AAAA;AAAA,EAAgChB,SAAhC;AAoEAG,UAAU,CAACc,SAAX,GAAuB;AACrBT,EAAAA,OAAO,EAAEN,gBAAgB,CAACgB,UADL;AAErBb,EAAAA,YAAY,EAAEJ,SAAS,CAACkB,IAAV,CAAeD,UAFR;AAGrBT,EAAAA,OAAO,EAAER,SAAS,CAACmB,IAAV,CAAeF;AAHH,CAAvB;AAMAf,UAAU,CAACkB,WAAX,GAAyB,YAAzB","sourcesContent":["import { h, Component } from 'preact';\nimport PropTypes from 'prop-types';\nimport { articlePropTypes } from '../../common-prop-types';\n\nexport class SaveButton extends Component {\n  constructor(props) {\n    super(props);\n\n    const { isBookmarked } = props;\n\n    this.state = {\n      buttonText: isBookmarked ? 'Saved' : 'Save',\n    };\n  }\n\n  render() {\n    const { buttonText } = this.state;\n    const { article, isBookmarked, onClick } = this.props;\n\n    const mouseMove = (_e) => {\n      this.setState({ buttonText: isBookmarked ? 'Unsave' : 'Save' });\n    };\n\n    const mouseOut = (_e) => {\n      this.setState({ buttonText: isBookmarked ? 'Saved' : 'Save' });\n    };\n\n    const handleClick = (_e) => {\n      onClick(_e);\n      this.setState({\n        buttonText: isBookmarked ? 'Save' : 'Saved',\n        isBookmarked: !isBookmarked,\n      });\n    };\n\n    if (article.class_name === 'Article') {\n      return (\n        <button\n          type=\"button\"\n          id={`article-save-button-${article.id}`}\n          className={`crayons-btn crayons-btn--s ${\n            isBookmarked ? 'crayons-btn--ghost' : 'crayons-btn--secondary'\n          }`}\n          data-initial-feed\n          data-reactable-id={article.id}\n          onClick={handleClick}\n          onMouseMove={mouseMove}\n          onFocus={mouseMove}\n          onMouseout={mouseOut}\n          onBlur={mouseOut}\n        >\n          {buttonText}\n        </button>\n      );\n    }\n    if (article.class_name === 'User') {\n      return (\n        <button\n          type=\"button\"\n          className=\"crayons-btn crayons-btn--secondary fs-s\"\n          data-info={`{\"id\":${article.id},\"className\":\"User\"}`}\n          data-follow-action-button\n        >\n          &nbsp;\n        </button>\n      );\n    }\n\n    return null;\n  }\n}\n\nSaveButton.propTypes = {\n  article: articlePropTypes.isRequired,\n  isBookmarked: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nSaveButton.displayName = 'SaveButton';\n"]},"metadata":{},"sourceType":"module"}