{"ast":null,"code":"import { h } from 'preact';\nimport PropTypes from 'prop-types';\nimport { Button } from '@crayons';\n\nvar MessageModal = function MessageModal(_ref) {\n  var currentUserId = _ref.currentUserId,\n      message = _ref.message,\n      listing = _ref.listing,\n      onSubmit = _ref.onSubmit,\n      onChangeDraftingMessage = _ref.onChangeDraftingMessage;\n  var isCurrentUserOnListing = listing.user_id === currentUserId;\n  return h(\"form\", {\n    \"data-testid\": \"listings-message-modal\",\n    id: \"listings-message-form\",\n    onSubmit: onSubmit\n  }, h(\"header\", {\n    className: \"mb-4\"\n  }, h(\"h2\", {\n    className: \"fs-xl fw-bold lh-tight\"\n  }, \"Interested?\"), isCurrentUserOnListing ? h(\"p\", {\n    className: \"color-base-70\"\n  }, \"This is your active listing. Any member can contact you via this form.\") : h(\"p\", {\n    className: \"color-base-70\"\n  }, \"Message \", \" \".concat(listing.author.name, \" \"))), h(\"textarea\", {\n    value: message,\n    onChange: onChangeDraftingMessage,\n    \"data-testid\": \"listing-new-message\",\n    id: \"new-message\",\n    className: \"crayons-textfield mb-0\",\n    placeholder: \"Enter your message here...\",\n    \"aria-label\": \"Message\"\n  }), h(\"p\", {\n    className: \"mb-4 fs-s color-base-60\"\n  }, isCurrentUserOnListing && 'Message must be relevant and on-topic with the listing.', \"All private interactions \", h(\"b\", null, \"must\"), \" abide by the\", ' ', h(\"a\", {\n    href: \"/code-of-conduct\",\n    className: \"crayons-link crayons-link--brand\"\n  }, \"Code of Conduct\"), \".\"), h(\"div\", {\n    className: \"flex\"\n  }, h(Button, {\n    variant: \"primary\",\n    className: \"mr-2\",\n    tagName: \"button\",\n    type: \"submit\"\n  }, \"Send\")));\n};\n\nMessageModal.propTypes = {\n  currentUserId: PropTypes.number.isRequired,\n  message: PropTypes.string.isRequired,\n  listing: PropTypes.shape({\n    author: PropTypes.shape({\n      name: PropTypes.string.isRequired\n    }).isRequired,\n    user_id: PropTypes.number.isRequired\n  }).isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onChangeDraftingMessage: PropTypes.func.isRequired\n};\nexport default MessageModal;","map":{"version":3,"sources":["/Users/nmadhab/hobby/forem/app/javascript/listings/components/MessageModal.jsx"],"names":["h","PropTypes","Button","MessageModal","currentUserId","message","listing","onSubmit","onChangeDraftingMessage","isCurrentUserOnListing","user_id","author","name","propTypes","number","isRequired","string","shape","func"],"mappings":"AAAA,SAASA,CAAT,QAAkB,QAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,MAAT,QAAuB,UAAvB;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAMf;AAAA,MALJC,aAKI,QALJA,aAKI;AAAA,MAJJC,OAII,QAJJA,OAII;AAAA,MAHJC,OAGI,QAHJA,OAGI;AAAA,MAFJC,QAEI,QAFJA,QAEI;AAAA,MADJC,uBACI,QADJA,uBACI;AACJ,MAAMC,sBAAsB,GAAGH,OAAO,CAACI,OAAR,KAAoBN,aAAnD;AAEA,SACE;AACE,mBAAY,wBADd;AAEE,IAAA,EAAE,EAAC,uBAFL;AAGE,IAAA,QAAQ,EAAEG;AAHZ,KAKE;AAAQ,IAAA,SAAS,EAAC;AAAlB,KACE;AAAI,IAAA,SAAS,EAAC;AAAd,mBADF,EAEGE,sBAAsB,GACrB;AAAG,IAAA,SAAS,EAAC;AAAb,8EADqB,GAMrB;AAAG,IAAA,SAAS,EAAC;AAAb,4BAA0CH,OAAO,CAACK,MAAR,CAAeC,IAAzD,OARJ,CALF,EAgBE;AACE,IAAA,KAAK,EAAEP,OADT;AAEE,IAAA,QAAQ,EAAEG,uBAFZ;AAGE,mBAAY,qBAHd;AAIE,IAAA,EAAE,EAAC,aAJL;AAKE,IAAA,SAAS,EAAC,wBALZ;AAME,IAAA,WAAW,EAAC,4BANd;AAOE,kBAAW;AAPb,IAhBF,EAyBE;AAAG,IAAA,SAAS,EAAC;AAAb,KACGC,sBAAsB,IACrB,yDAFJ,+BAG2B,oBAH3B,mBAGoD,GAHpD,EAIE;AAAG,IAAA,IAAI,EAAC,kBAAR;AAA2B,IAAA,SAAS,EAAC;AAArC,uBAJF,MAzBF,EAkCE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE,EAAC,MAAD;AACE,IAAA,OAAO,EAAC,SADV;AAEE,IAAA,SAAS,EAAC,MAFZ;AAGE,IAAA,OAAO,EAAC,QAHV;AAIE,IAAA,IAAI,EAAC;AAJP,YADF,CAlCF,CADF;AA+CD,CAxDD;;AA0DAN,YAAY,CAACU,SAAb,GAAyB;AACvBT,EAAAA,aAAa,EAAEH,SAAS,CAACa,MAAV,CAAiBC,UADT;AAEvBV,EAAAA,OAAO,EAAEJ,SAAS,CAACe,MAAV,CAAiBD,UAFH;AAGvBT,EAAAA,OAAO,EAAEL,SAAS,CAACgB,KAAV,CAAgB;AACvBN,IAAAA,MAAM,EAAEV,SAAS,CAACgB,KAAV,CAAgB;AACtBL,MAAAA,IAAI,EAAEX,SAAS,CAACe,MAAV,CAAiBD;AADD,KAAhB,EAELA,UAHoB;AAIvBL,IAAAA,OAAO,EAAET,SAAS,CAACa,MAAV,CAAiBC;AAJH,GAAhB,EAKNA,UARoB;AASvBR,EAAAA,QAAQ,EAAEN,SAAS,CAACiB,IAAV,CAAeH,UATF;AAUvBP,EAAAA,uBAAuB,EAAEP,SAAS,CAACiB,IAAV,CAAeH;AAVjB,CAAzB;AAaA,eAAeZ,YAAf","sourcesContent":["import { h } from 'preact';\nimport PropTypes from 'prop-types';\nimport { Button } from '@crayons';\n\nconst MessageModal = ({\n  currentUserId,\n  message,\n  listing,\n  onSubmit,\n  onChangeDraftingMessage,\n}) => {\n  const isCurrentUserOnListing = listing.user_id === currentUserId;\n\n  return (\n    <form\n      data-testid=\"listings-message-modal\"\n      id=\"listings-message-form\"\n      onSubmit={onSubmit}\n    >\n      <header className=\"mb-4\">\n        <h2 className=\"fs-xl fw-bold lh-tight\">Interested?</h2>\n        {isCurrentUserOnListing ? (\n          <p className=\"color-base-70\">\n            This is your active listing. Any member can contact you via this\n            form.\n          </p>\n        ) : (\n          <p className=\"color-base-70\">Message {` ${listing.author.name} `}</p>\n        )}\n      </header>\n      <textarea\n        value={message}\n        onChange={onChangeDraftingMessage}\n        data-testid=\"listing-new-message\"\n        id=\"new-message\"\n        className=\"crayons-textfield mb-0\"\n        placeholder=\"Enter your message here...\"\n        aria-label=\"Message\"\n      />\n      <p className=\"mb-4 fs-s color-base-60\">\n        {isCurrentUserOnListing &&\n          'Message must be relevant and on-topic with the listing.'}\n        All private interactions <b>must</b> abide by the{' '}\n        <a href=\"/code-of-conduct\" className=\"crayons-link crayons-link--brand\">\n          Code of Conduct\n        </a>\n        .\n      </p>\n      <div className=\"flex\">\n        <Button\n          variant=\"primary\"\n          className=\"mr-2\"\n          tagName=\"button\"\n          type=\"submit\"\n        >\n          Send\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nMessageModal.propTypes = {\n  currentUserId: PropTypes.number.isRequired,\n  message: PropTypes.string.isRequired,\n  listing: PropTypes.shape({\n    author: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n    }).isRequired,\n    user_id: PropTypes.number.isRequired,\n  }).isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onChangeDraftingMessage: PropTypes.func.isRequired,\n};\n\nexport default MessageModal;\n"]},"metadata":{},"sourceType":"module"}