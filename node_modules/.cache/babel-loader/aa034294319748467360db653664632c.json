{"ast":null,"code":"export var jsonToForm = function jsonToForm(data) {\n  var form = new FormData();\n  data.forEach(function (item) {\n    return form.append(item.key, item.value);\n  });\n  return form;\n};\nexport var getContentOfToken = function getContentOfToken(token) {\n  return document.querySelector(\"meta[name='\".concat(token, \"']\")).content;\n};\nexport var updateOnboarding = function updateOnboarding(lastPage) {\n  var csrfToken = getContentOfToken('csrf-token');\n  fetch('/onboarding_update', {\n    method: 'PATCH',\n    headers: {\n      'X-CSRF-Token': csrfToken,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      user: {\n        last_onboarding_page: lastPage\n      }\n    }),\n    credentials: 'same-origin'\n  });\n};\n/**\n * A util function to fetch the user's data from off of the document's body.\n *\n *\n * @returns {Object} A JSON object with the parsed user data.\n */\n\nexport var userData = function userData() {\n  var _document$body$datase = document.body.dataset.user,\n      user = _document$body$datase === void 0 ? null : _document$body$datase;\n  return JSON.parse(user);\n};","map":{"version":3,"sources":["/Users/nmadhab/hobby/forem/app/javascript/onboarding/utilities.js"],"names":["jsonToForm","data","form","FormData","forEach","item","append","key","value","getContentOfToken","token","document","querySelector","content","updateOnboarding","lastPage","csrfToken","fetch","method","headers","body","JSON","stringify","user","last_onboarding_page","credentials","userData","dataset","parse"],"mappings":"AAAA,OAAO,IAAMA,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAU;AAClC,MAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAF,EAAAA,IAAI,CAACG,OAAL,CAAa,UAACC,IAAD;AAAA,WAAUH,IAAI,CAACI,MAAL,CAAYD,IAAI,CAACE,GAAjB,EAAsBF,IAAI,CAACG,KAA3B,CAAV;AAAA,GAAb;AACA,SAAON,IAAP;AACD,CAJM;AAMP,OAAO,IAAMO,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,KAAD;AAAA,SAC/BC,QAAQ,CAACC,aAAT,sBAAqCF,KAArC,SAAgDG,OADjB;AAAA,CAA1B;AAGP,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,QAAD,EAAc;AAC5C,MAAMC,SAAS,GAAGP,iBAAiB,CAAC,YAAD,CAAnC;AACAQ,EAAAA,KAAK,CAAC,oBAAD,EAAuB;AAC1BC,IAAAA,MAAM,EAAE,OADkB;AAE1BC,IAAAA,OAAO,EAAE;AACP,sBAAgBH,SADT;AAEP,sBAAgB;AAFT,KAFiB;AAM1BI,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,MAAAA,IAAI,EAAE;AAAEC,QAAAA,oBAAoB,EAAET;AAAxB;AAAR,KAAf,CANoB;AAO1BU,IAAAA,WAAW,EAAE;AAPa,GAAvB,CAAL;AASD,CAXM;AAaP;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA,8BACJf,QAAQ,CAACS,IAAT,CAAcO,OADV,CACpBJ,IADoB;AAAA,MACpBA,IADoB,sCACb,IADa;AAE5B,SAAOF,IAAI,CAACO,KAAL,CAAWL,IAAX,CAAP;AACD,CAHM","sourcesContent":["export const jsonToForm = (data) => {\n  const form = new FormData();\n  data.forEach((item) => form.append(item.key, item.value));\n  return form;\n};\n\nexport const getContentOfToken = (token) =>\n  document.querySelector(`meta[name='${token}']`).content;\n\nexport const updateOnboarding = (lastPage) => {\n  const csrfToken = getContentOfToken('csrf-token');\n  fetch('/onboarding_update', {\n    method: 'PATCH',\n    headers: {\n      'X-CSRF-Token': csrfToken,\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ user: { last_onboarding_page: lastPage } }),\n    credentials: 'same-origin',\n  });\n};\n\n/**\n * A util function to fetch the user's data from off of the document's body.\n *\n *\n * @returns {Object} A JSON object with the parsed user data.\n */\nexport const userData = () => {\n  const { user = null } = document.body.dataset;\n  return JSON.parse(user);\n};\n"]},"metadata":{},"sourceType":"module"}