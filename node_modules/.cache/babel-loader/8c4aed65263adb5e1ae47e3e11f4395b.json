{"ast":null,"code":"export default function sendFollowUser(user, successCb) {\n  var csrfToken = document.querySelector(\"meta[name='csrf-token']\").content;\n  var formData = new FormData();\n  formData.append('followable_type', 'User');\n  formData.append('followable_id', user.id);\n  formData.append('verb', user.following ? 'unfollow' : 'follow');\n  fetch('/follows', {\n    method: 'POST',\n    headers: {\n      'X-CSRF-Token': csrfToken\n    },\n    body: formData,\n    credentials: 'same-origin'\n  }).then(function (response) {\n    return response.json();\n  }).then(function (json) {\n    successCb(json.outcome); // json is followed or unfollowed\n  })[\"catch\"](function (error) {\n    // TODO: Add client-side error tracking. See https://github.com/thepracticaldev/dev.to/issues/2501\n    // for the discussion.\n    console.log(error); // eslint-disable-line no-console\n  });\n}","map":{"version":3,"sources":["/Users/nmadhab/hobby/forem/app/javascript/utilities/sendFollowUser.js"],"names":["sendFollowUser","user","successCb","csrfToken","document","querySelector","content","formData","FormData","append","id","following","fetch","method","headers","body","credentials","then","response","json","outcome","error","console","log"],"mappings":"AAAA,eAAe,SAASA,cAAT,CAAwBC,IAAxB,EAA8BC,SAA9B,EAAyC;AACtD,MAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,yBAAvB,EAAkDC,OAApE;AAEA,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,EAAAA,QAAQ,CAACE,MAAT,CAAgB,iBAAhB,EAAmC,MAAnC;AACAF,EAAAA,QAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiCR,IAAI,CAACS,EAAtC;AACAH,EAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBR,IAAI,CAACU,SAAL,GAAiB,UAAjB,GAA8B,QAAtD;AAEAC,EAAAA,KAAK,CAAC,UAAD,EAAa;AAChBC,IAAAA,MAAM,EAAE,MADQ;AAEhBC,IAAAA,OAAO,EAAE;AACP,sBAAgBX;AADT,KAFO;AAKhBY,IAAAA,IAAI,EAAER,QALU;AAMhBS,IAAAA,WAAW,EAAE;AANG,GAAb,CAAL,CAQGC,IARH,CAQQ,UAACC,QAAD;AAAA,WAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,GARR,EASGF,IATH,CASQ,UAACE,IAAD,EAAU;AACdjB,IAAAA,SAAS,CAACiB,IAAI,CAACC,OAAN,CAAT,CADc,CAEd;AACD,GAZH,WAaS,UAACC,KAAD,EAAW;AAChB;AACA;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAHgB,CAGI;AACrB,GAjBH;AAkBD","sourcesContent":["export default function sendFollowUser(user, successCb) {\n  const csrfToken = document.querySelector(\"meta[name='csrf-token']\").content;\n\n  const formData = new FormData();\n  formData.append('followable_type', 'User');\n  formData.append('followable_id', user.id);\n  formData.append('verb', user.following ? 'unfollow' : 'follow');\n\n  fetch('/follows', {\n    method: 'POST',\n    headers: {\n      'X-CSRF-Token': csrfToken,\n    },\n    body: formData,\n    credentials: 'same-origin',\n  })\n    .then((response) => response.json())\n    .then((json) => {\n      successCb(json.outcome);\n      // json is followed or unfollowed\n    })\n    .catch((error) => {\n      // TODO: Add client-side error tracking. See https://github.com/thepracticaldev/dev.to/issues/2501\n      // for the discussion.\n      console.log(error); // eslint-disable-line no-console\n    });\n}\n"]},"metadata":{},"sourceType":"module"}