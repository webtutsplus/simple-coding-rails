{"ast":null,"code":"function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { h } from 'preact';\nimport PropTypes from 'prop-types';\nimport { articlePropTypes } from '../common-prop-types/article-prop-types';\nimport { ArticleCoverImage, CommentsCount, CommentsList, ContentTitle, Meta, SaveButton, SearchSnippet, TagList, ReactionsCount, ReadingTime, Video } from './components';\nimport { PodcastArticle } from './PodcastArticle';\nexport var Article = function Article(_ref) {\n  var article = _ref.article,\n      isFeatured = _ref.isFeatured,\n      isBookmarked = _ref.isBookmarked,\n      bookmarkClick = _ref.bookmarkClick,\n      feedStyle = _ref.feedStyle;\n\n  if (article && article.type_of === 'podcast_episodes') {\n    return h(PodcastArticle, {\n      article: article\n    });\n  }\n\n  var clickableClassList = ['crayons-story', 'crayons-story__top', 'crayons-story__body', 'crayons-story__indention', 'crayons-story__title', 'crayons-story__tags', 'crayons-story__bottom', 'crayons-story__tertiary'];\n  var showCover = (isFeatured || feedStyle === 'rich' && article.main_image) && !article.cloudinary_video_url;\n  return h(\"article\", {\n    className: \"crayons-story cursor-pointer\".concat(isFeatured ? ' crayons-story--featured' : ''),\n    id: isFeatured ? 'featured-story-marker' : \"article-\".concat(article.id),\n    \"data-content-user-id\": article.user_id\n  }, h(\"a\", {\n    href: article.path,\n    \"aria-labelledby\": \"article-link-\".concat(article.id),\n    className: \"crayons-story__hidden-navigation-link\"\n  }, article.title), h(\"div\", {\n    role: \"presentation\",\n    onClick: function onClick(event) {\n      var classList = event.target.classList;\n\n      if (clickableClassList.includes.apply(clickableClassList, _toConsumableArray(classList))) {\n        if (event.which > 1 || event.metaKey || event.ctrlKey) {\n          // Indicates should open in _blank\n          window.open(article.path, '_blank');\n        } else {\n          var fullUrl = window.location.origin + article.path; // InstantClick deals with full urls\n\n          InstantClick.preload(fullUrl);\n          InstantClick.display(fullUrl);\n        }\n      }\n    }\n  }, article.cloudinary_video_url && h(Video, {\n    article: article\n  }), showCover && h(ArticleCoverImage, {\n    article: article\n  }), h(\"div\", {\n    className: \"crayons-story__body\"\n  }, h(\"div\", {\n    className: \"crayons-story__top\"\n  }, h(Meta, {\n    article: article,\n    organization: article.organization\n  })), h(\"div\", {\n    className: \"crayons-story__indention\"\n  }, h(ContentTitle, {\n    article: article\n  }), h(TagList, {\n    tags: article.tag_list,\n    flare_tag: article.flare_tag\n  }), article.class_name === 'Article' && // eslint-disable-next-line no-underscore-dangle\n  h(SearchSnippet, {\n    highlightText: article.highlight\n  }), h(\"div\", {\n    className: \"crayons-story__bottom\"\n  }, article.class_name !== 'User' && h(\"div\", {\n    className: \"crayons-story__details\"\n  }, h(ReactionsCount, {\n    article: article\n  }), h(CommentsCount, {\n    count: article.comments_count,\n    articlePath: article.path\n  })), h(\"div\", {\n    className: \"crayons-story__save\"\n  }, h(ReadingTime, {\n    readingTime: article.reading_time\n  }), h(SaveButton, {\n    article: article,\n    isBookmarked: isBookmarked,\n    onClick: bookmarkClick\n  }))))), article.top_comments && article.top_comments.length > 0 && h(CommentsList, {\n    comments: article.top_comments,\n    articlePath: article.path,\n    totalCount: article.comments_count\n  })));\n};\nArticle.defaultProps = {\n  isBookmarked: false,\n  isFeatured: false,\n  feedStyle: 'basic'\n};\nArticle.propTypes = {\n  article: articlePropTypes.isRequired,\n  isBookmarked: PropTypes.bool,\n  isFeatured: PropTypes.bool,\n  feedStyle: PropTypes.string,\n  bookmarkClick: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/Users/nmadhab/hobby/forem/app/javascript/articles/Article.jsx"],"names":["h","PropTypes","articlePropTypes","ArticleCoverImage","CommentsCount","CommentsList","ContentTitle","Meta","SaveButton","SearchSnippet","TagList","ReactionsCount","ReadingTime","Video","PodcastArticle","Article","article","isFeatured","isBookmarked","bookmarkClick","feedStyle","type_of","clickableClassList","showCover","main_image","cloudinary_video_url","id","user_id","path","title","event","classList","target","includes","which","metaKey","ctrlKey","window","open","fullUrl","location","origin","InstantClick","preload","display","organization","tag_list","flare_tag","class_name","highlight","comments_count","reading_time","top_comments","length","defaultProps","propTypes","isRequired","bool","string","func"],"mappings":"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","sourcesContent":["import { h } from 'preact';\nimport PropTypes from 'prop-types';\nimport { articlePropTypes } from '../common-prop-types/article-prop-types';\nimport {\n  ArticleCoverImage,\n  CommentsCount,\n  CommentsList,\n  ContentTitle,\n  Meta,\n  SaveButton,\n  SearchSnippet,\n  TagList,\n  ReactionsCount,\n  ReadingTime,\n  Video,\n} from './components';\nimport { PodcastArticle } from './PodcastArticle';\n\nexport const Article = ({\n  article,\n  isFeatured,\n  isBookmarked,\n  bookmarkClick,\n  feedStyle,\n}) => {\n  if (article && article.type_of === 'podcast_episodes') {\n    return <PodcastArticle article={article} />;\n  }\n\n  const clickableClassList = [\n    'crayons-story',\n    'crayons-story__top',\n    'crayons-story__body',\n    'crayons-story__indention',\n    'crayons-story__title',\n    'crayons-story__tags',\n    'crayons-story__bottom',\n    'crayons-story__tertiary',\n  ];\n\n  const showCover =\n    (isFeatured || (feedStyle === 'rich' && article.main_image)) &&\n    !article.cloudinary_video_url;\n\n  return (\n    <article\n      className={`crayons-story cursor-pointer${\n        isFeatured ? ' crayons-story--featured' : ''\n      }`}\n      id={isFeatured ? 'featured-story-marker' : `article-${article.id}`}\n      data-content-user-id={article.user_id}\n    >\n      <a\n        href={article.path}\n        aria-labelledby={`article-link-${article.id}`}\n        className=\"crayons-story__hidden-navigation-link\"\n      >\n        {article.title}\n      </a>\n      <div\n        role=\"presentation\"\n        onClick={(event) => {\n          const { classList } = event.target;\n          if (clickableClassList.includes(...classList)) {\n            if (event.which > 1 || event.metaKey || event.ctrlKey) {\n              // Indicates should open in _blank\n              window.open(article.path, '_blank');\n            } else {\n              const fullUrl = window.location.origin + article.path; // InstantClick deals with full urls\n              InstantClick.preload(fullUrl);\n              InstantClick.display(fullUrl);\n            }\n          }\n        }}\n      >\n        {article.cloudinary_video_url && <Video article={article} />}\n\n        {showCover && <ArticleCoverImage article={article} />}\n        <div className=\"crayons-story__body\">\n          <div className=\"crayons-story__top\">\n            <Meta article={article} organization={article.organization} />\n          </div>\n\n          <div className=\"crayons-story__indention\">\n            <ContentTitle article={article} />\n            <TagList tags={article.tag_list} flare_tag={article.flare_tag} />\n\n            {article.class_name === 'Article' && (\n              // eslint-disable-next-line no-underscore-dangle\n              <SearchSnippet highlightText={article.highlight} />\n            )}\n\n            <div className=\"crayons-story__bottom\">\n              {article.class_name !== 'User' && (\n                <div className=\"crayons-story__details\">\n                  <ReactionsCount article={article} />\n                  <CommentsCount\n                    count={article.comments_count}\n                    articlePath={article.path}\n                  />\n                </div>\n              )}\n\n              <div className=\"crayons-story__save\">\n                <ReadingTime readingTime={article.reading_time} />\n\n                <SaveButton\n                  article={article}\n                  isBookmarked={isBookmarked}\n                  onClick={bookmarkClick}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {article.top_comments && article.top_comments.length > 0 && (\n          <CommentsList\n            comments={article.top_comments}\n            articlePath={article.path}\n            totalCount={article.comments_count}\n          />\n        )}\n      </div>\n    </article>\n  );\n};\n\nArticle.defaultProps = {\n  isBookmarked: false,\n  isFeatured: false,\n  feedStyle: 'basic',\n};\n\nArticle.propTypes = {\n  article: articlePropTypes.isRequired,\n  isBookmarked: PropTypes.bool,\n  isFeatured: PropTypes.bool,\n  feedStyle: PropTypes.string,\n  bookmarkClick: PropTypes.func.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}