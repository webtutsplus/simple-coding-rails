{"ast":null,"code":"import PropTypes from 'prop-types';\nimport { h, Fragment } from 'preact';\nimport DateTime from '../../shared/components/dateTime';\nimport ListingDate from './rowElements/listingDate';\nimport Tags from './rowElements/tags';\nimport Location from './rowElements/location';\nimport ActionButtons from './rowElements/actionButtons';\nexport var ListingRow = function ListingRow(_ref) {\n  var listing = _ref.listing;\n  var bumpedAt = listing.bumped_at ? listing.bumped_at.toString() : null;\n  var isExpired = bumpedAt && !listing.published ? (Date.now() - new Date(bumpedAt).getTime()) / (1000 * 60 * 60 * 24) > 30 : false;\n  var isDraft = bumpedAt ? !isExpired && !listing.published : true;\n  var listingUrl = listing.published ? \"\".concat(listing.category, \"/\").concat(listing.slug) : \"\".concat(listing.id, \"/edit\");\n  var expiryDate = listing.expires_at ? listing.expires_at.toString() : '';\n  return h(\"div\", {\n    className: \"dashboard-listing-row \".concat(isDraft ? 'draft' : '', \" \").concat(isExpired ? 'expired' : ''),\n    \"data-listing-id\": listing.id\n  }, listing.organization_id && h(\"span\", {\n    className: \"listing-org\"\n  }, listing.author.name), h(\"a\", {\n    href: listingUrl\n  }, h(\"h2\", null, listing.title + (isExpired ? ' (expired)' : ''))), h(ListingDate, {\n    bumpedAt: listing.bumped_at,\n    updatedAt: listing.updated_at\n  }), expiryDate && h(Fragment, null, ' | Expires on: ', h(DateTime, {\n    dateTime: expiryDate\n  })), listing.location && h(Location, {\n    location: listing.location\n  }), h(\"span\", {\n    className: \"dashboard-listing-category\"\n  }, h(\"a\", {\n    href: \"/listings/\".concat(listing.category)\n  }, listing.category)), h(Tags, {\n    tagList: listing.tag_list\n  }), h(ActionButtons, {\n    isDraft: isDraft,\n    listingUrl: \"\".concat(listing.category, \"/\").concat(listing.slug),\n    editUrl: \"/listings/\".concat(listing.id, \"/edit\"),\n    deleteConfirmUrl: \"/listings/\".concat(listing.category, \"/\").concat(listing.slug, \"/delete_confirm\")\n  }));\n};\nListingRow.propTypes = {\n  listing: PropTypes.PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    tag_list: PropTypes.arrayOf(PropTypes.string),\n    created_at: PropTypes.instanceOf(Date),\n    bumped_at: PropTypes.instanceOf(Date),\n    updated_at: PropTypes.instanceOf(Date),\n    category: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n    user_id: PropTypes.number.isRequired,\n    slug: PropTypes.string.isRequired,\n    organization_id: PropTypes.number,\n    location: PropTypes.string,\n    expires_at: PropTypes.bool,\n    published: PropTypes.bool.isRequired,\n    author: PropTypes.object\n  }).isRequired\n};","map":{"version":3,"sources":["/Users/nmadhab/hobby/forem/app/javascript/listings/dashboard/listingRow.jsx"],"names":["PropTypes","h","Fragment","DateTime","ListingDate","Tags","Location","ActionButtons","ListingRow","listing","bumpedAt","bumped_at","toString","isExpired","published","Date","now","getTime","isDraft","listingUrl","category","slug","id","expiryDate","expires_at","organization_id","author","name","title","updated_at","location","tag_list","propTypes","shape","string","isRequired","arrayOf","created_at","instanceOf","number","user_id","bool","object"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport { h, Fragment } from 'preact';\nimport DateTime from '../../shared/components/dateTime';\nimport ListingDate from './rowElements/listingDate';\nimport Tags from './rowElements/tags';\nimport Location from './rowElements/location';\nimport ActionButtons from './rowElements/actionButtons';\n\nexport const ListingRow = ({ listing }) => {\n  const bumpedAt = listing.bumped_at ? listing.bumped_at.toString() : null;\n  const isExpired =\n    bumpedAt && !listing.published\n      ? (Date.now() - new Date(bumpedAt).getTime()) / (1000 * 60 * 60 * 24) > 30\n      : false;\n  const isDraft = bumpedAt ? !isExpired && !listing.published : true;\n  const listingUrl = listing.published\n    ? `${listing.category}/${listing.slug}`\n    : `${listing.id}/edit`;\n\n  const expiryDate = listing.expires_at ? listing.expires_at.toString() : '';\n\n  return (\n    <div\n      className={`dashboard-listing-row ${isDraft ? 'draft' : ''} ${\n        isExpired ? 'expired' : ''\n      }`}\n      data-listing-id={listing.id}\n    >\n      {listing.organization_id && (\n        <span className=\"listing-org\">{listing.author.name}</span>\n      )}\n      <a href={listingUrl}>\n        <h2>{listing.title + (isExpired ? ' (expired)' : '')}</h2>\n      </a>\n      <ListingDate\n        bumpedAt={listing.bumped_at}\n        updatedAt={listing.updated_at}\n      />\n      {expiryDate && (\n        <Fragment>\n          {' | Expires on: '}\n          <DateTime dateTime={expiryDate} />\n        </Fragment>\n      )}\n      {listing.location && <Location location={listing.location} />}\n      <span className=\"dashboard-listing-category\">\n        <a href={`/listings/${listing.category}`}>{listing.category}</a>\n      </span>\n      <Tags tagList={listing.tag_list} />\n      <ActionButtons\n        isDraft={isDraft}\n        listingUrl={`${listing.category}/${listing.slug}`}\n        editUrl={`/listings/${listing.id}/edit`}\n        deleteConfirmUrl={`/listings/${listing.category}/${listing.slug}/delete_confirm`}\n      />\n    </div>\n  );\n};\n\nListingRow.propTypes = {\n  listing: PropTypes.PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    tag_list: PropTypes.arrayOf(PropTypes.string),\n    created_at: PropTypes.instanceOf(Date),\n    bumped_at: PropTypes.instanceOf(Date),\n    updated_at: PropTypes.instanceOf(Date),\n    category: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n    user_id: PropTypes.number.isRequired,\n    slug: PropTypes.string.isRequired,\n    organization_id: PropTypes.number,\n    location: PropTypes.string,\n    expires_at: PropTypes.bool,\n    published: PropTypes.bool.isRequired,\n    author: PropTypes.object,\n  }).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}