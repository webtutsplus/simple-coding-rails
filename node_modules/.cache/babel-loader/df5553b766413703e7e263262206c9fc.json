{"ast":null,"code":"function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { h } from 'preact';\nimport { useState } from 'preact/hooks';\nimport PropTypes from 'prop-types';\nimport { Options } from './Options';\nimport { Button } from '@crayons';\n\nvar Icon = function Icon() {\n  return h(\"svg\", {\n    width: \"24\",\n    className: \"crayons-icon\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    role: \"img\",\n    \"aria-labelledby\": \"75abcb76478519ca4eb9\"\n  }, h(\"title\", {\n    id: \"75abcb76478519ca4eb9\"\n  }, \"Post options\"), h(\"path\", {\n    d: \"M12 1l9.5 5.5v11L12 23l-9.5-5.5v-11L12 1zm0 2.311L4.5 7.653v8.694l7.5 4.342 7.5-4.342V7.653L12 3.311zM12 16a4 4 0 110-8 4 4 0 010 8zm0-2a2 2 0 100-4 2 2 0 000 4z\"\n  }));\n};\n\nexport var EditorActions = function EditorActions(_ref) {\n  var onSaveDraft = _ref.onSaveDraft,\n      onPublish = _ref.onPublish,\n      onClearChanges = _ref.onClearChanges,\n      published = _ref.published,\n      edited = _ref.edited,\n      version = _ref.version,\n      passedData = _ref.passedData,\n      onConfigChange = _ref.onConfigChange,\n      submitting = _ref.submitting;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      moreConfigShowing = _useState2[0],\n      setMoreConfig = _useState2[1];\n\n  var isVersion1 = version === 'v1';\n  var isVersion2 = version === 'v2';\n\n  var toggleMoreConfig = function toggleMoreConfig(e) {\n    e.preventDefault();\n    setMoreConfig(!moreConfigShowing);\n  };\n\n  if (submitting) {\n    return h(\"div\", {\n      className: \"crayons-article-form__footer\"\n    }, h(Button, {\n      className: \"mr-2 whitespace-nowrap\",\n      onClick: onPublish,\n      disabled: true\n    }, published && isVersion2 ? 'Publishing...' : \"Saving \".concat(isVersion2 ? 'draft' : '', \"...\")));\n  }\n\n  return h(\"div\", {\n    className: \"crayons-article-form__footer\"\n  }, h(Button, {\n    className: \"mr-2 whitespace-nowrap\",\n    onClick: onPublish\n  }, published || isVersion1 ? 'Save changes' : 'Publish'), !(published || isVersion1) && h(Button, {\n    variant: \"secondary\",\n    className: \"mr-2 whitespace-nowrap\",\n    onClick: onSaveDraft\n  }, \"Save \", h(\"span\", {\n    className: \"hidden s:inline\"\n  }, \"draft\")), isVersion2 && h(\"div\", {\n    className: \"s:relative\"\n  }, h(Button, {\n    variant: \"ghost\",\n    contentType: \"icon\",\n    icon: Icon,\n    title: \"Post options\",\n    onClick: toggleMoreConfig\n  }), moreConfigShowing && h(Options, {\n    passedData: passedData,\n    onConfigChange: onConfigChange,\n    onSaveDraft: onSaveDraft,\n    moreConfigShowing: moreConfigShowing,\n    toggleMoreConfig: toggleMoreConfig\n  })), edited && h(Button, {\n    variant: \"ghost\",\n    onClick: onClearChanges,\n    className: \"whitespace-nowrap fw-normal\",\n    size: \"s\"\n  }, \"Revert \", h(\"span\", {\n    className: \"hidden s:inline\"\n  }, \"new changes\")));\n};\nEditorActions.propTypes = {\n  onSaveDraft: PropTypes.func.isRequired,\n  onPublish: PropTypes.func.isRequired,\n  published: PropTypes.bool.isRequired,\n  edited: PropTypes.bool.isRequired,\n  version: PropTypes.string.isRequired,\n  onClearChanges: PropTypes.func.isRequired,\n  passedData: PropTypes.string.isRequired,\n  onConfigChange: PropTypes.func.isRequired,\n  submitting: PropTypes.bool.isRequired\n};\nEditorActions.displayName = 'EditorActions';","map":{"version":3,"sources":["/Users/nmadhab/hobby/forem/app/javascript/article-form/components/EditorActions.jsx"],"names":["h","useState","PropTypes","Options","Button","Icon","EditorActions","onSaveDraft","onPublish","onClearChanges","published","edited","version","passedData","onConfigChange","submitting","moreConfigShowing","setMoreConfig","isVersion1","isVersion2","toggleMoreConfig","e","preventDefault","propTypes","func","isRequired","bool","string","displayName"],"mappings":";;;;;;;;;;;;AAAA,SAASA,CAAT,QAAkB,QAAlB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,MAAT,QAAuB,UAAvB;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO;AAAA,SACX;AACE,IAAA,KAAK,EAAC,IADR;AAEE,IAAA,SAAS,EAAC,cAFZ;AAGE,IAAA,MAAM,EAAC,IAHT;AAIE,IAAA,OAAO,EAAC,WAJV;AAKE,IAAA,KAAK,EAAC,4BALR;AAME,IAAA,IAAI,EAAC,KANP;AAOE,uBAAgB;AAPlB,KASE;AAAO,IAAA,EAAE,EAAC;AAAV,oBATF,EAUE;AAAM,IAAA,CAAC,EAAC;AAAR,IAVF,CADW;AAAA,CAAb;;AAeA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAUvB;AAAA,MATJC,WASI,QATJA,WASI;AAAA,MARJC,SAQI,QARJA,SAQI;AAAA,MAPJC,cAOI,QAPJA,cAOI;AAAA,MANJC,SAMI,QANJA,SAMI;AAAA,MALJC,MAKI,QALJA,MAKI;AAAA,MAJJC,OAII,QAJJA,OAII;AAAA,MAHJC,UAGI,QAHJA,UAGI;AAAA,MAFJC,cAEI,QAFJA,cAEI;AAAA,MADJC,UACI,QADJA,UACI;;AAAA,kBACuCd,QAAQ,CAAC,KAAD,CAD/C;AAAA;AAAA,MACGe,iBADH;AAAA,MACsBC,aADtB;;AAGJ,MAAMC,UAAU,GAAGN,OAAO,KAAK,IAA/B;AACA,MAAMO,UAAU,GAAGP,OAAO,KAAK,IAA/B;;AAEA,MAAMQ,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,CAAD,EAAO;AAC9BA,IAAAA,CAAC,CAACC,cAAF;AACAL,IAAAA,aAAa,CAAC,CAACD,iBAAF,CAAb;AACD,GAHD;;AAKA,MAAID,UAAJ,EAAgB;AACd,WACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,EAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,wBAAlB;AAA2C,MAAA,OAAO,EAAEP,SAApD;AAA+D,MAAA,QAAQ;AAAvE,OACGE,SAAS,IAAIS,UAAb,GACG,eADH,oBAEaA,UAAU,GAAG,OAAH,GAAa,EAFpC,QADH,CADF,CADF;AASD;;AAED,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE,EAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,wBAAlB;AAA2C,IAAA,OAAO,EAAEX;AAApD,KACGE,SAAS,IAAIQ,UAAb,GAA0B,cAA1B,GAA2C,SAD9C,CADF,EAKG,EAAER,SAAS,IAAIQ,UAAf,KACC,EAAC,MAAD;AACE,IAAA,OAAO,EAAC,WADV;AAEE,IAAA,SAAS,EAAC,wBAFZ;AAGE,IAAA,OAAO,EAAEX;AAHX,cAKO;AAAM,IAAA,SAAS,EAAC;AAAhB,aALP,CANJ,EAeGY,UAAU,IACT;AAAK,IAAA,SAAS,EAAC;AAAf,KACE,EAAC,MAAD;AACE,IAAA,OAAO,EAAC,OADV;AAEE,IAAA,WAAW,EAAC,MAFd;AAGE,IAAA,IAAI,EAAEd,IAHR;AAIE,IAAA,KAAK,EAAC,cAJR;AAKE,IAAA,OAAO,EAAEe;AALX,IADF,EASGJ,iBAAiB,IAChB,EAAC,OAAD;AACE,IAAA,UAAU,EAAEH,UADd;AAEE,IAAA,cAAc,EAAEC,cAFlB;AAGE,IAAA,WAAW,EAAEP,WAHf;AAIE,IAAA,iBAAiB,EAAES,iBAJrB;AAKE,IAAA,gBAAgB,EAAEI;AALpB,IAVJ,CAhBJ,EAqCGT,MAAM,IACL,EAAC,MAAD;AACE,IAAA,OAAO,EAAC,OADV;AAEE,IAAA,OAAO,EAAEF,cAFX;AAGE,IAAA,SAAS,EAAC,6BAHZ;AAIE,IAAA,IAAI,EAAC;AAJP,gBAMS;AAAM,IAAA,SAAS,EAAC;AAAhB,mBANT,CAtCJ,CADF;AAkDD,CAnFM;AAqFPH,aAAa,CAACiB,SAAd,GAA0B;AACxBhB,EAAAA,WAAW,EAAEL,SAAS,CAACsB,IAAV,CAAeC,UADJ;AAExBjB,EAAAA,SAAS,EAAEN,SAAS,CAACsB,IAAV,CAAeC,UAFF;AAGxBf,EAAAA,SAAS,EAAER,SAAS,CAACwB,IAAV,CAAeD,UAHF;AAIxBd,EAAAA,MAAM,EAAET,SAAS,CAACwB,IAAV,CAAeD,UAJC;AAKxBb,EAAAA,OAAO,EAAEV,SAAS,CAACyB,MAAV,CAAiBF,UALF;AAMxBhB,EAAAA,cAAc,EAAEP,SAAS,CAACsB,IAAV,CAAeC,UANP;AAOxBZ,EAAAA,UAAU,EAAEX,SAAS,CAACyB,MAAV,CAAiBF,UAPL;AAQxBX,EAAAA,cAAc,EAAEZ,SAAS,CAACsB,IAAV,CAAeC,UARP;AASxBV,EAAAA,UAAU,EAAEb,SAAS,CAACwB,IAAV,CAAeD;AATH,CAA1B;AAYAnB,aAAa,CAACsB,WAAd,GAA4B,eAA5B","sourcesContent":["import { h } from 'preact';\nimport { useState } from 'preact/hooks';\nimport PropTypes from 'prop-types';\nimport { Options } from './Options';\nimport { Button } from '@crayons';\n\nconst Icon = () => (\n  <svg\n    width=\"24\"\n    className=\"crayons-icon\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    role=\"img\"\n    aria-labelledby=\"75abcb76478519ca4eb9\"\n  >\n    <title id=\"75abcb76478519ca4eb9\">Post options</title>\n    <path d=\"M12 1l9.5 5.5v11L12 23l-9.5-5.5v-11L12 1zm0 2.311L4.5 7.653v8.694l7.5 4.342 7.5-4.342V7.653L12 3.311zM12 16a4 4 0 110-8 4 4 0 010 8zm0-2a2 2 0 100-4 2 2 0 000 4z\" />\n  </svg>\n);\n\nexport const EditorActions = ({\n  onSaveDraft,\n  onPublish,\n  onClearChanges,\n  published,\n  edited,\n  version,\n  passedData,\n  onConfigChange,\n  submitting,\n}) => {\n  const [moreConfigShowing, setMoreConfig] = useState(false);\n\n  const isVersion1 = version === 'v1';\n  const isVersion2 = version === 'v2';\n\n  const toggleMoreConfig = (e) => {\n    e.preventDefault();\n    setMoreConfig(!moreConfigShowing);\n  };\n\n  if (submitting) {\n    return (\n      <div className=\"crayons-article-form__footer\">\n        <Button className=\"mr-2 whitespace-nowrap\" onClick={onPublish} disabled>\n          {published && isVersion2\n            ? 'Publishing...'\n            : `Saving ${isVersion2 ? 'draft' : ''}...`}\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"crayons-article-form__footer\">\n      <Button className=\"mr-2 whitespace-nowrap\" onClick={onPublish}>\n        {published || isVersion1 ? 'Save changes' : 'Publish'}\n      </Button>\n\n      {!(published || isVersion1) && (\n        <Button\n          variant=\"secondary\"\n          className=\"mr-2 whitespace-nowrap\"\n          onClick={onSaveDraft}\n        >\n          Save <span className=\"hidden s:inline\">draft</span>\n        </Button>\n      )}\n\n      {isVersion2 && (\n        <div className=\"s:relative\">\n          <Button\n            variant=\"ghost\"\n            contentType=\"icon\"\n            icon={Icon}\n            title=\"Post options\"\n            onClick={toggleMoreConfig}\n          />\n\n          {moreConfigShowing && (\n            <Options\n              passedData={passedData}\n              onConfigChange={onConfigChange}\n              onSaveDraft={onSaveDraft}\n              moreConfigShowing={moreConfigShowing}\n              toggleMoreConfig={toggleMoreConfig}\n            />\n          )}\n        </div>\n      )}\n\n      {edited && (\n        <Button\n          variant=\"ghost\"\n          onClick={onClearChanges}\n          className=\"whitespace-nowrap fw-normal\"\n          size=\"s\"\n        >\n          Revert <span className=\"hidden s:inline\">new changes</span>\n        </Button>\n      )}\n    </div>\n  );\n};\n\nEditorActions.propTypes = {\n  onSaveDraft: PropTypes.func.isRequired,\n  onPublish: PropTypes.func.isRequired,\n  published: PropTypes.bool.isRequired,\n  edited: PropTypes.bool.isRequired,\n  version: PropTypes.string.isRequired,\n  onClearChanges: PropTypes.func.isRequired,\n  passedData: PropTypes.string.isRequired,\n  onConfigChange: PropTypes.func.isRequired,\n  submitting: PropTypes.bool.isRequired,\n};\n\nEditorActions.displayName = 'EditorActions';\n"]},"metadata":{},"sourceType":"module"}