{"ast":null,"code":"// eslint-disable-next-line consistent-return\nexport function handleFetchAPIErrors(response) {\n  // pass along a correct response\n  if (response.ok) {\n    return response;\n  } // API errors contain the error message in {\"error\": \"error message\"}\n  // but they could be unhandled 500 errors\n\n\n  try {\n    response.json().then(function (data) {\n      throw new Error(data.error);\n    });\n  } catch (e) {\n    if (e instanceof SyntaxError) {\n      throw new Error(response.statusText);\n    } else {\n      throw e;\n    }\n  }\n}","map":{"version":3,"sources":["/Users/nmadhab/hobby/forem/app/javascript/utilities/http/errors.js"],"names":["handleFetchAPIErrors","response","ok","json","then","data","Error","error","e","SyntaxError","statusText"],"mappings":"AAAA;AACA,OAAO,SAASA,oBAAT,CAA8BC,QAA9B,EAAwC;AAC7C;AACA,MAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf,WAAOD,QAAP;AACD,GAJ4C,CAM7C;AACA;;;AACA,MAAI;AACFA,IAAAA,QAAQ,CAACE,IAAT,GAAgBC,IAAhB,CAAqB,UAACC,IAAD,EAAU;AAC7B,YAAM,IAAIC,KAAJ,CAAUD,IAAI,CAACE,KAAf,CAAN;AACD,KAFD;AAGD,GAJD,CAIE,OAAOC,CAAP,EAAU;AACV,QAAIA,CAAC,YAAYC,WAAjB,EAA8B;AAC5B,YAAM,IAAIH,KAAJ,CAAUL,QAAQ,CAACS,UAAnB,CAAN;AACD,KAFD,MAEO;AACL,YAAMF,CAAN;AACD;AACF;AACF","sourcesContent":["// eslint-disable-next-line consistent-return\nexport function handleFetchAPIErrors(response) {\n  // pass along a correct response\n  if (response.ok) {\n    return response;\n  }\n\n  // API errors contain the error message in {\"error\": \"error message\"}\n  // but they could be unhandled 500 errors\n  try {\n    response.json().then((data) => {\n      throw new Error(data.error);\n    });\n  } catch (e) {\n    if (e instanceof SyntaxError) {\n      throw new Error(response.statusText);\n    } else {\n      throw e;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}