{"ast":null,"code":"/* global userData */\nexport default function hideBlockedContent() {\n  var contentUserElements = Array.from(document.querySelectorAll('div[data-content-user-id]'));\n  var user = userData(); //global var\n\n  var blockedUserIds = user ? user.blocked_user_ids : [];\n  var divsToHide = contentUserElements.filter(function (div) {\n    var contentUserId = div.dataset.contentUserId;\n    return blockedUserIds.includes(parseInt(contentUserId, 10));\n  });\n  divsToHide.forEach(function (div) {\n    if (div.className.includes('crayons-story')) {\n      div.style.display = 'none';\n    } else if (div.className.includes('single-comment-node')) {\n      var divInnerComment = div.getElementsByClassName('inner-comment')[0];\n      divInnerComment.innerHTML = \"\\n        <div class=\\\"body \\\" style=\\\"padding-bottom:32px;opacity:0.3;user-select:none;cursor:default\\\">\\n          [blocked content]\\n        </div>\\n      \";\n    }\n  });\n}\nwindow.addEventListener('checkBlockedContent', hideBlockedContent);","map":{"version":3,"sources":["/Users/nmadhab/hobby/forem/app/javascript/contentDisplayPolicy/hideBlockedContent.js"],"names":["hideBlockedContent","contentUserElements","Array","from","document","querySelectorAll","user","userData","blockedUserIds","blocked_user_ids","divsToHide","filter","div","contentUserId","dataset","includes","parseInt","forEach","className","style","display","divInnerComment","getElementsByClassName","innerHTML","window","addEventListener"],"mappings":"AAAA;AAEA,eAAe,SAASA,kBAAT,GAA8B;AAC3C,MAAMC,mBAAmB,GAAGC,KAAK,CAACC,IAAN,CAC1BC,QAAQ,CAACC,gBAAT,CAA0B,2BAA1B,CAD0B,CAA5B;AAGA,MAAMC,IAAI,GAAGC,QAAQ,EAArB,CAJ2C,CAIlB;;AACzB,MAAMC,cAAc,GAAGF,IAAI,GAAGA,IAAI,CAACG,gBAAR,GAA2B,EAAtD;AAEA,MAAMC,UAAU,GAAGT,mBAAmB,CAACU,MAApB,CAA2B,UAACC,GAAD,EAAS;AAAA,QAC7CC,aAD6C,GAC3BD,GAAG,CAACE,OADuB,CAC7CD,aAD6C;AAErD,WAAOL,cAAc,CAACO,QAAf,CAAwBC,QAAQ,CAACH,aAAD,EAAgB,EAAhB,CAAhC,CAAP;AACD,GAHkB,CAAnB;AAKAH,EAAAA,UAAU,CAACO,OAAX,CAAmB,UAACL,GAAD,EAAS;AAC1B,QAAIA,GAAG,CAACM,SAAJ,CAAcH,QAAd,CAAuB,eAAvB,CAAJ,EAA6C;AAC3CH,MAAAA,GAAG,CAACO,KAAJ,CAAUC,OAAV,GAAoB,MAApB;AACD,KAFD,MAEO,IAAIR,GAAG,CAACM,SAAJ,CAAcH,QAAd,CAAuB,qBAAvB,CAAJ,EAAmD;AACxD,UAAMM,eAAe,GAAGT,GAAG,CAACU,sBAAJ,CAA2B,eAA3B,EAA4C,CAA5C,CAAxB;AACAD,MAAAA,eAAe,CAACE,SAAhB;AAKD;AACF,GAXD;AAYD;AAEDC,MAAM,CAACC,gBAAP,CAAwB,qBAAxB,EAA+CzB,kBAA/C","sourcesContent":["/* global userData */\n\nexport default function hideBlockedContent() {\n  const contentUserElements = Array.from(\n    document.querySelectorAll('div[data-content-user-id]'),\n  );\n  const user = userData(); //global var\n  const blockedUserIds = user ? user.blocked_user_ids : [];\n\n  const divsToHide = contentUserElements.filter((div) => {\n    const { contentUserId } = div.dataset;\n    return blockedUserIds.includes(parseInt(contentUserId, 10));\n  });\n\n  divsToHide.forEach((div) => {\n    if (div.className.includes('crayons-story')) {\n      div.style.display = 'none';\n    } else if (div.className.includes('single-comment-node')) {\n      const divInnerComment = div.getElementsByClassName('inner-comment')[0];\n      divInnerComment.innerHTML = `\n        <div class=\"body \" style=\"padding-bottom:32px;opacity:0.3;user-select:none;cursor:default\">\n          [blocked content]\n        </div>\n      `;\n    }\n  });\n}\n\nwindow.addEventListener('checkBlockedContent', hideBlockedContent);\n"]},"metadata":{},"sourceType":"module"}