{"version":3,"file":"honeybadger.js","sources":["../src/util/sanitize.js","../src/util/browser.js","../src/builder.js","../src/main.js"],"sourcesContent":["export default function sanitize(obj, maxDepth) {\n  let seenObjects = [];\n  function seen(obj) {\n    if (!obj || typeof(obj) !== 'object') { return false; }\n    for (let i = 0; i < seenObjects.length; i++) {\n      const value = seenObjects[i];\n      if (value === obj) {\n        return true;\n      }\n    }\n    seenObjects.push(obj);\n    return false;\n  }\n\n  function canSerialize(obj) {\n    // Functions are TMI and Symbols can't convert to strings.\n    if (/function|symbol/.test(typeof(obj))) { return false; }\n\n    if (obj === null) { return false };\n\n    // No prototype, likely created with `Object.create(null)`.\n    if (typeof obj === 'object' && typeof obj.hasOwnProperty === 'undefined') { return false; }\n\n    return true;\n  }\n\n  function serialize(obj, depth) {\n    if (!depth) { depth = 0; }\n    if (depth >= maxDepth) {\n      return '[DEPTH]';\n    }\n\n    // Inspect invalid types\n    if (!canSerialize(obj)) { return Object.prototype.toString.call(obj); }\n\n    // Halt circular references\n    if (seen(obj)) {\n      return '[RECURSION]';\n    }\n\n    // Serialize inside arrays\n    if (Array.isArray(obj)) {\n      return obj.map(o => serialize(o, depth+1));\n    }\n\n    // Serialize inside objects\n    if (typeof(obj) === 'object') {\n      let ret = {};\n      for (const k in obj) {\n        const v = obj[k];\n        if (Object.prototype.hasOwnProperty.call(obj, k) && (k != null) && (v != null)) {\n          ret[k] = serialize(v, depth+1);\n        }\n      }\n      return ret;\n    }\n\n    // Return everything else untouched\n    return obj;\n  }\n\n  return serialize(obj);\n}\n","/**\n * Converts an HTMLElement into a human-readable string.\n * @param {!HTMLElement} element\n * @return {string}\n */\nexport function stringNameOfElement(element) {\n  if (!element || !element.tagName) { return ''; }\n\n  let name = element.tagName.toLowerCase();\n\n  // Ignore the root <html> element in selectors and events.\n  if (name === 'html') { return ''; }\n\n  if (element.id) {\n    name += `#${element.id}`;\n  }\n\n  const stringClassNames = element.getAttribute('class');\n  if (stringClassNames) {\n    stringClassNames.split(/\\s+/).forEach(className => {\n      name += `.${className}`;\n    });\n  }\n\n  ['alt', 'name', 'title', 'type'].forEach(attrName => {\n    let attr = element.getAttribute(attrName);\n    if (attr) {\n      name += `[${attrName}=\"${attr}\"]`;\n    }\n  });\n\n  const siblings = getSiblings(element);\n  if (siblings.length > 1) {\n    name += `:nth-child(${Array.prototype.indexOf.call(siblings, element) + 1})`;\n  }\n\n  return name;\n}\n\nexport function stringSelectorOfElement(element) {\n  const name = stringNameOfElement(element);\n\n  if (element.parentNode && element.parentNode.tagName) {\n    const parentName = stringSelectorOfElement(element.parentNode);\n    if (parentName.length > 0) {\n      return `${parentName} > ${name}`;\n    }\n  }\n\n  return name;\n}\n\nexport function stringTextOfElement(element) {\n  let text = element.textContent || element.innerText || '';\n  if (!text && (element.type === 'submit' || element.type === 'button')) { text = element.value; }\n  return truncate(text.trim(), 300);\n}\n\nexport function nativeFetch() {\n  if (!window.fetch) { return false; }\n  if (isNative(window.fetch)) { return true; }\n\n  // If fetch isn't native, it may be wrapped by someone else. Try to get\n  // a pristine function from an iframe.\n  try {\n    const sandbox = document.createElement('iframe');\n    sandbox.style.display = 'none';\n    document.head.appendChild(sandbox);\n    const result = sandbox.contentWindow.fetch && isNative(sandbox.contentWindow.fetch);\n    document.head.removeChild(sandbox);\n    return result;\n  } catch(err) {\n    if (console && console.warn) {\n      console.warn('failed to detect native fetch via iframe: ' + err);\n    }\n  }\n\n  return false;\n}\n\nfunction isNative(func) {\n  return func.toString().indexOf('native') !== -1;\n}\n\nexport function parseURL(url) {\n  // Regexp: https://tools.ietf.org/html/rfc3986#appendix-B\n  const match = url.match(/^(([^:/?#]+):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/) || {};\n\n  return {\n    protocol: match[2],\n    host: match[4],\n    pathname: match[5],\n  };\n}\n\nexport function localURLPathname(url) {\n  const parsed = parseURL(url);\n  const parsedDocURL = parseURL(document.URL);\n\n  // URL must be relative\n  if (!parsed.host || !parsed.protocol) { return parsed.pathname; }\n\n  // Same domain\n  if (parsed.protocol === parsedDocURL.protocol && parsed.host === parsedDocURL.host) {\n    return parsed.pathname;\n  }\n\n  // x-domain\n  return `${parsed.protocol}://${parsed.host}${parsed.pathname}`;\n}\n\n\n// Helpers\n\nfunction getSiblings(element) {\n  try {\n    const nodes = element.parentNode.childNodes;\n    const siblings = [];\n\n    Array.prototype.forEach.call(nodes, node => {\n      if (node.tagName && node.tagName === element.tagName) {\n        siblings.push(node);\n      }\n    });\n\n    return siblings;\n  } catch(e) {\n    return [];\n  }\n}\n\nfunction truncate(string, length) {\n  if (string.length > length) {\n    string = string.substr(0, length) + '...';\n  }\n  return string;\n}\n","import sanitize from './util/sanitize.js';\nimport { stringNameOfElement, stringSelectorOfElement, stringTextOfElement, nativeFetch, localURLPathname } from './util/browser.js';\n\nexport default function builder() {\n  var VERSION = '__VERSION__',\n      NOTIFIER = {\n        name: 'honeybadger-js',\n        url: 'https://github.com/honeybadger-io/honeybadger-js',\n        version: VERSION,\n        language: 'javascript'\n      };\n\n  // Used to control initial setup across clients.\n  var loaded = false,\n      installed = false,\n      factoryCount = 0;\n\n  // Used to prevent reporting duplicate errors across instances.\n  var currentErr;\n\n  // Utilities.\n  function merge(obj1, obj2) {\n    var obj3 = {};\n    for (var k in obj1) { obj3[k] = obj1[k]; }\n    for (var k in obj2) { obj3[k] = obj2[k]; }\n    return obj3;\n  }\n\n  // Returns a new object with properties from other object.\n  function newObject(obj) {\n    if (typeof(obj) !== 'object') { return {}; }\n    let new_obj = {};\n    for (var k in obj) { new_obj[k] = obj[k]; }\n    return new_obj;\n  }\n\n  function mergeErr(err1, err2) {\n    let ret = merge(err1, err2);\n\n    if (err1.context && err2.context) {\n      ret.context = merge(err1.context, err2.context);\n    }\n\n    return ret;\n  }\n\n  function currentErrIs(err) {\n    if (!currentErr) { return false; }\n    if (currentErr.name !== err.name) { return false; }\n    if (currentErr.message !== err.message) { return false; }\n    if (currentErr.stack !== err.stack) { return false; }\n    return true;\n  }\n\n  function isIgnored(err, patterns) {\n    if (!Array.isArray(patterns)) { return false; }\n    return patterns.some((p) => p.test(err.message));\n  }\n\n  function encodeCookie(object) {\n    if (typeof object !== 'object') {\n      return undefined;\n    }\n\n    var cookies = [];\n    for (var k in object) {\n      cookies.push(k + '=' + object[k]);\n    }\n\n    return cookies.join(';');\n  }\n\n  function stackTrace(err) {\n    // From TraceKit: Opera 10 *destroys* its stacktrace property if you try to\n    // access the stack property first.\n    return err.stacktrace || err.stack || undefined;\n  }\n\n  function generateStackTrace(err) {\n    var stack;\n    var maxStackSize = 10;\n\n    if (err && (stack = stackTrace(err))) {\n      return {stack: stack, generator: undefined};\n    }\n\n    try {\n      throw new Error('');\n    } catch(e) {\n      if (stack = stackTrace(e)) {\n        return {stack: stack, generator: 'throw'};\n      }\n    }\n\n    stack = ['<call-stack>'];\n    var curr = arguments.callee;\n    while (curr && stack.length < maxStackSize) {\n      if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n        stack.push(RegExp.$1 || '<anonymous>');\n      } else {\n        stack.push('<anonymous>');\n      }\n      try {\n        curr = curr.caller;\n      } catch (e) {\n        break;\n      }\n    }\n\n    return {stack: stack.join('\\n'), generator: 'walk'};\n  }\n\n  function checkHandlers(handlers, err, response) {\n    var handler, i, len;\n    for (i = 0, len = handlers.length; i < len; i++) {\n      handler = handlers[i];\n      if (handler(err, response) === false) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  function objectIsEmpty(obj) {\n    for (let k in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, k)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  function objectIsExtensible(obj) {\n    if (typeof Object.isExtensible !== 'function') { return true; }\n    return Object.isExtensible(obj);\n  }\n\n  // Client factory.\n  var factory = (function(opts) {\n    factoryCount += 1;\n    const singleton = (factoryCount === 1);\n    const notSingleton = !singleton;\n    const defaultProps = [];\n    const queue = [];\n    const self = {\n      context: {},\n      beforeNotifyHandlers: [],\n      afterNotifyHandlers: [],\n      breadcrumbs: [],\n      errorsSent: 0,\n      breadcrumbsEnabled: {\n        dom: true,\n        network: true,\n        navigation: true,\n        console: true\n      }\n    };\n    if (typeof opts === 'object') {\n      for (var k in opts) { self[k] = opts[k]; }\n    }\n\n    function log() {\n      var console = window.console;\n      if (console) {\n        var args = Array.prototype.slice.call(arguments);\n        args.unshift('[Honeybadger]');\n        console.log.apply(console, args);\n      }\n    }\n\n    function debug() {\n      if (config('debug')) {\n        return log.apply(this, arguments);\n      }\n    }\n\n    function config(key, fallback) {\n      var value = self[key];\n      if (value === undefined) { value = self[key.toLowerCase()]; }\n      if (value === 'false') { value = false; }\n      if (value !== undefined) { return value; }\n      return fallback;\n    }\n\n    function onErrorEnabled() {\n      if (notSingleton) { return false; }\n      return config('onerror', true);\n    }\n\n    function onUnhandledRejectionEnabled() {\n      if (notSingleton) { return false; }\n      return config('onunhandledrejection', true);\n    }\n\n    function breadcrumbsEnabled(type) {\n      if (self.breadcrumbsEnabled === true) { return true; }\n      if (type) { return self.breadcrumbsEnabled[type] === true; }\n      return self.breadcrumbsEnabled !== false;\n    }\n\n    function baseURL() {\n      return 'http' + ((config('ssl', true) && 's') || '') + '://' + config('host', 'api.honeybadger.io');\n    }\n\n    function request(apiKey, notice) {\n      try {\n        let payload = buildPayload(notice);\n        let x = new XMLHttpRequest();\n        x.open('POST', baseURL() + '/v1/notices/js', config('async', true));\n\n        x.setRequestHeader('X-API-Key', apiKey);\n        x.setRequestHeader('Content-Type', 'application/json');\n        x.setRequestHeader('Accept', 'text/json, application/json');\n\n        x.send(JSON.stringify(sanitize(payload, config('max_depth', 8))));\n        x.onload = function() {\n          let handlers = Array.prototype.slice.call(self.afterNotifyHandlers);\n          if (notice.afterNotify) { handlers.unshift(notice.afterNotify); }\n\n          if (x.status !== 201) {\n            checkHandlers(handlers, new Error(`Bad HTTP response: ${x.status}`), notice);\n            debug(`Unable to send error report: ${x.status}: ${x.statusText}`, x, notice);\n            return;\n          }\n          checkHandlers(handlers, undefined, merge(notice, {\n            id: JSON.parse(x.response).id\n          }));\n          debug('Error report sent', payload);\n        };\n      } catch(e) {\n        checkHandlers(self.afterNotifyHandlers, e, notice);\n        log('Unable to send error report: error while initializing request', e, notice);\n      }\n    }\n\n    function send(notice) {\n      currentErr = null;\n\n      if (config('disabled', false)) {\n        debug('Dropping notice: honeybadger.js is disabled', notice);\n        return false;\n      }\n\n      var apiKey = config('apiKey', config('api_key'));\n      if (!apiKey) {\n        log('Unable to send error report: no API key has been configured');\n        return false;\n      }\n\n      if (exceedsMaxErrors()) {\n        debug('Dropping notice: max errors exceeded', notice);\n        return false;\n      }\n\n      incrementErrorsCount();\n\n      request(apiKey, notice);\n\n      return true;\n    }\n\n    function buildPayload(err) {\n      const data = {};\n      if (err.userAgent) { data['HTTP_USER_AGENT'] = err.userAgent; }\n      if (err.referrer) { data['HTTP_REFERER'] = err.referrer; }\n      if (typeof err.cookies === 'string') {\n        data['HTTP_COOKIE'] = err.cookies;\n      } else if (typeof err.cookies === 'object') {\n        data['HTTP_COOKIE'] = encodeCookie(err.cookies);\n      }\n\n      return {\n        'notifier': NOTIFIER,\n        'breadcrumbs': {\n          'enabled': breadcrumbsEnabled(),\n          'trail': err.breadcrumbs,\n        },\n        'error': {\n          'class': err.name,\n          'message': err.message,\n          'backtrace': err.stack,\n          'generator': err.generator,\n          'fingerprint': err.fingerprint\n        },\n        'request': {\n          'url': err.url,\n          'component': err.component,\n          'action': err.action,\n          'context': err.context,\n          'cgi_data': data,\n          'params': err.params\n        },\n        'server': {\n          'project_root': err.projectRoot,\n          'environment_name': err.environment,\n          'revision': err.revision\n        }\n      };\n    }\n\n    function notify(err, generated) {\n      if (!err) { err = {}; }\n\n      if (Object.prototype.toString.call(err) === '[object Error]') {\n        var e = err;\n        err = merge(err, {name: e.name, message: e.message, stack: stackTrace(e)});\n      }\n\n      if (!(typeof err === 'object')) {\n        var m = String(err);\n        err = {message: m};\n      }\n\n      if (currentErrIs(err)) {\n        // Skip the duplicate error.\n        return false;\n      } else if (currentErr && loaded) {\n        // This is a different error, send the old one now.\n        send(currentErr);\n      }\n\n      if (objectIsEmpty(err)) { return false; }\n\n      let generator;\n      if (generated) {\n        err.stack = generated.stack;\n        generator = generated.generator;\n      }\n\n      err = merge(err, {\n        name: err.name || 'Error',\n        context: merge(self.context, err.context),\n        url: err.url || document.URL,\n        projectRoot: err.projectRoot || err.project_root || config('projectRoot', config('project_root', window.location.protocol + '//' + window.location.host)),\n        environment: err.environment || config('environment'),\n        component: err.component || config('component'),\n        action: err.action || config('action'),\n        revision: err.revision || config('revision'),\n        userAgent: err.userAgent || navigator.userAgent,\n        referrer: err.referrer || document.referrer\n      });\n\n      self.addBreadcrumb('Honeybadger Notice', {\n        category: 'notice',\n        metadata: {\n          message: err.message,\n          name: err.name,\n          stack: err.stack\n        }\n      });\n\n      err.breadcrumbs = self.breadcrumbs.slice();\n\n      let stack_before_handlers = err.stack;\n      if (checkHandlers(self.beforeNotifyHandlers, err)) { return false; }\n      if (err.stack != stack_before_handlers) {\n        // Stack changed, so it's not generated.\n        generator = undefined;\n      }\n\n      if (isIgnored(err, config('ignorePatterns'))) { return false; }\n\n      err.generator = generator;\n\n      currentErr = err;\n\n      if (loaded) {\n        debug('Deferring notice', err);\n        window.setTimeout(function(){\n          if (currentErrIs(err)) {\n            send(err);\n          }\n        });\n      } else {\n        debug('Queuing notice', err);\n        queue.push(err);\n      }\n\n      return err;\n    }\n\n    var preferCatch = true;\n    // IE < 10\n    if (!window.atob) { preferCatch = false; }\n    // See https://developer.mozilla.org/en-US/docs/Web/API/ErrorEvent\n    if (window.ErrorEvent) {\n      try {\n        if ((new window.ErrorEvent('')).colno === 0) {\n          preferCatch = false;\n        }\n      } catch(_e) {}\n    }\n\n    // wrap always returns the same function so that callbacks can be removed via\n    // removeEventListener.\n    function wrap(fn, opts) {\n      if (!opts) { opts = {}; }\n      try {\n        if (typeof fn !== 'function') { return fn; }\n        if (!objectIsExtensible(fn))  { return fn; }\n        if (!fn.___hb) {\n          fn.___hb = function() {\n            var onerror = onErrorEnabled();\n            // Don't catch if the browser is old or supports the new error\n            // object and there is a window.onerror handler available instead.\n            if ((preferCatch && (onerror || opts.force)) || (opts.force && !onerror)) {\n              try {\n                return fn.apply(this, arguments);\n              } catch (err) {\n                let generated = { stack: stackTrace(err) };\n                self.addBreadcrumb(\n                  opts.component ? `${opts.component}: ${err.name}` : err.name,\n                  {\n                    category: 'error',\n                    metadata: {\n                      message: err.message,\n                      name: err.name,\n                      stack: generated.stack\n                    }\n                  }\n                );\n                notify(err, generated);\n                throw(err);\n              }\n            } else {\n              return fn.apply(this, arguments);\n            }\n          };\n        }\n        fn.___hb.___hb = fn.___hb;\n        return fn.___hb;\n      } catch(_e) {\n        return fn;\n      }\n    }\n\n    // Public API.\n    self.notify = function(err, name, extra) {\n      if (!err) { err = {}; }\n\n      if (Object.prototype.toString.call(err) === '[object Error]') {\n        var e = err;\n        err = merge(err, {name: e.name, message: e.message, stack: stackTrace(e)});\n      }\n\n      if (!(typeof err === 'object')) {\n        var m = String(err);\n        err = {message: m};\n      }\n\n      if (name && !(typeof name === 'object')) {\n        var n = String(name);\n        name = {name: n};\n      }\n\n      if (name) {\n        err = mergeErr(err, name);\n      }\n      if (typeof extra === 'object') {\n        err = mergeErr(err, extra);\n      }\n\n      return notify(err, generateStackTrace(err));\n    };\n\n    self.wrap = function(func) {\n      return wrap(func, { force: true });\n    };\n\n    self.setContext = function(context) {\n      if (typeof context === 'object') {\n        self.context = merge(self.context, context);\n      }\n      return self;\n    };\n\n    self.resetContext = function(context) {\n      if (typeof context === 'object') {\n        self.context = merge({}, context);\n      } else {\n        self.context = {};\n      }\n      return self;\n    };\n\n    self.configure = function(opts) {\n      for (var k in opts) {\n        self[k] = opts[k];\n      }\n      if (singleton && !installed) {\n        installed = true;\n        integrations.forEach((integration) => integration());\n      }\n      return self;\n    };\n\n    self.beforeNotify = function(handler) {\n      self.beforeNotifyHandlers.push(handler);\n      return self;\n    };\n\n    self.afterNotify = function(handler) {\n      self.afterNotifyHandlers.push(handler);\n      return self;\n    };\n\n    var indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n    self.reset = function() {\n      self.context = {};\n      self.beforeNotifyHandlers = [];\n      self.breadcrumbs = [];\n      for (var k in self) {\n        if (indexOf.call(defaultProps, k) == -1) {\n          self[k] = undefined;\n        }\n      }\n      self.resetMaxErrors();\n      return self;\n    };\n\n    self.resetMaxErrors = function() {\n      return (self.errorsSent=0);\n    };\n\n    self.getVersion = function() {\n      return VERSION;\n    };\n\n    self.addBreadcrumb = function(message, opts) {\n      if (!breadcrumbsEnabled()) return;\n\n      opts = opts || {};\n\n      const metadata = newObject(opts.metadata);\n      const category = opts.category || 'custom';\n      const timestamp = new Date().toISOString();\n\n      self.breadcrumbs.push({\n        category: category,\n        message: message,\n        metadata: metadata,\n        timestamp: timestamp,\n      });\n\n      const limit = config('maxBreadcrumbs', 40);\n      if (self.breadcrumbs.length > limit) {\n        self.breadcrumbs = self.breadcrumbs.slice(self.breadcrumbs.length - limit);\n      }\n\n      return self;\n    };\n\n    const integrations = [];\n\n    // Install instrumentation.\n    // This should happen once for the first factory call.\n    function instrument(object, name, replacement) {\n      if (notSingleton) { return; }\n      if (!object || !name || !replacement || !(name in object)) { return; }\n      let original = object[name];\n      while (original && original.__hb_original) {\n        original = original.__hb_original;\n      }\n      object[name] = replacement(original);\n      object[name].__hb_original = original;\n    }\n\n    // Breadcrumbs: instrument click events\n    integrations.push(function() {\n      if (!breadcrumbsEnabled('dom')) { return; }\n\n      window.addEventListener('click', (event) => {\n        let message, selector, text;\n        try {\n          message = stringNameOfElement(event.target);\n          selector = stringSelectorOfElement(event.target);\n          text = stringTextOfElement(event.target);\n        } catch(e) {\n          message = 'UI Click';\n          selector = '[unknown]';\n          text = '[unknown]';\n        }\n\n        // There's nothing to display\n        if (message.length === 0) { return; };\n\n        self.addBreadcrumb(message, {\n          category: 'ui.click',\n          metadata: {\n            selector,\n            text,\n            event,\n          },\n        });\n      }, true);\n    });\n\n    // Breadcrumbs: instrument XMLHttpRequest\n    integrations.push(function() {\n      if (!breadcrumbsEnabled('network')) { return; }\n\n      // -- On xhr.open: capture initial metadata\n      instrument(XMLHttpRequest.prototype, 'open', function(original) {\n        return function() {\n          const xhr = this;\n          const url = arguments[1];\n          const method = typeof arguments[0] === 'string' ? arguments[0].toUpperCase() : arguments[0];\n          const message = `${method} ${localURLPathname(url)}`;\n\n          this.__hb_xhr = {\n            type: 'xhr',\n            method,\n            url,\n            message,\n          };\n\n          if (typeof original === 'function') {\n            original.apply(xhr, arguments);\n          }\n        };\n      });\n\n      // -- On xhr.send: set up xhr.onreadystatechange to report breadcrumb\n      instrument(XMLHttpRequest.prototype, 'send', function(original) {\n        return function() {\n          const xhr = this;\n\n          function onreadystatechangeHandler() {\n            if (xhr.readyState === 4) {\n              let message;\n\n              if (xhr.__hb_xhr) {\n                xhr.__hb_xhr.status_code = xhr.status;\n                message = xhr.__hb_xhr.message;\n                delete xhr.__hb_xhr.message;\n              }\n\n              self.addBreadcrumb(message || 'XMLHttpRequest', {\n                category: 'request',\n                metadata: xhr.__hb_xhr,\n              });\n            }\n          }\n\n          if ('onreadystatechange' in xhr && typeof xhr.onreadystatechange === 'function') {\n            instrument(xhr, 'onreadystatechange', function(original) {\n              return function() {\n                onreadystatechangeHandler();\n\n                if (typeof original === 'function') {\n                  original.apply(this, arguments);\n                }\n              };\n            });\n          } else {\n            xhr.onreadystatechange = onreadystatechangeHandler;\n          }\n\n          if (typeof original === 'function') {\n            original.apply(xhr, arguments);\n          }\n        };\n      });\n    });\n\n    // Breadcrumbs: instrument fetch\n    integrations.push(function() {\n      if (!breadcrumbsEnabled('network')) { return; }\n\n      if (!nativeFetch()) {\n        // Polyfills use XHR.\n        return;\n      }\n\n      instrument(window, 'fetch', function(original) {\n        return function() {\n          const input = arguments[0];\n\n          let method = 'GET';\n          let url;\n\n          if (typeof input === 'string') {\n            url = input;\n          } else if ('Request' in window && input instanceof Request) {\n            url = input.url;\n            if (input.method) {\n              method = input.method;\n            }\n          } else {\n            url = String(input);\n          }\n\n          if (arguments[1] && arguments[1].method) {\n            method = arguments[1].method;\n          }\n\n          if (typeof method === 'string') {\n            method = method.toUpperCase();\n          }\n\n          const message = `${method} ${localURLPathname(url)}`;\n          const metadata = {\n            type: 'fetch',\n            method,\n            url,\n          };\n\n          return original\n            .apply(this, arguments)\n            .then(function(response) {\n              metadata.status_code = response.status;\n              self.addBreadcrumb(message, {\n                category: 'request',\n                metadata,\n              });\n              return response;\n            })\n            .catch(function(error) {\n              self.addBreadcrumb('fetch error', {\n                category: 'error',\n                metadata,\n              });\n\n              throw error;\n            });\n        };\n      });\n    });\n\n    // Breadcrumbs: instrument navigation\n    integrations.push(function() {\n      if (!breadcrumbsEnabled('navigation')) { return; }\n\n      // The last known href of the current page\n      let lastHref = window.location.href;\n\n      function recordUrlChange(from, to) {\n        lastHref = to;\n        self.addBreadcrumb('Page changed', {\n          category: 'navigation',\n          metadata: {\n            from,\n            to,\n          },\n        });\n      }\n\n      // https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onpopstate\n      instrument(window, 'onpopstate', function(original) {\n        return function() {\n          recordUrlChange(lastHref, window.location.href);\n          if (original) {\n            return original.apply(this, arguments);\n          }\n        };\n      });\n\n      // https://developer.mozilla.org/en-US/docs/Web/API/History/pushState\n      // https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState\n      function historyWrapper(original) {\n        return function() {\n          const url = arguments.length > 2 ? arguments[2] : undefined;\n          if (url) {\n            recordUrlChange(lastHref, String(url));\n          }\n          return original.apply(this, arguments);\n        };\n      }\n      instrument(window.history, 'pushState', historyWrapper);\n      instrument(window.history, 'replaceState', historyWrapper);\n    });\n\n    // Breadcrumbs: instrument console\n    integrations.push(function() {\n      if (!breadcrumbsEnabled('console')) { return; }\n\n      function inspectArray(obj) {\n        if (!Array.isArray(obj)) { return ''; }\n\n        return obj.map(value => {\n          try {\n            return String(value);\n          } catch (e) {\n            return '[unknown]';\n          }\n        }).join(' ');\n      }\n\n      ['debug', 'info', 'warn', 'error', 'log'].forEach(level => {\n        instrument(window.console, level, function(original) {\n          return function() {\n            const args = Array.prototype.slice.call(arguments);\n            const message = inspectArray(args);\n            const opts = {\n              category: 'log',\n              metadata: {\n                level: level,\n                arguments: sanitize(args, 3),\n              },\n            };\n\n            self.addBreadcrumb(message, opts);\n\n            if (typeof original === 'function') {\n              Function.prototype.apply.call(original, window.console, arguments);\n            }\n          };\n        });\n      });\n    });\n\n    // Wrap timers\n    (function() {\n      function instrumentTimer(wrapOpts) {\n        return function(original) {\n          // See https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setTimeout\n          return function(func, delay) {\n            if (typeof func === 'function') {\n              var args = Array.prototype.slice.call(arguments, 2);\n              func = wrap(func, wrapOpts);\n              return original(function() {\n                func.apply(null, args);\n              }, delay);\n            } else {\n              return original(func, delay);\n            }\n          };\n        };\n      };\n      instrument(window, 'setTimeout', instrumentTimer({ component: 'setTimeout' }));\n      instrument(window, 'setInterval', instrumentTimer({ component: 'setInterval' }));\n    })();\n\n    // Wrap event listeners\n    // Event targets borrowed from bugsnag-js:\n    // See https://github.com/bugsnag/bugsnag-js/blob/d55af916a4d3c7757f979d887f9533fe1a04cc93/src/bugsnag.js#L542\n    'EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload'.replace(/\\w+/g, function (prop) {\n      var prototype = window[prop] && window[prop].prototype;\n      if (prototype && prototype.hasOwnProperty && prototype.hasOwnProperty('addEventListener')) {\n        instrument(prototype, 'addEventListener', function(original) {\n          const wrapOpts = {component: `${prop}.prototype.addEventListener`};\n\n          // See https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n          return function(type, listener, useCapture, wantsUntrusted) {\n            try {\n              if (listener && listener.handleEvent != null) {\n                listener.handleEvent = wrap(listener.handleEvent, wrapOpts);\n              }\n            } catch(e) {\n              // Ignore 'Permission denied to access property \"handleEvent\"' errors.\n              log(e);\n            }\n            return original.call(this, type, wrap(listener, wrapOpts), useCapture, wantsUntrusted);\n          };\n        });\n        instrument(prototype, 'removeEventListener', function(original) {\n          return function(type, listener, useCapture, wantsUntrusted) {\n            original.call(this, type, listener, useCapture, wantsUntrusted);\n            return original.call(this, type, wrap(listener), useCapture, wantsUntrusted);\n          };\n        });\n      }\n    });\n\n    // Wrap window.onerror\n    instrument(window, 'onerror', function(original) {\n      function onerror(msg, url, line, col, err) {\n        debug('window.onerror callback invoked', arguments);\n\n        // Skip if the error is already being sent.\n        if (currentErr) { return; }\n\n        if (!onErrorEnabled()) { return; }\n\n        if (line === 0 && /Script error\\.?/.test(msg)) {\n          // See https://developer.mozilla.org/en/docs/Web/API/GlobalEventHandlers/onerror#Notes\n          log('Ignoring cross-domain script error: enable CORS to track these types of errors', arguments);\n          return;\n        }\n\n        // Simulate v8 stack\n        const simulatedStack = [msg, '\\n    at ? (', url || 'unknown', ':', line || 0, ':', col || 0, ')'].join('');\n\n        let generated;\n        if (err) {\n          generated = { stack: stackTrace(err) };\n          if (!generated.stack) { generated = {stack: simulatedStack}; }\n        } else {\n          // Important: leave `generated` undefined\n          err = {\n            name: 'window.onerror',\n            message: msg,\n            stack: simulatedStack\n          };\n        }\n\n        self.addBreadcrumb(\n          (err.name === 'window.onerror' || !err.name) ? 'window.onerror' : `window.onerror: ${err.name}`,\n          {\n            category: 'error',\n            metadata: {\n              message: err.message,\n              name: err.name,\n              stack: generated ? generated.stack : err.stack\n            }\n          }\n        );\n\n        notify(err, generated);\n      }\n      // See https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror\n      return function(msg, url, line, col, err) {\n        onerror(msg, url, line, col, err);\n        if (typeof original === 'function' && config('_onerror_call_orig', true)) {\n          return original.apply(this, arguments);\n        }\n        return false;\n      };\n    });\n\n    // Wrap window.onunhandledrejection\n    instrument(window, 'onunhandledrejection', function(original) {\n      // See https://developer.mozilla.org/en-US/docs/Web/API/Window/unhandledrejection_event\n      function onunhandledrejection(promiseRejectionEvent) {\n        debug('window.onunhandledrejection callback invoked', arguments);\n\n        // Skip if the error is already being sent.\n        if (currentErr) { return; }\n\n        if (!onUnhandledRejectionEnabled()) { return; }\n\n        let { reason } = promiseRejectionEvent;\n\n        if (reason instanceof Error) {\n          // simulate v8 stack\n          let fileName = reason.fileName || 'unknown';\n          let lineNumber = reason.lineNumber || 0;\n          let stackFallback = `${reason.message}\\n    at ? (${fileName}:${lineNumber})`;\n          let stack = stackTrace(reason) || stackFallback;\n          let err = {\n            name: reason.name,\n            message: `UnhandledPromiseRejectionWarning: ${reason}`,\n            stack\n          };\n          self.addBreadcrumb(\n            `window.onunhandledrejection: ${err.name}`,\n            {\n              category: 'error',\n              metadata: err\n            }\n          );\n          notify(err);\n          return;\n        }\n\n        let message = typeof reason === 'string' ? reason : JSON.stringify(reason);\n        notify({\n          name: 'window.onunhandledrejection',\n          message: `UnhandledPromiseRejectionWarning: ${message}`,\n        });\n      }\n\n      return function(promiseRejectionEvent) {\n        onunhandledrejection(promiseRejectionEvent);\n        if (typeof original === 'function') {\n          original.apply(this, arguments);\n        }\n      };\n    });\n\n    function incrementErrorsCount() {\n      return self.errorsSent++;\n    }\n\n    function exceedsMaxErrors() {\n      var maxErrors = config('maxErrors');\n      return maxErrors && self.errorsSent >= maxErrors;\n    }\n\n    // Save original state for reset()\n    for (var k in self) {\n      defaultProps.push(k);\n    }\n\n    // Initialization.\n    debug('Initializing honeybadger.js ' + VERSION);\n\n    // See https://developer.mozilla.org/en-US/docs/Web/API/Document/readyState\n    // https://www.w3.org/TR/html5/dom.html#dom-document-readystate\n    // The 'loaded' state is for older versions of Safari.\n    if (/complete|interactive|loaded/.test(document.readyState)) {\n      loaded = true;\n      debug('honeybadger.js ' + VERSION + ' ready');\n    } else {\n      debug('Installing ready handler');\n      var domReady = function() {\n        loaded = true;\n        debug('honeybadger.js ' + VERSION + ' ready');\n        let notice;\n        while (notice = queue.pop()) {\n          send(notice);\n        }\n      };\n      if (document.addEventListener) {\n        document.addEventListener('DOMContentLoaded', domReady, true);\n      } else {\n        window.attachEvent('onload', domReady);\n      }\n    }\n\n    return self;\n  });\n\n  return factory;\n}\n","import builder from './builder.js';\n\nlet factory = builder();\nlet singleton = factory();\n\nsingleton.factory = factory;\n\nexport default singleton;\n"],"names":["sanitize","obj","maxDepth","seenObjects","seen","i","length","value","push","canSerialize","test","hasOwnProperty","serialize","depth","Object","prototype","toString","call","Array","isArray","map","o","ret","k","v","stringNameOfElement","element","tagName","name","toLowerCase","id","stringClassNames","getAttribute","split","forEach","className","attrName","attr","siblings","getSiblings","indexOf","stringSelectorOfElement","parentNode","parentName","stringTextOfElement","text","textContent","innerText","type","truncate","trim","nativeFetch","window","fetch","isNative","sandbox","document","createElement","style","display","head","appendChild","result","contentWindow","removeChild","err","console","warn","func","parseURL","url","match","protocol","host","pathname","localURLPathname","parsed","parsedDocURL","URL","nodes","childNodes","node","e","string","substr","builder","VERSION","NOTIFIER","version","language","loaded","installed","factoryCount","currentErr","merge","obj1","obj2","obj3","newObject","new_obj","mergeErr","err1","err2","context","currentErrIs","message","stack","isIgnored","patterns","some","p","encodeCookie","object","undefined","cookies","join","stackTrace","stacktrace","generateStackTrace","maxStackSize","generator","Error","curr","arguments","callee","RegExp","$1","caller","checkHandlers","handlers","response","handler","len","objectIsEmpty","objectIsExtensible","isExtensible","factory","opts","singleton","notSingleton","defaultProps","queue","self","beforeNotifyHandlers","afterNotifyHandlers","breadcrumbs","errorsSent","breadcrumbsEnabled","dom","network","navigation","log","args","slice","unshift","apply","debug","config","key","fallback","onErrorEnabled","onUnhandledRejectionEnabled","baseURL","request","apiKey","notice","payload","buildPayload","x","XMLHttpRequest","open","setRequestHeader","send","JSON","stringify","onload","afterNotify","status","statusText","parse","exceedsMaxErrors","incrementErrorsCount","data","userAgent","referrer","fingerprint","component","action","params","projectRoot","environment","revision","notify","generated","m","String","project_root","location","navigator","addBreadcrumb","category","metadata","stack_before_handlers","setTimeout","preferCatch","atob","ErrorEvent","colno","_e","wrap","fn","___hb","onerror","force","extra","n","setContext","resetContext","configure","integrations","integration","beforeNotify","item","l","reset","resetMaxErrors","getVersion","timestamp","Date","toISOString","limit","instrument","replacement","original","__hb_original","addEventListener","event","selector","target","xhr","method","toUpperCase","__hb_xhr","onreadystatechangeHandler","readyState","status_code","onreadystatechange","input","Request","then","catch","error","lastHref","href","recordUrlChange","from","to","historyWrapper","history","inspectArray","level","Function","instrumentTimer","wrapOpts","delay","replace","prop","listener","useCapture","wantsUntrusted","handleEvent","msg","line","col","simulatedStack","onunhandledrejection","promiseRejectionEvent","reason","fileName","lineNumber","stackFallback","maxErrors","domReady","pop","attachEvent"],"mappings":"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"}