"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TestFilesFinder = void 0;
var glob = require("glob");
var core_1 = require("@knapsack-pro/core");
var env_config_1 = require("./env-config");
var TestFilesFinder = (function () {
    function TestFilesFinder() {
    }
    TestFilesFinder.allTestFiles = function () {
        var testFiles = glob
            .sync(env_config_1.EnvConfig.testFilePattern)
            .map(function (testFilePath) { return ({ path: testFilePath }); });
        if (testFiles.length === 0) {
            var knapsackProLogger = new core_1.KnapsackProLogger();
            var errorMessage = 'Test files cannot be found.\nPlease set KNAPSACK_PRO_TEST_FILE_PATTERN matching your test directory structure.\nLearn more: https://github.com/KnapsackPro/knapsack-pro-cypress#how-to-run-tests-only-from-specific-directory';
            knapsackProLogger.error(errorMessage);
            throw errorMessage;
        }
        return testFiles;
    };
    return TestFilesFinder;
}());
exports.TestFilesFinder = TestFilesFinder;
