(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["analyticsArticle~analyticsDashboard"],{

/***/ "./app/javascript/analytics/client.js":
/*!********************************************!*\
  !*** ./app/javascript/analytics/client.js ***!
  \********************************************/
/*! exports provided: callHistoricalAPI, callReferrersAPI */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"callHistoricalAPI\", function() { return callHistoricalAPI; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"callReferrersAPI\", function() { return callReferrersAPI; });\n/* harmony import */ var _utilities_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/http */ \"./app/javascript/utilities/http/index.js\");\n\n\nfunction callAnalyticsAPI(path, date, _ref, callback) {\n  var organizationId = _ref.organizationId,\n      articleId = _ref.articleId;\n  var url = \"\".concat(path, \"?start=\").concat(date.toISOString().split('T')[0]);\n\n  if (organizationId) {\n    url = \"\".concat(url, \"&organization_id=\").concat(organizationId);\n  }\n\n  if (articleId) {\n    url = \"\".concat(url, \"&article_id=\").concat(articleId);\n  }\n\n  fetch(url).then(_utilities_http__WEBPACK_IMPORTED_MODULE_0__[\"handleFetchAPIErrors\"]).then(function (response) {\n    return response.json();\n  }).then(callback) // eslint-disable-next-line no-console\n  [\"catch\"](function (error) {\n    return console.error(error);\n  }); // we should come up with better error handling\n}\n\nfunction callHistoricalAPI(date, _ref2, callback) {\n  var organizationId = _ref2.organizationId,\n      articleId = _ref2.articleId;\n  callAnalyticsAPI('/api/analytics/historical', date, {\n    organizationId: organizationId,\n    articleId: articleId\n  }, callback);\n}\nfunction callReferrersAPI(date, _ref3, callback) {\n  var organizationId = _ref3.organizationId,\n      articleId = _ref3.articleId;\n  callAnalyticsAPI('/api/analytics/referrers', date, {\n    organizationId: organizationId,\n    articleId: articleId\n  }, callback);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC9hbmFseXRpY3MvY2xpZW50LmpzP2VmODciXSwibmFtZXMiOlsiY2FsbEFuYWx5dGljc0FQSSIsInBhdGgiLCJkYXRlIiwiY2FsbGJhY2siLCJvcmdhbml6YXRpb25JZCIsImFydGljbGVJZCIsInVybCIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJmZXRjaCIsInRoZW4iLCJoYW5kbGVGZXRjaEFQSUVycm9ycyIsInJlc3BvbnNlIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImNhbGxIaXN0b3JpY2FsQVBJIiwiY2FsbFJlZmVycmVyc0FQSSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFQSxTQUFTQSxnQkFBVCxDQUEwQkMsSUFBMUIsRUFBZ0NDLElBQWhDLFFBQXFFQyxRQUFyRSxFQUErRTtBQUFBLE1BQXZDQyxjQUF1QyxRQUF2Q0EsY0FBdUM7QUFBQSxNQUF2QkMsU0FBdUIsUUFBdkJBLFNBQXVCO0FBQzdFLE1BQUlDLEdBQUcsYUFBTUwsSUFBTixvQkFBb0JDLElBQUksQ0FBQ0ssV0FBTCxHQUFtQkMsS0FBbkIsQ0FBeUIsR0FBekIsRUFBOEIsQ0FBOUIsQ0FBcEIsQ0FBUDs7QUFFQSxNQUFJSixjQUFKLEVBQW9CO0FBQ2xCRSxPQUFHLGFBQU1BLEdBQU4sOEJBQTZCRixjQUE3QixDQUFIO0FBQ0Q7O0FBQ0QsTUFBSUMsU0FBSixFQUFlO0FBQ2JDLE9BQUcsYUFBTUEsR0FBTix5QkFBd0JELFNBQXhCLENBQUg7QUFDRDs7QUFFREksT0FBSyxDQUFDSCxHQUFELENBQUwsQ0FDR0ksSUFESCxDQUNRQyxvRUFEUixFQUVHRCxJQUZILENBRVEsVUFBQ0UsUUFBRDtBQUFBLFdBQWNBLFFBQVEsQ0FBQ0MsSUFBVCxFQUFkO0FBQUEsR0FGUixFQUdHSCxJQUhILENBR1FQLFFBSFIsRUFJRTtBQUpGLFlBS1MsVUFBQ1csS0FBRDtBQUFBLFdBQVdDLE9BQU8sQ0FBQ0QsS0FBUixDQUFjQSxLQUFkLENBQVg7QUFBQSxHQUxULEVBVjZFLENBZWxDO0FBQzVDOztBQUVNLFNBQVNFLGlCQUFULENBQ0xkLElBREssU0FHTEMsUUFISyxFQUlMO0FBQUEsTUFGRUMsY0FFRixTQUZFQSxjQUVGO0FBQUEsTUFGa0JDLFNBRWxCLFNBRmtCQSxTQUVsQjtBQUNBTCxrQkFBZ0IsQ0FDZCwyQkFEYyxFQUVkRSxJQUZjLEVBR2Q7QUFBRUUsa0JBQWMsRUFBZEEsY0FBRjtBQUFrQkMsYUFBUyxFQUFUQTtBQUFsQixHQUhjLEVBSWRGLFFBSmMsQ0FBaEI7QUFNRDtBQUVNLFNBQVNjLGdCQUFULENBQ0xmLElBREssU0FHTEMsUUFISyxFQUlMO0FBQUEsTUFGRUMsY0FFRixTQUZFQSxjQUVGO0FBQUEsTUFGa0JDLFNBRWxCLFNBRmtCQSxTQUVsQjtBQUNBTCxrQkFBZ0IsQ0FDZCwwQkFEYyxFQUVkRSxJQUZjLEVBR2Q7QUFBRUUsa0JBQWMsRUFBZEEsY0FBRjtBQUFrQkMsYUFBUyxFQUFUQTtBQUFsQixHQUhjLEVBSWRGLFFBSmMsQ0FBaEI7QUFNRCIsImZpbGUiOiIuL2FwcC9qYXZhc2NyaXB0L2FuYWx5dGljcy9jbGllbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoYW5kbGVGZXRjaEFQSUVycm9ycyB9IGZyb20gJy4uL3V0aWxpdGllcy9odHRwJztcblxuZnVuY3Rpb24gY2FsbEFuYWx5dGljc0FQSShwYXRoLCBkYXRlLCB7IG9yZ2FuaXphdGlvbklkLCBhcnRpY2xlSWQgfSwgY2FsbGJhY2spIHtcbiAgbGV0IHVybCA9IGAke3BhdGh9P3N0YXJ0PSR7ZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19YDtcblxuICBpZiAob3JnYW5pemF0aW9uSWQpIHtcbiAgICB1cmwgPSBgJHt1cmx9Jm9yZ2FuaXphdGlvbl9pZD0ke29yZ2FuaXphdGlvbklkfWA7XG4gIH1cbiAgaWYgKGFydGljbGVJZCkge1xuICAgIHVybCA9IGAke3VybH0mYXJ0aWNsZV9pZD0ke2FydGljbGVJZH1gO1xuICB9XG5cbiAgZmV0Y2godXJsKVxuICAgIC50aGVuKGhhbmRsZUZldGNoQVBJRXJyb3JzKVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgIC50aGVuKGNhbGxiYWNrKVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihlcnJvcikpOyAvLyB3ZSBzaG91bGQgY29tZSB1cCB3aXRoIGJldHRlciBlcnJvciBoYW5kbGluZ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsbEhpc3RvcmljYWxBUEkoXG4gIGRhdGUsXG4gIHsgb3JnYW5pemF0aW9uSWQsIGFydGljbGVJZCB9LFxuICBjYWxsYmFjayxcbikge1xuICBjYWxsQW5hbHl0aWNzQVBJKFxuICAgICcvYXBpL2FuYWx5dGljcy9oaXN0b3JpY2FsJyxcbiAgICBkYXRlLFxuICAgIHsgb3JnYW5pemF0aW9uSWQsIGFydGljbGVJZCB9LFxuICAgIGNhbGxiYWNrLFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsbFJlZmVycmVyc0FQSShcbiAgZGF0ZSxcbiAgeyBvcmdhbml6YXRpb25JZCwgYXJ0aWNsZUlkIH0sXG4gIGNhbGxiYWNrLFxuKSB7XG4gIGNhbGxBbmFseXRpY3NBUEkoXG4gICAgJy9hcGkvYW5hbHl0aWNzL3JlZmVycmVycycsXG4gICAgZGF0ZSxcbiAgICB7IG9yZ2FuaXphdGlvbklkLCBhcnRpY2xlSWQgfSxcbiAgICBjYWxsYmFjayxcbiAgKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./app/javascript/analytics/client.js\n");

/***/ }),

/***/ "./app/javascript/analytics/dashboard.js":
/*!***********************************************!*\
  !*** ./app/javascript/analytics/dashboard.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initCharts; });\n/* harmony import */ var _client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./client */ \"./app/javascript/analytics/client.js\");\n\n\nfunction resetActive(activeButton) {\n  var buttons = document.getElementsByClassName('timerange-button');\n\n  for (var i = 0; i < buttons.length; i += 1) {\n    var button = buttons[i];\n    button.classList.remove('selected');\n  }\n\n  activeButton.classList.add('selected');\n}\n\nfunction sumAnalytics(data, key) {\n  return Object.entries(data).reduce(function (sum, day) {\n    return sum + day[1][key].total;\n  }, 0);\n}\n\nfunction cardHTML(stat, header) {\n  return \"\\n    <h4>\".concat(header, \"</h4>\\n    <div class=\\\"featured-stat\\\">\").concat(stat, \"</div>\\n  \");\n}\n\nfunction writeCards(data, timeRangeLabel) {\n  var readers = sumAnalytics(data, 'page_views');\n  var reactions = sumAnalytics(data, 'reactions');\n  var comments = sumAnalytics(data, 'comments');\n  var follows = sumAnalytics(data, 'follows');\n  var reactionCard = document.getElementById('reactions-card');\n  var commentCard = document.getElementById('comments-card');\n  var followerCard = document.getElementById('followers-card');\n  var readerCard = document.getElementById('readers-card');\n  readerCard.innerHTML = cardHTML(readers, \"Readers \".concat(timeRangeLabel));\n  commentCard.innerHTML = cardHTML(comments, \"Comments \".concat(timeRangeLabel));\n  reactionCard.innerHTML = cardHTML(reactions, \"Reactions \".concat(timeRangeLabel));\n  followerCard.innerHTML = cardHTML(follows, \"Followers \".concat(timeRangeLabel));\n}\n\nfunction drawChart(_ref) {\n  var canvas = _ref.canvas,\n      title = _ref.title,\n      labels = _ref.labels,\n      datasets = _ref.datasets;\n  var options = {\n    legend: {\n      position: 'bottom'\n    },\n    responsive: true,\n    title: {\n      display: true,\n      text: title\n    },\n    scales: {\n      yAxes: [{\n        ticks: {\n          suggestedMin: 0,\n          precision: 0\n        }\n      }]\n    }\n  };\n  Promise.all(/*! import() */[__webpack_require__.e(7), __webpack_require__.e(14)]).then(__webpack_require__.t.bind(null, /*! chart.js */ \"./node_modules/chart.js/dist/Chart.js\", 7)).then(function (_ref2) {\n    var Chart = _ref2.Chart;\n    // eslint-disable-next-line no-new\n    new Chart(canvas, {\n      type: 'line',\n      data: {\n        labels: labels,\n        datasets: datasets,\n        options: options\n      }\n    });\n  });\n}\n\nfunction drawCharts(data, timeRangeLabel) {\n  var labels = Object.keys(data);\n  var parsedData = Object.entries(data).map(function (date) {\n    return date[1];\n  });\n  var comments = parsedData.map(function (date) {\n    return date.comments.total;\n  });\n  var reactions = parsedData.map(function (date) {\n    return date.reactions.total;\n  });\n  var likes = parsedData.map(function (date) {\n    return date.reactions.like;\n  });\n  var readingList = parsedData.map(function (date) {\n    return date.reactions.readinglist;\n  });\n  var unicorns = parsedData.map(function (date) {\n    return date.reactions.unicorn;\n  });\n  var followers = parsedData.map(function (date) {\n    return date.follows.total;\n  });\n  var readers = parsedData.map(function (date) {\n    return date.page_views.total;\n  });\n  drawChart({\n    canvas: document.getElementById('reactions-chart'),\n    title: \"Reactions \".concat(timeRangeLabel),\n    labels: labels,\n    datasets: [{\n      label: 'Total',\n      data: reactions,\n      fill: false,\n      borderColor: 'rgb(75, 192, 192)',\n      lineTension: 0.1\n    }, {\n      label: 'Likes',\n      data: likes,\n      fill: false,\n      borderColor: 'rgb(229, 100, 100)',\n      lineTension: 0.1\n    }, {\n      label: 'Unicorns',\n      data: unicorns,\n      fill: false,\n      borderColor: 'rgb(157, 57, 233)',\n      lineTension: 0.1\n    }, {\n      label: 'Bookmarks',\n      data: readingList,\n      fill: false,\n      borderColor: 'rgb(10, 133, 255)',\n      lineTension: 0.1\n    }]\n  });\n  drawChart({\n    canvas: document.getElementById('comments-chart'),\n    title: \"Comments \".concat(timeRangeLabel),\n    labels: labels,\n    datasets: [{\n      label: 'Comments',\n      data: comments,\n      fill: false,\n      borderColor: 'rgb(75, 192, 192)',\n      lineTension: 0.1\n    }]\n  });\n  drawChart({\n    canvas: document.getElementById('followers-chart'),\n    title: \"New Followers \".concat(timeRangeLabel),\n    labels: labels,\n    datasets: [{\n      label: 'Followers',\n      data: followers,\n      fill: false,\n      borderColor: 'rgb(10, 133, 255)',\n      lineTension: 0.1\n    }]\n  });\n  drawChart({\n    canvas: document.getElementById('readers-chart'),\n    title: \"Reads \".concat(timeRangeLabel),\n    labels: labels,\n    datasets: [{\n      label: 'Reads',\n      data: readers,\n      fill: false,\n      borderColor: 'rgb(157, 57, 233)',\n      lineTension: 0.1\n    }]\n  });\n}\n\nfunction renderReferrers(data) {\n  var container = document.getElementById('referrers-container');\n  var tableBody = data.domains.filter(function (referrer) {\n    return referrer.domain;\n  }).map(function (referrer) {\n    return \"\\n      <tr>\\n        <td>\".concat(referrer.domain, \"</td>\\n        <td>\").concat(referrer.count, \"</td>\\n      </tr>\\n    \");\n  }); // add referrers with empty domains if present\n\n  var emptyDomainReferrer = data.domains.filter(function (referrer) {\n    return !referrer.domain;\n  })[0];\n\n  if (emptyDomainReferrer) {\n    tableBody.push(\"\\n      <tr>\\n        <td>All other external referrers</td>\\n        <td>\".concat(emptyDomainReferrer.count, \"</td>\\n      </tr>\\n    \"));\n  }\n\n  container.innerHTML = tableBody.join('');\n}\n\nfunction callAnalyticsAPI(date, timeRangeLabel, _ref3) {\n  var organizationId = _ref3.organizationId,\n      articleId = _ref3.articleId;\n  Object(_client__WEBPACK_IMPORTED_MODULE_0__[\"callHistoricalAPI\"])(date, {\n    organizationId: organizationId,\n    articleId: articleId\n  }, function (data) {\n    writeCards(data, timeRangeLabel);\n    drawCharts(data, timeRangeLabel);\n  });\n  Object(_client__WEBPACK_IMPORTED_MODULE_0__[\"callReferrersAPI\"])(date, {\n    organizationId: organizationId,\n    articleId: articleId\n  }, function (data) {\n    renderReferrers(data);\n  });\n}\n\nfunction drawWeekCharts(_ref4) {\n  var organizationId = _ref4.organizationId,\n      articleId = _ref4.articleId;\n  resetActive(document.getElementById('week-button'));\n  var oneWeekAgo = new Date();\n  oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);\n  callAnalyticsAPI(oneWeekAgo, 'this Week', {\n    organizationId: organizationId,\n    articleId: articleId\n  });\n}\n\nfunction drawMonthCharts(_ref5) {\n  var organizationId = _ref5.organizationId,\n      articleId = _ref5.articleId;\n  resetActive(document.getElementById('month-button'));\n  var oneMonthAgo = new Date();\n  oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);\n  callAnalyticsAPI(oneMonthAgo, 'this Month', {\n    organizationId: organizationId,\n    articleId: articleId\n  });\n}\n\nfunction drawInfinityCharts(_ref6) {\n  var organizationId = _ref6.organizationId,\n      articleId = _ref6.articleId;\n  resetActive(document.getElementById('infinity-button')); // April 1st is when the DEV analytics feature went into place\n\n  var beginningOfTime = new Date('2019-4-1');\n  callAnalyticsAPI(beginningOfTime, '', {\n    organizationId: organizationId,\n    articleId: articleId\n  });\n}\n\nfunction initCharts(_ref7) {\n  var organizationId = _ref7.organizationId,\n      articleId = _ref7.articleId;\n  var weekButton = document.getElementById('week-button');\n  weekButton.addEventListener('click', drawWeekCharts.bind(null, {\n    organizationId: organizationId,\n    articleId: articleId\n  }));\n  var monthButton = document.getElementById('month-button');\n  monthButton.addEventListener('click', drawMonthCharts.bind(null, {\n    organizationId: organizationId,\n    articleId: articleId\n  }));\n  var infinityButton = document.getElementById('infinity-button');\n  infinityButton.addEventListener('click', drawInfinityCharts.bind(null, {\n    organizationId: organizationId,\n    articleId: articleId\n  })); // draw week charts by default\n\n  drawWeekCharts({\n    organizationId: organizationId,\n    articleId: articleId\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC9hbmFseXRpY3MvZGFzaGJvYXJkLmpzP2I1NGUiXSwibmFtZXMiOlsicmVzZXRBY3RpdmUiLCJhY3RpdmVCdXR0b24iLCJidXR0b25zIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiaSIsImxlbmd0aCIsImJ1dHRvbiIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInN1bUFuYWx5dGljcyIsImRhdGEiLCJrZXkiLCJPYmplY3QiLCJlbnRyaWVzIiwicmVkdWNlIiwic3VtIiwiZGF5IiwidG90YWwiLCJjYXJkSFRNTCIsInN0YXQiLCJoZWFkZXIiLCJ3cml0ZUNhcmRzIiwidGltZVJhbmdlTGFiZWwiLCJyZWFkZXJzIiwicmVhY3Rpb25zIiwiY29tbWVudHMiLCJmb2xsb3dzIiwicmVhY3Rpb25DYXJkIiwiZ2V0RWxlbWVudEJ5SWQiLCJjb21tZW50Q2FyZCIsImZvbGxvd2VyQ2FyZCIsInJlYWRlckNhcmQiLCJpbm5lckhUTUwiLCJkcmF3Q2hhcnQiLCJjYW52YXMiLCJ0aXRsZSIsImxhYmVscyIsImRhdGFzZXRzIiwib3B0aW9ucyIsImxlZ2VuZCIsInBvc2l0aW9uIiwicmVzcG9uc2l2ZSIsImRpc3BsYXkiLCJ0ZXh0Iiwic2NhbGVzIiwieUF4ZXMiLCJ0aWNrcyIsInN1Z2dlc3RlZE1pbiIsInByZWNpc2lvbiIsInRoZW4iLCJDaGFydCIsInR5cGUiLCJkcmF3Q2hhcnRzIiwia2V5cyIsInBhcnNlZERhdGEiLCJtYXAiLCJkYXRlIiwibGlrZXMiLCJsaWtlIiwicmVhZGluZ0xpc3QiLCJyZWFkaW5nbGlzdCIsInVuaWNvcm5zIiwidW5pY29ybiIsImZvbGxvd2VycyIsInBhZ2Vfdmlld3MiLCJsYWJlbCIsImZpbGwiLCJib3JkZXJDb2xvciIsImxpbmVUZW5zaW9uIiwicmVuZGVyUmVmZXJyZXJzIiwiY29udGFpbmVyIiwidGFibGVCb2R5IiwiZG9tYWlucyIsImZpbHRlciIsInJlZmVycmVyIiwiZG9tYWluIiwiY291bnQiLCJlbXB0eURvbWFpblJlZmVycmVyIiwicHVzaCIsImpvaW4iLCJjYWxsQW5hbHl0aWNzQVBJIiwib3JnYW5pemF0aW9uSWQiLCJhcnRpY2xlSWQiLCJjYWxsSGlzdG9yaWNhbEFQSSIsImNhbGxSZWZlcnJlcnNBUEkiLCJkcmF3V2Vla0NoYXJ0cyIsIm9uZVdlZWtBZ28iLCJEYXRlIiwic2V0RGF0ZSIsImdldERhdGUiLCJkcmF3TW9udGhDaGFydHMiLCJvbmVNb250aEFnbyIsInNldE1vbnRoIiwiZ2V0TW9udGgiLCJkcmF3SW5maW5pdHlDaGFydHMiLCJiZWdpbm5pbmdPZlRpbWUiLCJpbml0Q2hhcnRzIiwid2Vla0J1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJiaW5kIiwibW9udGhCdXR0b24iLCJpbmZpbml0eUJ1dHRvbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7O0FBRUEsU0FBU0EsV0FBVCxDQUFxQkMsWUFBckIsRUFBbUM7QUFDakMsTUFBTUMsT0FBTyxHQUFHQyxRQUFRLENBQUNDLHNCQUFULENBQWdDLGtCQUFoQyxDQUFoQjs7QUFDQSxPQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdILE9BQU8sQ0FBQ0ksTUFBNUIsRUFBb0NELENBQUMsSUFBSSxDQUF6QyxFQUE0QztBQUMxQyxRQUFNRSxNQUFNLEdBQUdMLE9BQU8sQ0FBQ0csQ0FBRCxDQUF0QjtBQUNBRSxVQUFNLENBQUNDLFNBQVAsQ0FBaUJDLE1BQWpCLENBQXdCLFVBQXhCO0FBQ0Q7O0FBRURSLGNBQVksQ0FBQ08sU0FBYixDQUF1QkUsR0FBdkIsQ0FBMkIsVUFBM0I7QUFDRDs7QUFFRCxTQUFTQyxZQUFULENBQXNCQyxJQUF0QixFQUE0QkMsR0FBNUIsRUFBaUM7QUFDL0IsU0FBT0MsTUFBTSxDQUFDQyxPQUFQLENBQWVILElBQWYsRUFBcUJJLE1BQXJCLENBQTRCLFVBQUNDLEdBQUQsRUFBTUMsR0FBTjtBQUFBLFdBQWNELEdB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QURGLEVBRUViLGNBQWMsQ0FBQ2MsSUFBZixDQUFvQixJQUFwQixFQUEwQjtBQUFFbEIsa0JBQWMsRUFBZEEsY0FBRjtBQUFrQkMsYUFBUyxFQUFUQTtBQUFsQixHQUExQixDQUZGO0FBS0EsTUFBTWtCLFdBQVcsR0FBR25HLFFBQVEsQ0FBQzJCLGNBQVQsQ0FBd0IsY0FBeEIsQ0FBcEI7QUFDQXdFLGFBQVcsQ0FBQ0YsZ0JBQVosQ0FDRSxPQURGLEVBRUVSLGVBQWUsQ0FBQ1MsSUFBaEIsQ0FBcUIsSUFBckIsRUFBMkI7QUFBRWxCLGtCQUFjLEVBQWRBLGNBQUY7QUFBa0JDLGFBQVMsRUFBVEE7QUFBbEIsR0FBM0IsQ0FGRjtBQUtBLE1BQU1tQixjQUFjLEdBQUdwRyxRQUFRLENBQUMyQixjQUFULENBQXdCLGlCQUF4QixDQUF2QjtBQUNBeUUsZ0JBQWMsQ0FBQ0gsZ0JBQWYsQ0FDRSxPQURGLEVBRUVKLGtCQUFrQixDQUFDSyxJQUFuQixDQUF3QixJQUF4QixFQUE4QjtBQUFFbEIsa0JBQWMsRUFBZEEsY0FBRjtBQUFrQkMsYUFBUyxFQUFUQTtBQUFsQixHQUE5QixDQUZGLEVBZGdFLENBbUJoRTs7QUFDQUcsZ0JBQWMsQ0FBQztBQUFFSixrQkFBYyxFQUFkQSxjQUFGO0FBQWtCQyxhQUFTLEVBQVRBO0FBQWxCLEdBQUQsQ0FBZDtBQUNEIiwiZmlsZSI6Ii4vYXBwL2phdmFzY3JpcHQvYW5hbHl0aWNzL2Rhc2hib2FyZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNhbGxIaXN0b3JpY2FsQVBJLCBjYWxsUmVmZXJyZXJzQVBJIH0gZnJvbSAnLi9jbGllbnQnO1xuXG5mdW5jdGlvbiByZXNldEFjdGl2ZShhY3RpdmVCdXR0b24pIHtcbiAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3RpbWVyYW5nZS1idXR0b24nKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBidXR0b25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgYnV0dG9uID0gYnV0dG9uc1tpXTtcbiAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgfVxuXG4gIGFjdGl2ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xufVxuXG5mdW5jdGlvbiBzdW1BbmFseXRpY3MoZGF0YSwga2V5KSB7XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhkYXRhKS5yZWR1Y2UoKHN1bSwgZGF5KSA9PiBzdW0gKyBkYXlbMV1ba2V5XS50b3RhbCwgMCk7XG59XG5cbmZ1bmN0aW9uIGNhcmRIVE1MKHN0YXQsIGhlYWRlcikge1xuICByZXR1cm4gYFxuICAgIDxoND4ke2hlYWRlcn08L2g0PlxuICAgIDxkaXYgY2xhc3M9XCJmZWF0dXJlZC1zdGF0XCI+JHtzdGF0fTwvZGl2PlxuICBgO1xufVxuXG5mdW5jdGlvbiB3cml0ZUNhcmRzKGRhdGEsIHRpbWVSYW5nZUxhYmVsKSB7XG4gIGNvbnN0IHJlYWRlcnMgPSBzdW1BbmFseXRpY3MoZGF0YSwgJ3BhZ2Vfdmlld3MnKTtcbiAgY29uc3QgcmVhY3Rpb25zID0gc3VtQW5hbHl0aWNzKGRhdGEsICdyZWFjdGlvbnMnKTtcbiAgY29uc3QgY29tbWVudHMgPSBzdW1BbmFseXRpY3MoZGF0YSwgJ2NvbW1lbnRzJyk7XG4gIGNvbnN0IGZvbGxvd3MgPSBzdW1BbmFseXRpY3MoZGF0YSwgJ2ZvbGxvd3MnKTtcblxuICBjb25zdCByZWFjdGlvbkNhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVhY3Rpb25zLWNhcmQnKTtcbiAgY29uc3QgY29tbWVudENhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tbWVudHMtY2FyZCcpO1xuICBjb25zdCBmb2xsb3dlckNhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9sbG93ZXJzLWNhcmQnKTtcbiAgY29uc3QgcmVhZGVyQ2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWFkZXJzLWNhcmQnKTtcblxuICByZWFkZXJDYXJkLmlubmVySFRNTCA9IGNhcmRIVE1MKHJlYWRlcnMsIGBSZWFkZXJzICR7dGltZVJhbmdlTGFiZWx9YCk7XG4gIGNvbW1lbnRDYXJkLmlubmVySFRNTCA9IGNhcmRIVE1MKGNvbW1lbnRzLCBgQ29tbWVudHMgJHt0aW1lUmFuZ2VMYWJlbH1gKTtcbiAgcmVhY3Rpb25DYXJkLmlubmVySFRNTCA9IGNhcmRIVE1MKHJlYWN0aW9ucywgYFJlYWN0aW9ucyAke3RpbWVSYW5nZUxhYmVsfWApO1xuICBmb2xsb3dlckNhcmQuaW5uZXJIVE1MID0gY2FyZEhUTUwoZm9sbG93cywgYEZvbGxvd2VycyAke3RpbWVSYW5nZUxhYmVsfWApO1xufVxuXG5mdW5jdGlvbiBkcmF3Q2hhcnQoeyBjYW52YXMsIHRpdGxlLCBsYWJlbHMsIGRhdGFzZXRzIH0pIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBsZWdlbmQ6IHtcbiAgICAgIHBvc2l0aW9uOiAnYm90dG9tJyxcbiAgICB9LFxuICAgIHJlc3BvbnNpdmU6IHRydWUsXG4gICAgdGl0bGU6IHtcbiAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICB0ZXh0OiB0aXRsZSxcbiAgICB9LFxuICAgIHNjYWxlczoge1xuICAgICAgeUF4ZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICBzdWdnZXN0ZWRNaW46IDAsXG4gICAgICAgICAgICBwcmVjaXNpb246IDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgfTtcblxuICBpbXBvcnQoJ2NoYXJ0LmpzJykudGhlbigoeyBDaGFydCB9KSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ld1xuICAgIG5ldyBDaGFydChjYW52YXMsIHtcbiAgICAgIHR5cGU6ICdsaW5lJyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbGFiZWxzLFxuICAgICAgICBkYXRhc2V0cyxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBkcmF3Q2hhcnRzKGRhdGEsIHRpbWVSYW5nZUxhYmVsKSB7XG4gIGNvbnN0IGxhYmVscyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICBjb25zdCBwYXJzZWREYXRhID0gT2JqZWN0LmVudHJpZXMoZGF0YSkubWFwKChkYXRlKSA9PiBkYXRlWzFdKTtcbiAgY29uc3QgY29tbWVudHMgPSBwYXJzZWREYXRhLm1hcCgoZGF0ZSkgPT4gZGF0ZS5jb21tZW50cy50b3RhbCk7XG4gIGNvbnN0IHJlYWN0aW9ucyA9IHBhcnNlZERhdGEubWFwKChkYXRlKSA9PiBkYXRlLnJlYWN0aW9ucy50b3RhbCk7XG4gIGNvbnN0IGxpa2VzID0gcGFyc2VkRGF0YS5tYXAoKGRhdGUpID0+IGRhdGUucmVhY3Rpb25zLmxpa2UpO1xuICBjb25zdCByZWFkaW5nTGlzdCA9IHBhcnNlZERhdGEubWFwKChkYXRlKSA9PiBkYXRlLnJlYWN0aW9ucy5yZWFkaW5nbGlzdCk7XG4gIGNvbnN0IHVuaWNvcm5zID0gcGFyc2VkRGF0YS5tYXAoKGRhdGUpID0+IGRhdGUucmVhY3Rpb25zLnVuaWNvcm4pO1xuICBjb25zdCBmb2xsb3dlcnMgPSBwYXJzZWREYXRhLm1hcCgoZGF0ZSkgPT4gZGF0ZS5mb2xsb3dzLnRvdGFsKTtcbiAgY29uc3QgcmVhZGVycyA9IHBhcnNlZERhdGEubWFwKChkYXRlKSA9PiBkYXRlLnBhZ2Vfdmlld3MudG90YWwpO1xuXG4gIGRyYXdDaGFydCh7XG4gICAgY2FudmFzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVhY3Rpb25zLWNoYXJ0JyksXG4gICAgdGl0bGU6IGBSZWFjdGlvbnMgJHt0aW1lUmFuZ2VMYWJlbH1gLFxuICAgIGxhYmVscyxcbiAgICBkYXRhc2V0czogW1xuICAgICAge1xuICAgICAgICBsYWJlbDogJ1RvdGFsJyxcbiAgICAgICAgZGF0YTogcmVhY3Rpb25zLFxuICAgICAgICBmaWxsOiBmYWxzZSxcbiAgICAgICAgYm9yZGVyQ29sb3I6ICdyZ2IoNzUsIDE5MiwgMTkyKScsXG4gICAgICAgIGxpbmVUZW5zaW9uOiAwLjEsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBsYWJlbDogJ0xpa2VzJyxcbiAgICAgICAgZGF0YTogbGlrZXMsXG4gICAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgICBib3JkZXJDb2xvcjogJ3JnYigyMjksIDEwMCwgMTAwKScsXG4gICAgICAgIGxpbmVUZW5zaW9uOiAwLjEsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBsYWJlbDogJ1VuaWNvcm5zJyxcbiAgICAgICAgZGF0YTogdW5pY29ybnMsXG4gICAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgICBib3JkZXJDb2xvcjogJ3JnYigxNTcsIDU3LCAyMzMpJyxcbiAgICAgICAgbGluZVRlbnNpb246IDAuMSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiAnQm9va21hcmtzJyxcbiAgICAgICAgZGF0YTogcmVhZGluZ0xpc3QsXG4gICAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgICBib3JkZXJDb2xvcjogJ3JnYigxMCwgMTMzLCAyNTUpJyxcbiAgICAgICAgbGluZVRlbnNpb246IDAuMSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSk7XG5cbiAgZHJhd0NoYXJ0KHtcbiAgICBjYW52YXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21tZW50cy1jaGFydCcpLFxuICAgIHRpdGxlOiBgQ29tbWVudHMgJHt0aW1lUmFuZ2VMYWJlbH1gLFxuICAgIGxhYmVscyxcbiAgICBkYXRhc2V0czogW1xuICAgICAge1xuICAgICAgICBsYWJlbDogJ0NvbW1lbnRzJyxcbiAgICAgICAgZGF0YTogY29tbWVudHMsXG4gICAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgICBib3JkZXJDb2xvcjogJ3JnYig3NSwgMTkyLCAxOTIpJyxcbiAgICAgICAgbGluZVRlbnNpb246IDAuMSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSk7XG5cbiAgZHJhd0NoYXJ0KHtcbiAgICBjYW52YXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb2xsb3dlcnMtY2hhcnQnKSxcbiAgICB0aXRsZTogYE5ldyBGb2xsb3dlcnMgJHt0aW1lUmFuZ2VMYWJlbH1gLFxuICAgIGxhYmVscyxcbiAgICBkYXRhc2V0czogW1xuICAgICAge1xuICAgICAgICBsYWJlbDogJ0ZvbGxvd2VycycsXG4gICAgICAgIGRhdGE6IGZvbGxvd2VycyxcbiAgICAgICAgZmlsbDogZmFsc2UsXG4gICAgICAgIGJvcmRlckNvbG9yOiAncmdiKDEwLCAxMzMsIDI1NSknLFxuICAgICAgICBsaW5lVGVuc2lvbjogMC4xLFxuICAgICAgfSxcbiAgICBdLFxuICB9KTtcblxuICBkcmF3Q2hhcnQoe1xuICAgIGNhbnZhczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlYWRlcnMtY2hhcnQnKSxcbiAgICB0aXRsZTogYFJlYWRzICR7dGltZVJhbmdlTGFiZWx9YCxcbiAgICBsYWJlbHMsXG4gICAgZGF0YXNldHM6IFtcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6ICdSZWFkcycsXG4gICAgICAgIGRhdGE6IHJlYWRlcnMsXG4gICAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgICBib3JkZXJDb2xvcjogJ3JnYigxNTcsIDU3LCAyMzMpJyxcbiAgICAgICAgbGluZVRlbnNpb246IDAuMSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclJlZmVycmVycyhkYXRhKSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWZlcnJlcnMtY29udGFpbmVyJyk7XG4gIGNvbnN0IHRhYmxlQm9keSA9IGRhdGEuZG9tYWluc1xuICAgIC5maWx0ZXIoKHJlZmVycmVyKSA9PiByZWZlcnJlci5kb21haW4pXG4gICAgLm1hcCgocmVmZXJyZXIpID0+IHtcbiAgICAgIHJldHVybiBgXG4gICAgICA8dHI+XG4gICAgICAgIDx0ZD4ke3JlZmVycmVyLmRvbWFpbn08L3RkPlxuICAgICAgICA8dGQ+JHtyZWZlcnJlci5jb3VudH08L3RkPlxuICAgICAgPC90cj5cbiAgICBgO1xuICAgIH0pO1xuXG4gIC8vIGFkZCByZWZlcnJlcnMgd2l0aCBlbXB0eSBkb21haW5zIGlmIHByZXNlbnRcbiAgY29uc3QgZW1wdHlEb21haW5SZWZlcnJlciA9IGRhdGEuZG9tYWlucy5maWx0ZXIoXG4gICAgKHJlZmVycmVyKSA9PiAhcmVmZXJyZXIuZG9tYWluLFxuICApWzBdO1xuICBpZiAoZW1wdHlEb21haW5SZWZlcnJlcikge1xuICAgIHRhYmxlQm9keS5wdXNoKGBcbiAgICAgIDx0cj5cbiAgICAgICAgPHRkPkFsbCBvdGhlciBleHRlcm5hbCByZWZlcnJlcnM8L3RkPlxuICAgICAgICA8dGQ+JHtlbXB0eURvbWFpblJlZmVycmVyLmNvdW50fTwvdGQ+XG4gICAgICA8L3RyPlxuICAgIGApO1xuICB9XG5cbiAgY29udGFpbmVyLmlubmVySFRNTCA9IHRhYmxlQm9keS5qb2luKCcnKTtcbn1cblxuZnVuY3Rpb24gY2FsbEFuYWx5dGljc0FQSShkYXRlLCB0aW1lUmFuZ2VMYWJlbCwgeyBvcmdhbml6YXRpb25JZCwgYXJ0aWNsZUlkIH0pIHtcbiAgY2FsbEhpc3RvcmljYWxBUEkoZGF0ZSwgeyBvcmdhbml6YXRpb25JZCwgYXJ0aWNsZUlkIH0sIChkYXRhKSA9PiB7XG4gICAgd3JpdGVDYXJkcyhkYXRhLCB0aW1lUmFuZ2VMYWJlbCk7XG4gICAgZHJhd0NoYXJ0cyhkYXRhLCB0aW1lUmFuZ2VMYWJlbCk7XG4gIH0pO1xuXG4gIGNhbGxSZWZlcnJlcnNBUEkoZGF0ZSwgeyBvcmdhbml6YXRpb25JZCwgYXJ0aWNsZUlkIH0sIChkYXRhKSA9PiB7XG4gICAgcmVuZGVyUmVmZXJyZXJzKGRhdGEpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZHJhd1dlZWtDaGFydHMoeyBvcmdhbml6YXRpb25JZCwgYXJ0aWNsZUlkIH0pIHtcbiAgcmVzZXRBY3RpdmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlZWstYnV0dG9uJykpO1xuICBjb25zdCBvbmVXZWVrQWdvID0gbmV3IERhdGUoKTtcbiAgb25lV2Vla0Fnby5zZXREYXRlKG9uZVdlZWtBZ28uZ2V0RGF0ZSgpIC0gNyk7XG4gIGNhbGxBbmFseXRpY3NBUEkob25lV2Vla0FnbywgJ3RoaXMgV2VlaycsIHsgb3JnYW5pemF0aW9uSWQsIGFydGljbGVJZCB9KTtcbn1cblxuZnVuY3Rpb24gZHJhd01vbnRoQ2hhcnRzKHsgb3JnYW5pemF0aW9uSWQsIGFydGljbGVJZCB9KSB7XG4gIHJlc2V0QWN0aXZlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb250aC1idXR0b24nKSk7XG4gIGNvbnN0IG9uZU1vbnRoQWdvID0gbmV3IERhdGUoKTtcbiAgb25lTW9udGhBZ28uc2V0TW9udGgob25lTW9udGhBZ28uZ2V0TW9udGgoKSAtIDEpO1xuICBjYWxsQW5hbHl0aWNzQVBJKG9uZU1vbnRoQWdvLCAndGhpcyBNb250aCcsIHsgb3JnYW5pemF0aW9uSWQsIGFydGljbGVJZCB9KTtcbn1cblxuZnVuY3Rpb24gZHJhd0luZmluaXR5Q2hhcnRzKHsgb3JnYW5pemF0aW9uSWQsIGFydGljbGVJZCB9KSB7XG4gIHJlc2V0QWN0aXZlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmZpbml0eS1idXR0b24nKSk7XG4gIC8vIEFwcmlsIDFzdCBpcyB3aGVuIHRoZSBERVYgYW5hbHl0aWNzIGZlYXR1cmUgd2VudCBpbnRvIHBsYWNlXG4gIGNvbnN0IGJlZ2lubmluZ09mVGltZSA9IG5ldyBEYXRlKCcyMDE5LTQtMScpO1xuICBjYWxsQW5hbHl0aWNzQVBJKGJlZ2lubmluZ09mVGltZSwgJycsIHsgb3JnYW5pemF0aW9uSWQsIGFydGljbGVJZCB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdENoYXJ0cyh7IG9yZ2FuaXphdGlvbklkLCBhcnRpY2xlSWQgfSkge1xuICBjb25zdCB3ZWVrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlZWstYnV0dG9uJyk7XG4gIHdlZWtCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAnY2xpY2snLFxuICAgIGRyYXdXZWVrQ2hhcnRzLmJpbmQobnVsbCwgeyBvcmdhbml6YXRpb25JZCwgYXJ0aWNsZUlkIH0pLFxuICApO1xuXG4gIGNvbnN0IG1vbnRoQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vbnRoLWJ1dHRvbicpO1xuICBtb250aEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFxuICAgICdjbGljaycsXG4gICAgZHJhd01vbnRoQ2hhcnRzLmJpbmQobnVsbCwgeyBvcmdhbml6YXRpb25JZCwgYXJ0aWNsZUlkIH0pLFxuICApO1xuXG4gIGNvbnN0IGluZmluaXR5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luZmluaXR5LWJ1dHRvbicpO1xuICBpbmZpbml0eUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFxuICAgICdjbGljaycsXG4gICAgZHJhd0luZmluaXR5Q2hhcnRzLmJpbmQobnVsbCwgeyBvcmdhbml6YXRpb25JZCwgYXJ0aWNsZUlkIH0pLFxuICApO1xuXG4gIC8vIGRyYXcgd2VlayBjaGFydHMgYnkgZGVmYXVsdFxuICBkcmF3V2Vla0NoYXJ0cyh7IG9yZ2FuaXphdGlvbklkLCBhcnRpY2xlSWQgfSk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./app/javascript/analytics/dashboard.js\n");

/***/ }),

/***/ "./app/javascript/utilities/http/errors.js":
/*!*************************************************!*\
  !*** ./app/javascript/utilities/http/errors.js ***!
  \*************************************************/
/*! exports provided: handleFetchAPIErrors */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handleFetchAPIErrors\", function() { return handleFetchAPIErrors; });\n// eslint-disable-next-line consistent-return\nfunction handleFetchAPIErrors(response) {\n  // pass along a correct response\n  if (response.ok) {\n    return response;\n  } // API errors contain the error message in {\"error\": \"error message\"}\n  // but they could be unhandled 500 errors\n\n\n  try {\n    response.json().then(function (data) {\n      throw new Error(data.error);\n    });\n  } catch (e) {\n    if (e instanceof SyntaxError) {\n      throw new Error(response.statusText);\n    } else {\n      throw e;\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC91dGlsaXRpZXMvaHR0cC9lcnJvcnMuanM/M2FiMiJdLCJuYW1lcyI6WyJoYW5kbGVGZXRjaEFQSUVycm9ycyIsInJlc3BvbnNlIiwib2siLCJqc29uIiwidGhlbiIsImRhdGEiLCJFcnJvciIsImVycm9yIiwiZSIsIlN5bnRheEVycm9yIiwic3RhdHVzVGV4dCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ08sU0FBU0Esb0JBQVQsQ0FBOEJDLFFBQTlCLEVBQXdDO0FBQzdDO0FBQ0EsTUFBSUEsUUFBUSxDQUFDQyxFQUFiLEVBQWlCO0FBQ2YsV0FBT0QsUUFBUDtBQUNELEdBSjRDLENBTTdDO0FBQ0E7OztBQUNBLE1BQUk7QUFDRkEsWUFBUSxDQUFDRSxJQUFULEdBQWdCQyxJQUFoQixDQUFxQixVQUFDQyxJQUFELEVBQVU7QUFDN0IsWUFBTSxJQUFJQyxLQUFKLENBQVVELElBQUksQ0FBQ0UsS0FBZixDQUFOO0FBQ0QsS0FGRDtBQUdELEdBSkQsQ0FJRSxPQUFPQyxDQUFQLEVBQVU7QUFDVixRQUFJQSxDQUFDLFlBQVlDLFdBQWpCLEVBQThCO0FBQzVCLFlBQU0sSUFBSUgsS0FBSixDQUFVTCxRQUFRLENBQUNTLFVBQW5CLENBQU47QUFDRCxLQUZELE1BRU87QUFDTCxZQUFNRixDQUFOO0FBQ0Q7QUFDRjtBQUNGIiwiZmlsZSI6Ii4vYXBwL2phdmFzY3JpcHQvdXRpbGl0aWVzL2h0dHAvZXJyb3JzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRmV0Y2hBUElFcnJvcnMocmVzcG9uc2UpIHtcbiAgLy8gcGFzcyBhbG9uZyBhIGNvcnJlY3QgcmVzcG9uc2VcbiAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLy8gQVBJIGVycm9ycyBjb250YWluIHRoZSBlcnJvciBtZXNzYWdlIGluIHtcImVycm9yXCI6IFwiZXJyb3IgbWVzc2FnZVwifVxuICAvLyBidXQgdGhleSBjb3VsZCBiZSB1bmhhbmRsZWQgNTAwIGVycm9yc1xuICB0cnkge1xuICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvcik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./app/javascript/utilities/http/errors.js\n");

/***/ }),

/***/ "./app/javascript/utilities/http/index.js":
/*!************************************************!*\
  !*** ./app/javascript/utilities/http/index.js ***!
  \************************************************/
/*! exports provided: handleFetchAPIErrors, request */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors */ \"./app/javascript/utilities/http/errors.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"handleFetchAPIErrors\", function() { return _errors__WEBPACK_IMPORTED_MODULE_0__[\"handleFetchAPIErrors\"]; });\n\n/* harmony import */ var _request__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./request */ \"./app/javascript/utilities/http/request.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"request\", function() { return _request__WEBPACK_IMPORTED_MODULE_1__[\"request\"]; });\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC91dGlsaXRpZXMvaHR0cC9pbmRleC5qcz8wMTRmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC91dGlsaXRpZXMvaHR0cC9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vZXJyb3JzJztcbmV4cG9ydCAqIGZyb20gJy4vcmVxdWVzdCc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./app/javascript/utilities/http/index.js\n");

/***/ }),

/***/ "./app/javascript/utilities/http/request.js":
/*!**************************************************!*\
  !*** ./app/javascript/utilities/http/request.js ***!
  \**************************************************/
/*! exports provided: request */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"request\", function() { return request; });\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n/**\n * Generic request with all the default headers required by the application.\n *\n * @example\n * import { request } from '@utilities/http';\n *\n * const response = await request('/notification_subscriptions/Article/26')\n *\n * Note:\n * The body option will typically be passed in as a JavaScript object.\n * A check is performed for this and automatically convert it to JSON if necessary.\n *\n * Requests send JSON by default but this can be easily overridden by adding\n * the Accept and Content-Type headers to the request options.\n *\n * The default method is GET.\n *\n * @param {string} url The URL to make the request to.\n * @param {RequestInit} [options={}] The request options.\n *\n * @return {Promise<Response>} the response\n */\nfunction request(_x) {\n  return _request.apply(this, arguments);\n}\n\nfunction _request() {\n  _request = _asyncToGenerator(function* (url) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var headers = options.headers,\n        body = options.body,\n        _options$method = options.method,\n        method = _options$method === void 0 ? 'GET' : _options$method,\n        _options$csrfToken = options.csrfToken,\n        csrfToken = _options$csrfToken === void 0 ? yield getCsrfToken() : _options$csrfToken,\n        restOfOptions = _objectWithoutProperties(options, [\"headers\", \"body\", \"method\", \"csrfToken\"]); // There should never be a scenario where null is passed as the body,\n    // but if ever there is, this logic should change.\n\n\n    var jsonifiedBody = {\n      body: body && typeof body !== 'string' ? JSON.stringify(body) : body\n    };\n\n    var fetchOptions = _objectSpread(_objectSpread({\n      method: method,\n      headers: _objectSpread({\n        Accept: 'application/json',\n        'X-CSRF-Token': csrfToken,\n        'Content-Type': 'application/json'\n      }, headers),\n      credentials: 'same-origin'\n    }, jsonifiedBody), restOfOptions);\n\n    return fetch(url, fetchOptions);\n  });\n  return _request.apply(this, arguments);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC91dGlsaXRpZXMvaHR0cC9yZXF1ZXN0LmpzPzMzZjUiXSwibmFtZXMiOlsicmVxdWVzdCIsInVybCIsIm9wdGlvbnMiLCJoZWFkZXJzIiwiYm9keSIsIm1ldGhvZCIsImNzcmZUb2tlbiIsImdldENzcmZUb2tlbiIsInJlc3RPZk9wdGlvbnMiLCJqc29uaWZpZWRCb2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImZldGNoT3B0aW9ucyIsIkFjY2VwdCIsImNyZWRlbnRpYWxzIiwiZmV0Y2giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQWVBLE9BQXRCO0FBQUE7QUFBQTs7OytCQUFPLFdBQXVCQyxHQUF2QixFQUEwQztBQUFBLFFBQWRDLE9BQWMsdUVBQUosRUFBSTs7QUFBQSxRQUU3Q0MsT0FGNkMsR0FRM0NELE9BUjJDLENBRTdDQyxPQUY2QztBQUFBLFFBRzdDQyxJQUg2QyxHQVEzQ0YsT0FSMkMsQ0FHN0NFLElBSDZDO0FBQUEsMEJBUTNDRixPQVIyQyxDQUk3Q0csTUFKNkM7QUFBQSxRQUk3Q0EsTUFKNkMsZ0NBSXBDLEtBSm9DO0FBQUEsNkJBUTNDSCxPQVIyQyxDQUs3Q0ksU0FMNkM7QUFBQSxRQUs3Q0EsU0FMNkMseUNBSzNCQyxZQUFZLEVBTGU7QUFBQSxRQU8xQ0MsYUFQMEMsNEJBUTNDTixPQVIyQywrQ0FVL0M7QUFDQTs7O0FBQ0EsUUFBTU8sYUFBYSxHQUFHO0FBQ3BCTCxVQUFJLEVBQUVBLElBQUksSUFBSSxPQUFPQSxJQUFQLEtBQWdCLFFBQXhCLEdBQW1DTSxJQUFJLENBQUNDLFNBQUwsQ0FBZVAsSUFBZixDQUFuQyxHQUEwREE7QUFENUMsS0FBdEI7O0FBSUEsUUFBTVEsWUFBWTtBQUNoQlAsWUFBTSxFQUFOQSxNQURnQjtBQUVoQkYsYUFBTztBQUNMVSxjQUFNLEVBQUUsa0JBREg7QUFFTCx3QkFBZ0JQLFNBRlg7QUFHTCx3QkFBZ0I7QUFIWCxTQUlGSCxPQUpFLENBRlM7QUFRaEJXLGlCQUFXLEVBQUU7QUFSRyxPQVNiTCxhQVRhLEdBVWJELGFBVmEsQ0FBbEI7O0FBYUEsV0FBT08sS0FBSyxDQUFDZCxHQUFELEVBQU1XLFlBQU4sQ0FBWjtBQUNELEciLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC91dGlsaXRpZXMvaHR0cC9yZXF1ZXN0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZW5lcmljIHJlcXVlc3Qgd2l0aCBhbGwgdGhlIGRlZmF1bHQgaGVhZGVycyByZXF1aXJlZCBieSB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHJlcXVlc3QgfSBmcm9tICdAdXRpbGl0aWVzL2h0dHAnO1xuICpcbiAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdCgnL25vdGlmaWNhdGlvbl9zdWJzY3JpcHRpb25zL0FydGljbGUvMjYnKVxuICpcbiAqIE5vdGU6XG4gKiBUaGUgYm9keSBvcHRpb24gd2lsbCB0eXBpY2FsbHkgYmUgcGFzc2VkIGluIGFzIGEgSmF2YVNjcmlwdCBvYmplY3QuXG4gKiBBIGNoZWNrIGlzIHBlcmZvcm1lZCBmb3IgdGhpcyBhbmQgYXV0b21hdGljYWxseSBjb252ZXJ0IGl0IHRvIEpTT04gaWYgbmVjZXNzYXJ5LlxuICpcbiAqIFJlcXVlc3RzIHNlbmQgSlNPTiBieSBkZWZhdWx0IGJ1dCB0aGlzIGNhbiBiZSBlYXNpbHkgb3ZlcnJpZGRlbiBieSBhZGRpbmdcbiAqIHRoZSBBY2NlcHQgYW5kIENvbnRlbnQtVHlwZSBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0IG9wdGlvbnMuXG4gKlxuICogVGhlIGRlZmF1bHQgbWV0aG9kIGlzIEdFVC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gbWFrZSB0aGUgcmVxdWVzdCB0by5cbiAqIEBwYXJhbSB7UmVxdWVzdEluaXR9IFtvcHRpb25zPXt9XSBUaGUgcmVxdWVzdCBvcHRpb25zLlxuICpcbiAqIEByZXR1cm4ge1Byb21pc2U8UmVzcG9uc2U+fSB0aGUgcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVlc3QodXJsLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGhlYWRlcnMsXG4gICAgYm9keSxcbiAgICBtZXRob2QgPSAnR0VUJyxcbiAgICBjc3JmVG9rZW4gPSBhd2FpdCBnZXRDc3JmVG9rZW4oKSxcbiAgICAvLyBUaGVzZSBhcmUgYW55IG90aGVyIG9wdGlvbnMgdGhhdCBtaWdodCBiZSBwYXNzZWQgaW4gZS5nLiBrZWVwYWxpdmVcbiAgICAuLi5yZXN0T2ZPcHRpb25zXG4gIH0gPSBvcHRpb25zO1xuXG4gIC8vIFRoZXJlIHNob3VsZCBuZXZlciBiZSBhIHNjZW5hcmlvIHdoZXJlIG51bGwgaXMgcGFzc2VkIGFzIHRoZSBib2R5LFxuICAvLyBidXQgaWYgZXZlciB0aGVyZSBpcywgdGhpcyBsb2dpYyBzaG91bGQgY2hhbmdlLlxuICBjb25zdCBqc29uaWZpZWRCb2R5ID0ge1xuICAgIGJvZHk6IGJvZHkgJiYgdHlwZW9mIGJvZHkgIT09ICdzdHJpbmcnID8gSlNPTi5zdHJpbmdpZnkoYm9keSkgOiBib2R5LFxuICB9O1xuXG4gIGNvbnN0IGZldGNoT3B0aW9ucyA9IHtcbiAgICBtZXRob2QsXG4gICAgaGVhZGVyczoge1xuICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnWC1DU1JGLVRva2VuJzogY3NyZlRva2VuLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIC4uLmhlYWRlcnMsXG4gICAgfSxcbiAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICAuLi5qc29uaWZpZWRCb2R5LFxuICAgIC4uLnJlc3RPZk9wdGlvbnMsXG4gIH07XG5cbiAgcmV0dXJuIGZldGNoKHVybCwgZmV0Y2hPcHRpb25zKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./app/javascript/utilities/http/request.js\n");

/***/ })

}]);