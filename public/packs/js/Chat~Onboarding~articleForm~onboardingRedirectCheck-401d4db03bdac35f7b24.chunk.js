(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["Chat~Onboarding~articleForm~onboardingRedirectCheck"],{

/***/ "./app/javascript/chat/util.js":
/*!*************************************!*\
  !*** ./app/javascript/chat/util.js ***!
  \*************************************/
/*! exports provided: getCsrfToken, getCurrentUser, getUserDataAndCsrfToken, scrollToBottom, setupObserver, hideMessages, adjustTimestamp, channelSorter, createDataHash */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCsrfToken\", function() { return getCsrfToken; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentUser\", function() { return getCurrentUser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUserDataAndCsrfToken\", function() { return getUserDataAndCsrfToken; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"scrollToBottom\", function() { return scrollToBottom; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupObserver\", function() { return setupObserver; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideMessages\", function() { return hideMessages; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"adjustTimestamp\", function() { return adjustTimestamp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"channelSorter\", function() { return channelSorter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createDataHash\", function() { return createDataHash; });\n/* harmony import */ var _utilities_search__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/search */ \"./app/javascript/utilities/search/index.js\");\n/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! intersection-observer */ \"./node_modules/intersection-observer/intersection-observer.js\");\n/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(intersection_observer__WEBPACK_IMPORTED_MODULE_1__);\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nfunction getCsrfToken() {\n  var element = document.querySelector(\"meta[name='csrf-token']\");\n  return element !== null ? element.content : undefined;\n}\n\nvar getWaitOnUserDataHandler = function getWaitOnUserDataHandler(_ref) {\n  var resolve = _ref.resolve,\n      reject = _ref.reject,\n      _ref$waitTime = _ref.waitTime,\n      waitTime = _ref$waitTime === void 0 ? 20 : _ref$waitTime;\n  var totalTimeWaiting = 0;\n  return function waitingOnUserData() {\n    if (totalTimeWaiting === 3000) {\n      reject(new Error(\"Couldn't find user data on page.\"));\n      return;\n    }\n\n    var csrfToken = getCsrfToken(document);\n    var user = document.body.dataset.user;\n\n    if (user && csrfToken !== undefined) {\n      var currentUser = JSON.parse(user);\n      resolve({\n        currentUser: currentUser,\n        csrfToken: csrfToken\n      });\n      return;\n    }\n\n    totalTimeWaiting += waitTime;\n    setTimeout(waitingOnUserData, waitTime);\n  };\n};\n\nvar getCurrentUser = function getCurrentUser() {\n  var user = document.body.dataset.user;\n  return JSON.parse(user);\n};\nfunction getUserDataAndCsrfToken() {\n  return new Promise(function (resolve, reject) {\n    getWaitOnUserDataHandler({\n      resolve: resolve,\n      reject: reject\n    })();\n  });\n}\nfunction scrollToBottom() {\n  var element = document.getElementById('messagelist');\n  element.scrollTop = element.scrollHeight;\n}\nfunction setupObserver(callback) {\n  var sentinel = document.getElementById('messagelist__sentinel');\n  var somethingObserver = new IntersectionObserver(callback, {\n    threshold: [0, 1]\n  });\n  somethingObserver.observe(sentinel);\n}\nfunction hideMessages(messages, userId) {\n  var cleanedMessages = Object.keys(messages).reduce(function (accumulator, channelId) {\n    var newMessages = messages[channelId].map(function (message) {\n      if (message.user_id === userId) {\n        var messageClone = Object.assign({\n          type: 'hidden'\n        }, message);\n        messageClone.message = '<message removed>';\n        messageClone.messageColor = 'lightgray';\n        return messageClone;\n      }\n\n      return message;\n    });\n    return _objectSpread(_objectSpread({}, accumulator), {}, _defineProperty({}, channelId, newMessages));\n  }, {});\n  return cleanedMessages;\n}\nfunction adjustTimestamp(timestamp) {\n  var time = new Date(timestamp);\n  var options = {\n    month: 'long',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric'\n  };\n  time = new Intl.DateTimeFormat('en-US', options).format(time);\n  return time;\n}\nvar channelSorter = function channelSorter(channels, currentUserId, filterQuery) {\n  var activeChannels = channels.filter(function (channel) {\n    return channel.viewable_by === currentUserId && channel.status === 'active';\n  });\n  var joiningChannels = channels.filter(function (channel) {\n    return channel.status === 'joining_request';\n  });\n  var ChannelIds = [_toConsumableArray(new Set(activeChannels.map(function (x) {\n    return x.chat_channel_id;\n  }))), _toConsumableArray(new Set(joiningChannels.map(function (x) {\n    return x.chat_channel_id;\n  })))];\n  var discoverableChannels = channels.filter(function (channel) {\n    return channel.status === 'joining_request' && filterQuery || !ChannelIds[1].includes(channel.chat_channel_id) && channel.viewable_by !== currentUserId;\n  }).filter(function (channel) {\n    return !ChannelIds[0].includes(channel.chat_channel_id);\n  });\n  return {\n    activeChannels: activeChannels,\n    discoverableChannels: discoverableChannels\n  };\n};\nvar createDataHash = function createDataHash(additionalFilters, searchParams) {\n  var dataHash = {};\n\n  if (additionalFilters.filters) {\n    var _additionalFilters$fi = additionalFilters.filters.split(':'),\n        _additionalFilters$fi2 = _slicedToArray(_additionalFilters$fi, 2),\n        key = _additionalFilters$fi2[0],\n        value = _additionalFilters$fi2[1];\n\n    dataHash[key] = value;\n  }\n\n  dataHash.per_page = 30;\n  dataHash.page = searchParams.paginationNumber;\n  dataHash.channel_text = searchParams.query;\n\n  if (searchParams.searchType === 'discoverable') {\n    dataHash.user_id = 'all';\n  }\n\n  return Object(_utilities_search__WEBPACK_IMPORTED_MODULE_0__[\"fetchSearch\"])('chat_channels', dataHash);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC9jaGF0L3V0aWwuanM/NTJlYyJdLCJuYW1lcyI6WyJnZXRDc3JmVG9rZW4iLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsInVuZGVmaW5lZCIsImdldFdhaXRPblVzZXJEYXRhSGFuZGxlciIsInJlc29sdmUiLCJyZWplY3QiLCJ3YWl0VGltZSIsInRvdGFsVGltZVdhaXRpbmciLCJ3YWl0aW5nT25Vc2VyRGF0YSIsIkVycm9yIiwiY3NyZlRva2VuIiwidXNlciIsImJvZHkiLCJkYXRhc2V0IiwiY3VycmVudFVzZXIiLCJKU09OIiwicGFyc2UiLCJzZXRUaW1lb3V0IiwiZ2V0Q3VycmVudFVzZXIiLCJnZXRVc2VyRGF0YUFuZENzcmZUb2tlbiIsIlByb21pc2UiLCJzY3JvbGxUb0JvdHRvbSIsImdldEVsZW1lbnRCeUlkIiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0Iiwic2V0dXBPYnNlcnZlciIsImNhbGxiYWNrIiwic2VudGluZWwiLCJzb21ldGhpbmdPYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwidGhyZXNob2xkIiwib2JzZXJ2ZSIsImhpZGVNZXNzYWdlcyIsIm1lc3NhZ2VzIiwidXNlcklkIiwiY2xlYW5lZE1lc3NhZ2VzIiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsImFjY3VtdWxhdG9yIiwiY2hhbm5lbElkIiwibmV3TWVzc2FnZXMiLCJtYXAiLCJtZXNzYWdlIiwidXNlcl9pZCIsIm1lc3NhZ2VDbG9uZSIsImFzc2lnbiIsInR5cGUiLCJtZXNzYWdlQ29sb3IiLCJhZGp1c3RUaW1lc3RhbXAiLCJ0aW1lc3RhbXAiLCJ0aW1lIiwiRGF0ZSIsIm9wdGlvbnMiLCJtb250aCIsImRheSIsImhvdXIiLCJtaW51dGUiLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJmb3JtYXQiLCJjaGFubmVsU29ydGVyIiwiY2hhbm5lbHMiLCJjdXJyZW50VXNlcklkIiwiZmlsdGVyUXVlcnkiLCJhY3RpdmVDaGFubmVscyIsImZpbHRlciIsImNoYW5uZWwiLCJ2aWV3YWJsZV9ieSIsInN0YXR1cyIsImpvaW5pbmdDaGFubmVscyIsIkNoYW5uZWxJZHMiLCJTZXQiLCJ4IiwiY2hhdF9jaGFubmVsX2lkIiwiZGlzY292ZXJhYmxlQ2hhbm5lbHMiLCJpbmNsdWRlcyIsImNyZWF0ZURhdGFIYXNoIiwiYWRkaXRpb25hbEZpbHRlcnMiLCJzZWFyY2hQYXJhbXMiLCJkYXRhSGFzaCIsImZpbHRlcnMiLCJzcGxpdCIsImtleSIsInZhbHVlIiwicGVyX3BhZ2UiLCJwYWdlIiwicGFnaW5hdGlvbk51bWJlciIsImNoYW5uZWxfdGV4dCIsInF1ZXJ5Iiwic2VhcmNoVHlwZSIsImZldGNoU2VhcmNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBRU8sU0FBU0EsWUFBVCxHQUF3QjtBQUM3QixNQUFNQyxPQUFPLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBVCwyQkFBaEI7QUFFQSxTQUFPRixPQUFPLEtBQUssSUFBWixHQUFtQkEsT0FBTyxDQUFDRyxPQUEzQixHQUFxQ0MsU0FBNUM7QUFDRDs7QUFFRCxJQUFNQyx3QkFBd0IsR0FBRyxTQUEzQkEsd0JBQTJCLE9BQXdDO0FBQUEsTUFBckNDLE9BQXFDLFFBQXJDQSxPQUFxQztBQUFBLE1BQTVCQyxNQUE0QixRQUE1QkEsTUFBNEI7QUFBQSwyQkFBcEJDLFFBQW9CO0FBQUEsTUFBcEJBLFFBQW9CLDhCQUFULEVBQVM7QUFDdkUsTUFBSUMsZ0JBQWdCLEdBQUcsQ0FBdkI7QUFFQSxTQUFPLFNBQVNDLGlCQUFULEdBQTZCO0FBQ2xDLFFBQUlELGdCQUFnQixLQUFLLElBQXpCLEVBQStCO0FBQzdCRixZQUFNLENBQUMsSUFBSUksS0FBSixDQUFVLGtDQUFWLENBQUQsQ0FBTjtBQUNBO0FBQ0Q7O0FBRUQsUUFBTUMsU0FBUyxHQUFHYixZQUFZLENBQUNFLFFBQUQsQ0FB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QS9CLENBQUQsSUFDQ1AsT0FBTyxDQUFDQyxXQUFSLEtBQXdCTCxhQUg1QjtBQUFBLEdBRnlCLEVBTzFCRyxNQVAwQixDQU9uQixVQUFDQyxPQUFEO0FBQUEsV0FBYSxDQUFDSSxVQUFVLENBQUMsQ0FBRCxDQUFWLENBQWNLLFFBQWQsQ0FBdUJULE9BQU8sQ0FBQ08sZUFBL0IsQ0FBZDtBQUFBLEdBUG1CLENBQTdCO0FBUUEsU0FBTztBQUFFVCxrQkFBYyxFQUFkQSxjQUFGO0FBQWtCVSx3QkFBb0IsRUFBcEJBO0FBQWxCLEdBQVA7QUFDRCxDQXJCTTtBQXVCQSxJQUFNRSxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUNDLGlCQUFELEVBQW9CQyxZQUFwQixFQUFxQztBQUNqRSxNQUFNQyxRQUFRLEdBQUcsRUFBakI7O0FBQ0EsTUFBSUYsaUJBQWlCLENBQUNHLE9BQXRCLEVBQStCO0FBQUEsZ0NBQ1JILGlCQUFpQixDQUFDRyxPQUFsQixDQUEwQkMsS0FBMUIsQ0FBZ0MsR0FBaEMsQ0FEUTtBQUFBO0FBQUEsUUFDdEJDLEdBRHNCO0FBQUEsUUFDakJDLEtBRGlCOztBQUU3QkosWUFBUSxDQUFDRyxHQUFELENBQVIsR0FBZ0JDLEtBQWhCO0FBQ0Q7O0FBQ0RKLFVBQVEsQ0FBQ0ssUUFBVCxHQUFvQixFQUFwQjtBQUNBTCxVQUFRLENBQUNNLElBQVQsR0FBZ0JQLFlBQVksQ0FBQ1EsZ0JBQTdCO0FBQ0FQLFVBQVEsQ0FBQ1EsWUFBVCxHQUF3QlQsWUFBWSxDQUFDVSxLQUFyQzs7QUFDQSxNQUFJVixZQUFZLENBQUNXLFVBQWIsS0FBNEIsY0FBaEMsRUFBZ0Q7QUFDOUNWLFlBQVEsQ0FBQ3BDLE9BQVQsR0FBbUIsS0FBbkI7QUFDRDs7QUFDRCxTQUFPK0MscUVBQVcsQ0FBQyxlQUFELEVBQWtCWCxRQUFsQixDQUFsQjtBQUNELENBYk0iLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC9jaGF0L3V0aWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmZXRjaFNlYXJjaCB9IGZyb20gJy4uL3V0aWxpdGllcy9zZWFyY2gnO1xuXG5pbXBvcnQgJ2ludGVyc2VjdGlvbi1vYnNlcnZlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDc3JmVG9rZW4oKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBtZXRhW25hbWU9J2NzcmYtdG9rZW4nXWApO1xuXG4gIHJldHVybiBlbGVtZW50ICE9PSBudWxsID8gZWxlbWVudC5jb250ZW50IDogdW5kZWZpbmVkO1xufVxuXG5jb25zdCBnZXRXYWl0T25Vc2VyRGF0YUhhbmRsZXIgPSAoeyByZXNvbHZlLCByZWplY3QsIHdhaXRUaW1lID0gMjAgfSkgPT4ge1xuICBsZXQgdG90YWxUaW1lV2FpdGluZyA9IDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHdhaXRpbmdPblVzZXJEYXRhKCkge1xuICAgIGlmICh0b3RhbFRpbWVXYWl0aW5nID09PSAzMDAwKSB7XG4gICAgICByZWplY3QobmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCB1c2VyIGRhdGEgb24gcGFnZS5cIikpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNzcmZUb2tlbiA9IGdldENzcmZUb2tlbihkb2N1bWVudCk7XG4gICAgY29uc3QgeyB1c2VyIH0gPSBkb2N1bWVudC5ib2R5LmRhdGFzZXQ7XG5cbiAgICBpZiAodXNlciAmJiBjc3JmVG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgY3VycmVudFVzZXIgPSBKU09OLnBhcnNlKHVzZXIpO1xuXG4gICAgICByZXNvbHZlKHsgY3VycmVudFVzZXIsIGNzcmZUb2tlbiB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0b3RhbFRpbWVXYWl0aW5nICs9IHdhaXRUaW1lO1xuICAgIHNldFRpbWVvdXQod2FpdGluZ09uVXNlckRhdGEsIHdhaXRUaW1lKTtcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50VXNlciA9ICgpID0+IHtcbiAgY29uc3QgeyB1c2VyIH0gPSBkb2N1bWVudC5ib2R5LmRhdGFzZXQ7XG4gIHJldHVybiBKU09OLnBhcnNlKHVzZXIpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJEYXRhQW5kQ3NyZlRva2VuKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGdldFdhaXRPblVzZXJEYXRhSGFuZGxlcih7IHJlc29sdmUsIHJlamVjdCB9KSgpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFRvQm90dG9tKCkge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2VsaXN0Jyk7XG4gIGVsZW1lbnQuc2Nyb2xsVG9wID0gZWxlbWVudC5zY3JvbGxIZWlnaHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cE9ic2VydmVyKGNhbGxiYWNrKSB7XG4gIGNvbnN0IHNlbnRpbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2VsaXN0X19zZW50aW5lbCcpO1xuICBjb25zdCBzb21ldGhpbmdPYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihjYWxsYmFjaywge1xuICAgIHRocmVzaG9sZDogWzAsIDFdLFxuICB9KTtcbiAgc29tZXRoaW5nT2JzZXJ2ZXIub2JzZXJ2ZShzZW50aW5lbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlTWVzc2FnZXMobWVzc2FnZXMsIHVzZXJJZCkge1xuICBjb25zdCBjbGVhbmVkTWVzc2FnZXMgPSBPYmplY3Qua2V5cyhtZXNzYWdlcykucmVkdWNlKFxuICAgIChhY2N1bXVsYXRvciwgY2hhbm5lbElkKSA9PiB7XG4gICAgICBjb25zdCBuZXdNZXNzYWdlcyA9IG1lc3NhZ2VzW2NoYW5uZWxJZF0ubWFwKChtZXNzYWdlKSA9PiB7XG4gICAgICAgIGlmIChtZXNzYWdlLnVzZXJfaWQgPT09IHVzZXJJZCkge1xuICAgICAgICAgIGNvbnN0IG1lc3NhZ2VDbG9uZSA9IE9iamVjdC5hc3NpZ24oeyB0eXBlOiAnaGlkZGVuJyB9LCBtZXNzYWdlKTtcbiAgICAgICAgICBtZXNzYWdlQ2xvbmUubWVzc2FnZSA9ICc8bWVzc2FnZSByZW1vdmVkPic7XG4gICAgICAgICAgbWVzc2FnZUNsb25lLm1lc3NhZ2VDb2xvciA9ICdsaWdodGdyYXknO1xuICAgICAgICAgIHJldHVybiBtZXNzYWdlQ2xvbmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IC4uLmFjY3VtdWxhdG9yLCBbY2hhbm5lbElkXTogbmV3TWVzc2FnZXMgfTtcbiAgICB9LFxuICAgIHt9LFxuICApO1xuICByZXR1cm4gY2xlYW5lZE1lc3NhZ2VzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRqdXN0VGltZXN0YW1wKHRpbWVzdGFtcCkge1xuICBsZXQgdGltZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgbW9udGg6ICdsb25nJyxcbiAgICBkYXk6ICdudW1lcmljJyxcbiAgICBob3VyOiAnbnVtZXJpYycsXG4gICAgbWludXRlOiAnbnVtZXJpYycsXG4gIH07XG4gIHRpbWUgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgnZW4tVVMnLCBvcHRpb25zKS5mb3JtYXQodGltZSk7XG4gIHJldHVybiB0aW1lO1xufVxuXG5leHBvcnQgY29uc3QgY2hhbm5lbFNvcnRlciA9IChjaGFubmVscywgY3VycmVudFVzZXJJZCwgZmlsdGVyUXVlcnkpID0+IHtcbiAgY29uc3QgYWN0aXZlQ2hhbm5lbHMgPSBjaGFubmVscy5maWx0ZXIoXG4gICAgKGNoYW5uZWwpID0+XG4gICAgICBjaGFubmVsLnZpZXdhYmxlX2J5ID09PSBjdXJyZW50VXNlcklkICYmIGNoYW5uZWwuc3RhdHVzID09PSAnYWN0aXZlJyxcbiAgKTtcbiAgY29uc3Qgam9pbmluZ0NoYW5uZWxzID0gY2hhbm5lbHMuZmlsdGVyKFxuICAgIChjaGFubmVsKSA9PiBjaGFubmVsLnN0YXR1cyA9PT0gJ2pvaW5pbmdfcmVxdWVzdCcsXG4gICk7XG4gIGNvbnN0IENoYW5uZWxJZHMgPSBbXG4gICAgWy4uLm5ldyBTZXQoYWN0aXZlQ2hhbm5lbHMubWFwKCh4KSA9PiB4LmNoYXRfY2hhbm5lbF9pZCkpXSxcbiAgICBbLi4ubmV3IFNldChqb2luaW5nQ2hhbm5lbHMubWFwKCh4KSA9PiB4LmNoYXRfY2hhbm5lbF9pZCkpXSxcbiAgXTtcbiAgY29uc3QgZGlzY292ZXJhYmxlQ2hhbm5lbHMgPSBjaGFubmVsc1xuICAgIC5maWx0ZXIoXG4gICAgICAoY2hhbm5lbCkgPT5cbiAgICAgICAgKGNoYW5uZWwuc3RhdHVzID09PSAnam9pbmluZ19yZXF1ZXN0JyAmJiBmaWx0ZXJRdWVyeSkgfHxcbiAgICAgICAgKCFDaGFubmVsSWRzWzFdLmluY2x1ZGVzKGNoYW5uZWwuY2hhdF9jaGFubmVsX2lkKSAmJlxuICAgICAgICAgIGNoYW5uZWwudmlld2FibGVfYnkgIT09IGN1cnJlbnRVc2VySWQpLFxuICAgIClcbiAgICAuZmlsdGVyKChjaGFubmVsKSA9PiAhQ2hhbm5lbElkc1swXS5pbmNsdWRlcyhjaGFubmVsLmNoYXRfY2hhbm5lbF9pZCkpO1xuICByZXR1cm4geyBhY3RpdmVDaGFubmVscywgZGlzY292ZXJhYmxlQ2hhbm5lbHMgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVEYXRhSGFzaCA9IChhZGRpdGlvbmFsRmlsdGVycywgc2VhcmNoUGFyYW1zKSA9PiB7XG4gIGNvbnN0IGRhdGFIYXNoID0ge307XG4gIGlmIChhZGRpdGlvbmFsRmlsdGVycy5maWx0ZXJzKSB7XG4gICAgY29uc3QgW2tleSwgdmFsdWVdID0gYWRkaXRpb25hbEZpbHRlcnMuZmlsdGVycy5zcGxpdCgnOicpO1xuICAgIGRhdGFIYXNoW2tleV0gPSB2YWx1ZTtcbiAgfVxuICBkYXRhSGFzaC5wZXJfcGFnZSA9IDMwO1xuICBkYXRhSGFzaC5wYWdlID0gc2VhcmNoUGFyYW1zLnBhZ2luYXRpb25OdW1iZXI7XG4gIGRhdGFIYXNoLmNoYW5uZWxfdGV4dCA9IHNlYXJjaFBhcmFtcy5xdWVyeTtcbiAgaWYgKHNlYXJjaFBhcmFtcy5zZWFyY2hUeXBlID09PSAnZGlzY292ZXJhYmxlJykge1xuICAgIGRhdGFIYXNoLnVzZXJfaWQgPSAnYWxsJztcbiAgfVxuICByZXR1cm4gZmV0Y2hTZWFyY2goJ2NoYXRfY2hhbm5lbHMnLCBkYXRhSGFzaCk7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/javascript/chat/util.js\n");

/***/ }),

/***/ "./app/javascript/utilities/http/errors.js":
/*!*************************************************!*\
  !*** ./app/javascript/utilities/http/errors.js ***!
  \*************************************************/
/*! exports provided: handleFetchAPIErrors */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handleFetchAPIErrors\", function() { return handleFetchAPIErrors; });\n// eslint-disable-next-line consistent-return\nfunction handleFetchAPIErrors(response) {\n  // pass along a correct response\n  if (response.ok) {\n    return response;\n  } // API errors contain the error message in {\"error\": \"error message\"}\n  // but they could be unhandled 500 errors\n\n\n  try {\n    response.json().then(function (data) {\n      throw new Error(data.error);\n    });\n  } catch (e) {\n    if (e instanceof SyntaxError) {\n      throw new Error(response.statusText);\n    } else {\n      throw e;\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC91dGlsaXRpZXMvaHR0cC9lcnJvcnMuanM/M2FiMiJdLCJuYW1lcyI6WyJoYW5kbGVGZXRjaEFQSUVycm9ycyIsInJlc3BvbnNlIiwib2siLCJqc29uIiwidGhlbiIsImRhdGEiLCJFcnJvciIsImVycm9yIiwiZSIsIlN5bnRheEVycm9yIiwic3RhdHVzVGV4dCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ08sU0FBU0Esb0JBQVQsQ0FBOEJDLFFBQTlCLEVBQXdDO0FBQzdDO0FBQ0EsTUFBSUEsUUFBUSxDQUFDQyxFQUFiLEVBQWlCO0FBQ2YsV0FBT0QsUUFBUDtBQUNELEdBSjRDLENBTTdDO0FBQ0E7OztBQUNBLE1BQUk7QUFDRkEsWUFBUSxDQUFDRSxJQUFULEdBQWdCQyxJQUFoQixDQUFxQixVQUFDQyxJQUFELEVBQVU7QUFDN0IsWUFBTSxJQUFJQyxLQUFKLENBQVVELElBQUksQ0FBQ0UsS0FBZixDQUFOO0FBQ0QsS0FGRDtBQUdELEdBSkQsQ0FJRSxPQUFPQyxDQUFQLEVBQVU7QUFDVixRQUFJQSxDQUFDLFlBQVlDLFdBQWpCLEVBQThCO0FBQzVCLFlBQU0sSUFBSUgsS0FBSixDQUFVTCxRQUFRLENBQUNTLFVBQW5CLENBQU47QUFDRCxLQUZELE1BRU87QUFDTCxZQUFNRixDQUFOO0FBQ0Q7QUFDRjtBQUNGIiwiZmlsZSI6Ii4vYXBwL2phdmFzY3JpcHQvdXRpbGl0aWVzL2h0dHAvZXJyb3JzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRmV0Y2hBUElFcnJvcnMocmVzcG9uc2UpIHtcbiAgLy8gcGFzcyBhbG9uZyBhIGNvcnJlY3QgcmVzcG9uc2VcbiAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLy8gQVBJIGVycm9ycyBjb250YWluIHRoZSBlcnJvciBtZXNzYWdlIGluIHtcImVycm9yXCI6IFwiZXJyb3IgbWVzc2FnZVwifVxuICAvLyBidXQgdGhleSBjb3VsZCBiZSB1bmhhbmRsZWQgNTAwIGVycm9yc1xuICB0cnkge1xuICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvcik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./app/javascript/utilities/http/errors.js\n");

/***/ }),

/***/ "./app/javascript/utilities/http/index.js":
/*!************************************************!*\
  !*** ./app/javascript/utilities/http/index.js ***!
  \************************************************/
/*! exports provided: handleFetchAPIErrors, request */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors */ \"./app/javascript/utilities/http/errors.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"handleFetchAPIErrors\", function() { return _errors__WEBPACK_IMPORTED_MODULE_0__[\"handleFetchAPIErrors\"]; });\n\n/* harmony import */ var _request__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./request */ \"./app/javascript/utilities/http/request.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"request\", function() { return _request__WEBPACK_IMPORTED_MODULE_1__[\"request\"]; });\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC91dGlsaXRpZXMvaHR0cC9pbmRleC5qcz8wMTRmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC91dGlsaXRpZXMvaHR0cC9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vZXJyb3JzJztcbmV4cG9ydCAqIGZyb20gJy4vcmVxdWVzdCc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./app/javascript/utilities/http/index.js\n");

/***/ }),

/***/ "./app/javascript/utilities/http/request.js":
/*!**************************************************!*\
  !*** ./app/javascript/utilities/http/request.js ***!
  \**************************************************/
/*! exports provided: request */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"request\", function() { return request; });\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n/**\n * Generic request with all the default headers required by the application.\n *\n * @example\n * import { request } from '@utilities/http';\n *\n * const response = await request('/notification_subscriptions/Article/26')\n *\n * Note:\n * The body option will typically be passed in as a JavaScript object.\n * A check is performed for this and automatically convert it to JSON if necessary.\n *\n * Requests send JSON by default but this can be easily overridden by adding\n * the Accept and Content-Type headers to the request options.\n *\n * The default method is GET.\n *\n * @param {string} url The URL to make the request to.\n * @param {RequestInit} [options={}] The request options.\n *\n * @return {Promise<Response>} the response\n */\nfunction request(_x) {\n  return _request.apply(this, arguments);\n}\n\nfunction _request() {\n  _request = _asyncToGenerator(function* (url) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var headers = options.headers,\n        body = options.body,\n        _options$method = options.method,\n        method = _options$method === void 0 ? 'GET' : _options$method,\n        _options$csrfToken = options.csrfToken,\n        csrfToken = _options$csrfToken === void 0 ? yield getCsrfToken() : _options$csrfToken,\n        restOfOptions = _objectWithoutProperties(options, [\"headers\", \"body\", \"method\", \"csrfToken\"]); // There should never be a scenario where null is passed as the body,\n    // but if ever there is, this logic should change.\n\n\n    var jsonifiedBody = {\n      body: body && typeof body !== 'string' ? JSON.stringify(body) : body\n    };\n\n    var fetchOptions = _objectSpread(_objectSpread({\n      method: method,\n      headers: _objectSpread({\n        Accept: 'application/json',\n        'X-CSRF-Token': csrfToken,\n        'Content-Type': 'application/json'\n      }, headers),\n      credentials: 'same-origin'\n    }, jsonifiedBody), restOfOptions);\n\n    return fetch(url, fetchOptions);\n  });\n  return _request.apply(this, arguments);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC91dGlsaXRpZXMvaHR0cC9yZXF1ZXN0LmpzPzMzZjUiXSwibmFtZXMiOlsicmVxdWVzdCIsInVybCIsIm9wdGlvbnMiLCJoZWFkZXJzIiwiYm9keSIsIm1ldGhvZCIsImNzcmZUb2tlbiIsImdldENzcmZUb2tlbiIsInJlc3RPZk9wdGlvbnMiLCJqc29uaWZpZWRCb2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImZldGNoT3B0aW9ucyIsIkFjY2VwdCIsImNyZWRlbnRpYWxzIiwiZmV0Y2giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQWVBLE9BQXRCO0FBQUE7QUFBQTs7OytCQUFPLFdBQXVCQyxHQUF2QixFQUEwQztBQUFBLFFBQWRDLE9BQWMsdUVBQUosRUFBSTs7QUFBQSxRQUU3Q0MsT0FGNkMsR0FRM0NELE9BUjJDLENBRTdDQyxPQUY2QztBQUFBLFFBRzdDQyxJQUg2QyxHQVEzQ0YsT0FSMkMsQ0FHN0NFLElBSDZDO0FBQUEsMEJBUTNDRixPQVIyQyxDQUk3Q0csTUFKNkM7QUFBQSxRQUk3Q0EsTUFKNkMsZ0NBSXBDLEtBSm9DO0FBQUEsNkJBUTNDSCxPQVIyQyxDQUs3Q0ksU0FMNkM7QUFBQSxRQUs3Q0EsU0FMNkMseUNBSzNCQyxZQUFZLEVBTGU7QUFBQSxRQU8xQ0MsYUFQMEMsNEJBUTNDTixPQVIyQywrQ0FVL0M7QUFDQTs7O0FBQ0EsUUFBTU8sYUFBYSxHQUFHO0FBQ3BCTCxVQUFJLEVBQUVBLElBQUksSUFBSSxPQUFPQSxJQUFQLEtBQWdCLFFBQXhCLEdBQW1DTSxJQUFJLENBQUNDLFNBQUwsQ0FBZVAsSUFBZixDQUFuQyxHQUEwREE7QUFENUMsS0FBdEI7O0FBSUEsUUFBTVEsWUFBWTtBQUNoQlAsWUFBTSxFQUFOQSxNQURnQjtBQUVoQkYsYUFBTztBQUNMVSxjQUFNLEVBQUUsa0JBREg7QUFFTCx3QkFBZ0JQLFNBRlg7QUFHTCx3QkFBZ0I7QUFIWCxTQUlGSCxPQUpFLENBRlM7QUFRaEJXLGlCQUFXLEVBQUU7QUFSRyxPQVNiTCxhQVRhLEdBVWJELGFBVmEsQ0FBbEI7O0FBYUEsV0FBT08sS0FBSyxDQUFDZCxHQUFELEVBQU1XLFlBQU4sQ0FBWjtBQUNELEciLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC91dGlsaXRpZXMvaHR0cC9yZXF1ZXN0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZW5lcmljIHJlcXVlc3Qgd2l0aCBhbGwgdGhlIGRlZmF1bHQgaGVhZGVycyByZXF1aXJlZCBieSB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHJlcXVlc3QgfSBmcm9tICdAdXRpbGl0aWVzL2h0dHAnO1xuICpcbiAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdCgnL25vdGlmaWNhdGlvbl9zdWJzY3JpcHRpb25zL0FydGljbGUvMjYnKVxuICpcbiAqIE5vdGU6XG4gKiBUaGUgYm9keSBvcHRpb24gd2lsbCB0eXBpY2FsbHkgYmUgcGFzc2VkIGluIGFzIGEgSmF2YVNjcmlwdCBvYmplY3QuXG4gKiBBIGNoZWNrIGlzIHBlcmZvcm1lZCBmb3IgdGhpcyBhbmQgYXV0b21hdGljYWxseSBjb252ZXJ0IGl0IHRvIEpTT04gaWYgbmVjZXNzYXJ5LlxuICpcbiAqIFJlcXVlc3RzIHNlbmQgSlNPTiBieSBkZWZhdWx0IGJ1dCB0aGlzIGNhbiBiZSBlYXNpbHkgb3ZlcnJpZGRlbiBieSBhZGRpbmdcbiAqIHRoZSBBY2NlcHQgYW5kIENvbnRlbnQtVHlwZSBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0IG9wdGlvbnMuXG4gKlxuICogVGhlIGRlZmF1bHQgbWV0aG9kIGlzIEdFVC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gbWFrZSB0aGUgcmVxdWVzdCB0by5cbiAqIEBwYXJhbSB7UmVxdWVzdEluaXR9IFtvcHRpb25zPXt9XSBUaGUgcmVxdWVzdCBvcHRpb25zLlxuICpcbiAqIEByZXR1cm4ge1Byb21pc2U8UmVzcG9uc2U+fSB0aGUgcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVlc3QodXJsLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGhlYWRlcnMsXG4gICAgYm9keSxcbiAgICBtZXRob2QgPSAnR0VUJyxcbiAgICBjc3JmVG9rZW4gPSBhd2FpdCBnZXRDc3JmVG9rZW4oKSxcbiAgICAvLyBUaGVzZSBhcmUgYW55IG90aGVyIG9wdGlvbnMgdGhhdCBtaWdodCBiZSBwYXNzZWQgaW4gZS5nLiBrZWVwYWxpdmVcbiAgICAuLi5yZXN0T2ZPcHRpb25zXG4gIH0gPSBvcHRpb25zO1xuXG4gIC8vIFRoZXJlIHNob3VsZCBuZXZlciBiZSBhIHNjZW5hcmlvIHdoZXJlIG51bGwgaXMgcGFzc2VkIGFzIHRoZSBib2R5LFxuICAvLyBidXQgaWYgZXZlciB0aGVyZSBpcywgdGhpcyBsb2dpYyBzaG91bGQgY2hhbmdlLlxuICBjb25zdCBqc29uaWZpZWRCb2R5ID0ge1xuICAgIGJvZHk6IGJvZHkgJiYgdHlwZW9mIGJvZHkgIT09ICdzdHJpbmcnID8gSlNPTi5zdHJpbmdpZnkoYm9keSkgOiBib2R5LFxuICB9O1xuXG4gIGNvbnN0IGZldGNoT3B0aW9ucyA9IHtcbiAgICBtZXRob2QsXG4gICAgaGVhZGVyczoge1xuICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnWC1DU1JGLVRva2VuJzogY3NyZlRva2VuLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIC4uLmhlYWRlcnMsXG4gICAgfSxcbiAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICAuLi5qc29uaWZpZWRCb2R5LFxuICAgIC4uLnJlc3RPZk9wdGlvbnMsXG4gIH07XG5cbiAgcmV0dXJuIGZldGNoKHVybCwgZmV0Y2hPcHRpb25zKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./app/javascript/utilities/http/request.js\n");

/***/ }),

/***/ "./app/javascript/utilities/search/index.js":
/*!**************************************************!*\
  !*** ./app/javascript/utilities/search/index.js ***!
  \**************************************************/
/*! exports provided: hasInstantClick, displaySearchResults, getSearchTermFromUrl, preloadSearchResults, fetchSearch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasInstantClick\", function() { return hasInstantClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displaySearchResults\", function() { return displaySearchResults; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSearchTermFromUrl\", function() { return getSearchTermFromUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"preloadSearchResults\", function() { return preloadSearchResults; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchSearch\", function() { return fetchSearch; });\n/* harmony import */ var _utilities_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @utilities/http */ \"./app/javascript/utilities/http/index.js\");\n// TODO: We should really be using the xss package by installing it in package.json\n// but for now filterXSS is global because of legacy JS\n\n\nfunction getParameterByName(name) {\n  var url = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window.location.href;\n  var sanitizedName = name.replace(/[[\\]]/g, '\\\\$&');\n  var regex = new RegExp(\"[?&]\".concat(sanitizedName, \"(=([^&#]*)|&|#|$)\"));\n  var results = regex.exec(url);\n\n  if (!results) {\n    return null;\n  }\n\n  if (!results[2]) {\n    return '';\n  }\n\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\n\nfunction getParameters(name, url) {\n  var params = getParameterByName(name, url);\n\n  if (params) {\n    return \"&\".concat(name, \"=\").concat(params);\n  }\n\n  return '';\n}\n\nfunction getFilterParameters(url) {\n  return getParameters('filters', url);\n}\n\nfunction getSortParameters(url) {\n  var sortBy = getParameters('sort_by', url);\n  var sortDirection = getParameters('sort_direction', url);\n  return sortBy + sortDirection;\n}\n/**\n * Determines whether or not InstantClick is enabled.\n *\n * @returns True if InstantClick is enabled, otherwise false.\n */\n\n\nfunction hasInstantClick() {\n  return typeof instantClick !== 'undefined';\n}\n\nfunction fixedEncodeURIComponent(value) {\n  // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent\n  return encodeURIComponent(value).replace(/[!'()*]/g, function (c) {\n    return \"%\".concat(c.charCodeAt(0).toString(16));\n  });\n}\n\nfunction createSearchUrl(dataHash) {\n  var searchParams = new URLSearchParams();\n  Object.keys(dataHash).forEach(function (key) {\n    var value = dataHash[key];\n\n    if (Array.isArray(value)) {\n      value.forEach(function (arrayValue) {\n        searchParams.append(\"\".concat(key, \"[]\"), arrayValue);\n      });\n    } else {\n      searchParams.append(key, value);\n    }\n  });\n  return searchParams.toString();\n}\n/**\n *\n * @param {*} param0\n */\n\n\nfunction displaySearchResults(_ref) {\n  var searchTerm = _ref.searchTerm,\n      _ref$location = _ref.location,\n      location = _ref$location === void 0 ? window.location : _ref$location;\n  var baseUrl = location.origin;\n  var sanitizedQuery = fixedEncodeURIComponent(searchTerm);\n  var filterParameters = getFilterParameters(location.href);\n  var sortParameters = getSortParameters(location.href);\n  InstantClick.display(\"\".concat(baseUrl, \"/search?q=\").concat(sanitizedQuery).concat(filterParameters).concat(sortParameters));\n}\n/**\n * Extracts the search term from an URL's query string.\n *\n * @param {string} querystring A URL query string\n *\n * @returns The extracted search term from the query string\n */\n\nfunction getSearchTermFromUrl(querystring) {\n  var _filterXSS;\n\n  var searchParameters = new URLSearchParams(querystring);\n  var query = (_filterXSS = filterXSS(searchParameters.get('q'))) !== null && _filterXSS !== void 0 ? _filterXSS : '';\n  var divForDecode = document.createElement('div');\n  divForDecode.innerHTML = query;\n  return divForDecode.firstChild !== null ? divForDecode.firstChild.nodeValue : query;\n}\n/**\n * Preloads search results for the given search term\n * @param {string} searchTerm The search term\n * @param {Location} location[window.location] The location (URL) of the object it is linked to.\n * By default it is linked to the Window object.\n */\n\nfunction preloadSearchResults(_ref2) {\n  var searchTerm = _ref2.searchTerm,\n      _ref2$location = _ref2.location,\n      location = _ref2$location === void 0 ? window.location : _ref2$location;\n  var encodedQuery = fixedEncodeURIComponent(searchTerm.replace(/^[ ]+|[ ]+$/g, ''));\n  var searchUrl = \"\".concat(location.origin, \"/search?q=\").concat(encodedQuery).concat(getFilterParameters(location.href));\n  InstantClick.preload(searchUrl);\n}\n/**\n * A helper method to call /search endpoints.\n *\n * @param {string} endpoint - The search endpoint you want to request (i.e. tags).\n * @param {object} dataHash - A hash with the search params that need to be included in the request.\n *\n * @returns {Promise} A promise object with response formatted as JSON.\n */\n\nfunction fetchSearch(endpoint, dataHash) {\n  var searchUrl = createSearchUrl(dataHash);\n  return Object(_utilities_http__WEBPACK_IMPORTED_MODULE_0__[\"request\"])(\"/search/\".concat(endpoint, \"?\").concat(searchUrl)).then(function (response) {\n    return response.json();\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC91dGlsaXRpZXMvc2VhcmNoL2luZGV4LmpzPzA1MjgiXSwibmFtZXMiOlsiZ2V0UGFyYW1ldGVyQnlOYW1lIiwibmFtZSIsInVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInNhbml0aXplZE5hbWUiLCJyZXBsYWNlIiwicmVnZXgiLCJSZWdFeHAiLCJyZXN1bHRzIiwiZXhlYyIsImRlY29kZVVSSUNvbXBvbmVudCIsImdldFBhcmFtZXRlcnMiLCJwYXJhbXMiLCJnZXRGaWx0ZXJQYXJhbWV0ZXJzIiwiZ2V0U29ydFBhcmFtZXRlcnMiLCJzb3J0QnkiLCJzb3J0RGlyZWN0aW9uIiwiaGFzSW5zdGFudENsaWNrIiwiaW5zdGFudENsaWNrIiwiZml4ZWRFbmNvZGVVUklDb21wb25lbnQiLCJ2YWx1ZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImMiLCJjaGFyQ29kZUF0IiwidG9TdHJpbmciLCJjcmVhdGVTZWFyY2hVcmwiLCJkYXRhSGFzaCIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwiQXJyYXkiLCJpc0FycmF5IiwiYXJyYXlWYWx1ZSIsImFwcGVuZCIsImRpc3BsYXlTZWFyY2hSZXN1bHRzIiwic2VhcmNoVGVybSIsImJhc2VVcmwiLCJvcmlnaW4iLCJzYW5pdGl6ZWRRdWVyeSIsImZpbHRlclBhcmFtZXRlcnMiLCJzb3J0UGFyYW1ldGVycyIsIkluc3RhbnRDbGljayIsImRpc3BsYXkiLCJnZXRTZWFyY2hUZXJtRnJvbVVybCIsInF1ZXJ5c3RyaW5nIiwic2VhcmNoUGFyYW1ldGVycyIsInF1ZXJ5IiwiZmlsdGVyWFNTIiwiZ2V0IiwiZGl2Rm9yRGVjb2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiZmlyc3RDaGlsZCIsIm5vZGVWYWx1ZSIsInByZWxvYWRTZWFyY2hSZXN1bHRzIiwiZW5jb2RlZFF1ZXJ5Iiwic2VhcmNoVXJsIiwicHJlbG9hZCIsImZldGNoU2VhcmNoIiwiZW5kcG9pbnQiLCJyZXF1ZXN0IiwidGhlbiIsInJlc3BvbnNlIiwianNvbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7O0FBRUEsU0FBU0Esa0JBQVQsQ0FBNEJDLElBQTVCLEVBQThEO0FBQUEsTUFBNUJDLEdBQTRCLHVFQUF0QkMsTUFBTSxDQUFDQyxRQUFQLENBQWdCQyxJQUFNO0FBQzVELE1BQU1DLGFBQWEsR0FBR0wsSUFBSSxDQUFDTSxPQUFMLENBQWEsUUFBYixFQUF1QixNQUF2QixDQUF0QjtBQUNBLE1BQU1DLEtBQUssR0FBRyxJQUFJQyxNQUFKLGVBQWtCSCxhQUFsQix1QkFBZDtBQUNBLE1BQU1JLE9BQU8sR0FBR0YsS0FBSyxDQUFDRyxJQUFOLENBQVdULEdBQVgsQ0FBaEI7O0FBRUEsTUFBSSxDQUFDUSxPQUFMLEVBQWM7QUFDWixXQUFPLElBQVA7QUFDRDs7QUFFRCxNQUFJLENBQUNBLE9BQU8sQ0FBQyxDQUFELENBQVosRUFBaUI7QUFDZixXQUFPLEVBQVA7QUFDRDs7QUFFRCxTQUFPRSxrQkFBa0IsQ0FBQ0YsT0FBTyxDQUFDLENBQUQsQ0FBUCxDQUFXSCxPQUFYLENBQW1CLEtBQW5CLEVBQTBCLEdBQTFCLENBQUQsQ0FBekI7QUFDRDs7QUFFRCxTQUFTTSxhQUFULENBQXVCWixJQUF2QixFQUE2QkMsR0FBN0IsRUFBa0M7QUFDaEMsTUFBTVksTUFBTSxHQUFHZCxrQkFBa0IsQ0FBQ0MsSUFBRCxFQUFPQyxHQUFQLENBQWpDOztBQUVBLE1BQUlZLE1BQUosRUFBWTtBQUNWLHNCQUFXYixJQUFYLGNBQW1CYSxNQUFuQjtBQUNEOztBQUVELFNBQU8sRUFBUDtBQUNEOztBQUVELFNBQVNDLG1CQUFULENBQTZCYixHQUE3QixFQUFrQztBQUNoQyxTQUFPVyxhQUFhLENBQUMsU0FBRCxFQUFZWCxHQUFaLENBQXBCO0FBQ0Q7O0FB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VCxRQUdKO0FBQUEsTUFGRHBCLFVBRUMsU0FGREEsVUFFQztBQUFBLDZCQUREcEMsUUFDQztBQUFBLE1BRERBLFFBQ0MsK0JBRFVELE1BQU0sQ0FBQ0MsUUFDakI7QUFDRCxNQUFNeUQsWUFBWSxHQUFHeEMsdUJBQXVCLENBQzFDbUIsVUFBVSxDQUFDakMsT0FBWCxDQUFtQixjQUFuQixFQUFtQyxFQUFuQyxDQUQwQyxDQUE1QztBQUdBLE1BQU11RCxTQUFTLGFBQ2IxRCxRQUFRLENBQUNzQyxNQURJLHVCQUVGbUIsWUFGRSxTQUVhOUMsbUJBQW1CLENBQUNYLFFBQVEsQ0FBQ0MsSUFBVixDQUZoQyxDQUFmO0FBR0F5QyxjQUFZLENBQUNpQixPQUFiLENBQXFCRCxTQUFyQjtBQUNEO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxTQUFTRSxXQUFULENBQXFCQyxRQUFyQixFQUErQnJDLFFBQS9CLEVBQXlDO0FBQzlDLE1BQU1rQyxTQUFTLEdBQUduQyxlQUFlLENBQUNDLFFBQUQsQ0FBakM7QUFFQSxTQUFPc0MsK0RBQU8sbUJBQVlELFFBQVosY0FBd0JILFNBQXhCLEVBQVAsQ0FBNENLLElBQTVDLENBQWlELFVBQUNDLFFBQUQ7QUFBQSxXQUN0REEsUUFBUSxDQUFDQyxJQUFULEVBRHNEO0FBQUEsR0FBakQsQ0FBUDtBQUdEIiwiZmlsZSI6Ii4vYXBwL2phdmFzY3JpcHQvdXRpbGl0aWVzL3NlYXJjaC9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRPRE86IFdlIHNob3VsZCByZWFsbHkgYmUgdXNpbmcgdGhlIHhzcyBwYWNrYWdlIGJ5IGluc3RhbGxpbmcgaXQgaW4gcGFja2FnZS5qc29uXG4vLyBidXQgZm9yIG5vdyBmaWx0ZXJYU1MgaXMgZ2xvYmFsIGJlY2F1c2Ugb2YgbGVnYWN5IEpTXG5cbmltcG9ydCB7IHJlcXVlc3QgfSBmcm9tICdAdXRpbGl0aWVzL2h0dHAnO1xuXG5mdW5jdGlvbiBnZXRQYXJhbWV0ZXJCeU5hbWUobmFtZSwgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWYpIHtcbiAgY29uc3Qgc2FuaXRpemVkTmFtZSA9IG5hbWUucmVwbGFjZSgvW1tcXF1dL2csICdcXFxcJCYnKTtcbiAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKGBbPyZdJHtzYW5pdGl6ZWROYW1lfSg9KFteJiNdKil8JnwjfCQpYCk7XG4gIGNvbnN0IHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XG5cbiAgaWYgKCFyZXN1bHRzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoIXJlc3VsdHNbMl0pIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMl0ucmVwbGFjZSgvXFwrL2csICcgJykpO1xufVxuXG5mdW5jdGlvbiBnZXRQYXJhbWV0ZXJzKG5hbWUsIHVybCkge1xuICBjb25zdCBwYXJhbXMgPSBnZXRQYXJhbWV0ZXJCeU5hbWUobmFtZSwgdXJsKTtcblxuICBpZiAocGFyYW1zKSB7XG4gICAgcmV0dXJuIGAmJHtuYW1lfT0ke3BhcmFtc31gO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBnZXRGaWx0ZXJQYXJhbWV0ZXJzKHVybCkge1xuICByZXR1cm4gZ2V0UGFyYW1ldGVycygnZmlsdGVycycsIHVybCk7XG59XG5cbmZ1bmN0aW9uIGdldFNvcnRQYXJhbWV0ZXJzKHVybCkge1xuICBjb25zdCBzb3J0QnkgPSBnZXRQYXJhbWV0ZXJzKCdzb3J0X2J5JywgdXJsKTtcbiAgY29uc3Qgc29ydERpcmVjdGlvbiA9IGdldFBhcmFtZXRlcnMoJ3NvcnRfZGlyZWN0aW9uJywgdXJsKTtcblxuICByZXR1cm4gc29ydEJ5ICsgc29ydERpcmVjdGlvbjtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IEluc3RhbnRDbGljayBpcyBlbmFibGVkLlxuICpcbiAqIEByZXR1cm5zIFRydWUgaWYgSW5zdGFudENsaWNrIGlzIGVuYWJsZWQsIG90aGVyd2lzZSBmYWxzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0luc3RhbnRDbGljaygpIHtcbiAgcmV0dXJuIHR5cGVvZiBpbnN0YW50Q2xpY2sgIT09ICd1bmRlZmluZWQnO1xufVxuXG5mdW5jdGlvbiBmaXhlZEVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkge1xuICAvLyBmcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2VuY29kZVVSSUNvbXBvbmVudFxuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKS5yZXBsYWNlKFxuICAgIC9bIScoKSpdL2csXG4gICAgKGMpID0+IGAlJHtjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpfWAsXG4gICk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNlYXJjaFVybChkYXRhSGFzaCkge1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gIE9iamVjdC5rZXlzKGRhdGFIYXNoKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGRhdGFIYXNoW2tleV07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2YWx1ZS5mb3JFYWNoKChhcnJheVZhbHVlKSA9PiB7XG4gICAgICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoYCR7a2V5fVtdYCwgYXJyYXlWYWx1ZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBzZWFyY2hQYXJhbXMudG9TdHJpbmcoKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHsqfSBwYXJhbTBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3BsYXlTZWFyY2hSZXN1bHRzKHtcbiAgc2VhcmNoVGVybSxcbiAgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24sXG59KSB7XG4gIGNvbnN0IGJhc2VVcmwgPSBsb2NhdGlvbi5vcmlnaW47XG4gIGNvbnN0IHNhbml0aXplZFF1ZXJ5ID0gZml4ZWRFbmNvZGVVUklDb21wb25lbnQoc2VhcmNoVGVybSk7XG4gIGNvbnN0IGZpbHRlclBhcmFtZXRlcnMgPSBnZXRGaWx0ZXJQYXJhbWV0ZXJzKGxvY2F0aW9uLmhyZWYpO1xuICBjb25zdCBzb3J0UGFyYW1ldGVycyA9IGdldFNvcnRQYXJhbWV0ZXJzKGxvY2F0aW9uLmhyZWYpO1xuXG4gIEluc3RhbnRDbGljay5kaXNwbGF5KFxuICAgIGAke2Jhc2VVcmx9L3NlYXJjaD9xPSR7c2FuaXRpemVkUXVlcnl9JHtmaWx0ZXJQYXJhbWV0ZXJzfSR7c29ydFBhcmFtZXRlcnN9YCxcbiAgKTtcbn1cblxuLyoqXG4gKiBFeHRyYWN0cyB0aGUgc2VhcmNoIHRlcm0gZnJvbSBhbiBVUkwncyBxdWVyeSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5c3RyaW5nIEEgVVJMIHF1ZXJ5IHN0cmluZ1xuICpcbiAqIEByZXR1cm5zIFRoZSBleHRyYWN0ZWQgc2VhcmNoIHRlcm0gZnJvbSB0aGUgcXVlcnkgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWFyY2hUZXJtRnJvbVVybChxdWVyeXN0cmluZykge1xuICBjb25zdCBzZWFyY2hQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhxdWVyeXN0cmluZyk7XG4gIGNvbnN0IHF1ZXJ5ID0gZmlsdGVyWFNTKHNlYXJjaFBhcmFtZXRlcnMuZ2V0KCdxJykpID8/ICcnO1xuICBjb25zdCBkaXZGb3JEZWNvZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICBkaXZGb3JEZWNvZGUuaW5uZXJIVE1MID0gcXVlcnk7XG5cbiAgcmV0dXJuIGRpdkZvckRlY29kZS5maXJzdENoaWxkICE9PSBudWxsXG4gICAgPyBkaXZGb3JEZWNvZGUuZmlyc3RDaGlsZC5ub2RlVmFsdWVcbiAgICA6IHF1ZXJ5O1xufVxuXG4vKipcbiAqIFByZWxvYWRzIHNlYXJjaCByZXN1bHRzIGZvciB0aGUgZ2l2ZW4gc2VhcmNoIHRlcm1cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWFyY2hUZXJtIFRoZSBzZWFyY2ggdGVybVxuICogQHBhcmFtIHtMb2NhdGlvbn0gbG9jYXRpb25bd2luZG93LmxvY2F0aW9uXSBUaGUgbG9jYXRpb24gKFVSTCkgb2YgdGhlIG9iamVjdCBpdCBpcyBsaW5rZWQgdG8uXG4gKiBCeSBkZWZhdWx0IGl0IGlzIGxpbmtlZCB0byB0aGUgV2luZG93IG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZWxvYWRTZWFyY2hSZXN1bHRzKHtcbiAgc2VhcmNoVGVybSxcbiAgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24sXG59KSB7XG4gIGNvbnN0IGVuY29kZWRRdWVyeSA9IGZpeGVkRW5jb2RlVVJJQ29tcG9uZW50KFxuICAgIHNlYXJjaFRlcm0ucmVwbGFjZSgvXlsgXSt8WyBdKyQvZywgJycpLFxuICApO1xuICBjb25zdCBzZWFyY2hVcmwgPSBgJHtcbiAgICBsb2NhdGlvbi5vcmlnaW5cbiAgfS9zZWFyY2g/cT0ke2VuY29kZWRRdWVyeX0ke2dldEZpbHRlclBhcmFtZXRlcnMobG9jYXRpb24uaHJlZil9YDtcbiAgSW5zdGFudENsaWNrLnByZWxvYWQoc2VhcmNoVXJsKTtcbn1cblxuLyoqXG4gKiBBIGhlbHBlciBtZXRob2QgdG8gY2FsbCAvc2VhcmNoIGVuZHBvaW50cy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZW5kcG9pbnQgLSBUaGUgc2VhcmNoIGVuZHBvaW50IHlvdSB3YW50IHRvIHJlcXVlc3QgKGkuZS4gdGFncykuXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YUhhc2ggLSBBIGhhc2ggd2l0aCB0aGUgc2VhcmNoIHBhcmFtcyB0aGF0IG5lZWQgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIHJlcXVlc3QuXG4gKlxuICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSBvYmplY3Qgd2l0aCByZXNwb25zZSBmb3JtYXR0ZWQgYXMgSlNPTi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZldGNoU2VhcmNoKGVuZHBvaW50LCBkYXRhSGFzaCkge1xuICBjb25zdCBzZWFyY2hVcmwgPSBjcmVhdGVTZWFyY2hVcmwoZGF0YUhhc2gpO1xuXG4gIHJldHVybiByZXF1ZXN0KGAvc2VhcmNoLyR7ZW5kcG9pbnR9PyR7c2VhcmNoVXJsfWApLnRoZW4oKHJlc3BvbnNlKSA9PlxuICAgIHJlc3BvbnNlLmpzb24oKSxcbiAgKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./app/javascript/utilities/search/index.js\n");

/***/ })

}]);