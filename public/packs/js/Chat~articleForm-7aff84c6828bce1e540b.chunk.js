(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["Chat~articleForm"],{

/***/ "./app/javascript/article-form/actions.js":
/*!************************************************!*\
  !*** ./app/javascript/article-form/actions.js ***!
  \************************************************/
/*! exports provided: previewArticle, getArticle, submitArticle, generateMainImage, processImageUpload */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"previewArticle\", function() { return previewArticle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getArticle\", function() { return getArticle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"submitArticle\", function() { return submitArticle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generateMainImage\", function() { return generateMainImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"processImageUpload\", function() { return processImageUpload; });\n/* harmony import */ var _packs_validateFileInputs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packs/validateFileInputs */ \"./app/javascript/packs/validateFileInputs.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\nfunction previewArticle(payload, successCb, failureCb) {\n  fetch('/articles/preview', {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'X-CSRF-Token': window.csrfToken,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      article_body: payload\n    }),\n    credentials: 'same-origin'\n  }).then(function (response) {\n    return response.json();\n  }).then(successCb)[\"catch\"](failureCb);\n}\nfunction getArticle() {}\n\nfunction processPayload(payload) {\n  var previewShowing = payload.previewShowing,\n      helpShowing = payload.helpShowing,\n      previewResponse = payload.previewResponse,\n      helpHTML = payload.helpHTML,\n      imageManagementShowing = payload.imageManagementShowing,\n      moreConfigShowing = payload.moreConfigShowing,\n      errors = payload.errors,\n      neededPayload = _objectWithoutProperties(payload, [\"previewShowing\", \"helpShowing\", \"previewResponse\", \"helpHTML\", \"imageManagementShowing\", \"moreConfigShowing\", \"errors\"]);\n\n  return neededPayload;\n}\n\nfunction submitArticle(payload, clearStorage, errorCb, failureCb) {\n  var method = payload.id ? 'PUT' : 'POST';\n  var url = payload.id ? \"/articles/\".concat(payload.id) : '/articles';\n  fetch(url, {\n    method: method,\n    headers: {\n      Accept: 'application/json',\n      'X-CSRF-Token': window.csrfToken,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      article: processPayload(payload)\n    }),\n    credentials: 'same-origin'\n  }).then(function (response) {\n    return response.json();\n  }).then(function (response) {\n    if (response.current_state_path) {\n      clearStorage();\n      window.location.replace(response.current_state_path);\n    } else {\n      // If there is an error and the method is POST, we know they are trying to publish.\n      errorCb(response, method === 'POST');\n    }\n  })[\"catch\"](failureCb);\n}\n\nfunction generateUploadFormdata(payload) {\n  var token = window.csrfToken;\n  var formData = new FormData();\n  formData.append('authenticity_token', token);\n  Object.entries(payload.image).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        _ = _ref2[0],\n        value = _ref2[1];\n\n    return formData.append('image[]', value);\n  });\n  return formData;\n}\n\nfunction generateMainImage(payload, successCb, failureCb) {\n  fetch('/image_uploads', {\n    method: 'POST',\n    headers: {\n      'X-CSRF-Token': window.csrfToken\n    },\n    body: generateUploadFormdata(payload),\n    credentials: 'same-origin'\n  }).then(function (response) {\n    return response.json();\n  }).then(function (json) {\n    if (json.error) {\n      throw new Error(json.error);\n    }\n\n    var links = json.links;\n    var image = payload.image;\n    return successCb({\n      links: links,\n      image: image\n    });\n  })[\"catch\"](failureCb);\n}\n/**\n * Processes images for upload.\n *\n * @param {FileList} images Images to be uploaded.\n * @param {Function} handleImageSuccess The handler that runs when the image is uploaded successfully.\n * @param {Function} handleImageFailure The handler that runs when the image upload fails.\n */\n\nfunction processImageUpload(images, handleImageSuccess, handleImageFailure) {\n  // Currently only one image is supported for upload.\n  if (images.length > 0 && Object(_packs_validateFileInputs__WEBPACK_IMPORTED_MODULE_0__[\"validateFileInputs\"])()) {\n    var payload = {\n      image: images\n    };\n    generateMainImage(payload, handleImageSuccess, handleImageFailure);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC9hcnRpY2xlLWZvcm0vYWN0aW9ucy5qcz8yMjYxIl0sIm5hbWVzIjpbInByZXZpZXdBcnRpY2xlIiwicGF5bG9hZCIsInN1Y2Nlc3NDYiIsImZhaWx1cmVDYiIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkFjY2VwdCIsIndpbmRvdyIsImNzcmZUb2tlbiIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXJ0aWNsZV9ib2R5IiwiY3JlZGVudGlhbHMiLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwiZ2V0QXJ0aWNsZSIsInByb2Nlc3NQYXlsb2FkIiwicHJldmlld1Nob3dpbmciLCJoZWxwU2hvd2luZyIsInByZXZpZXdSZXNwb25zZSIsImhlbHBIVE1MIiwiaW1hZ2VNYW5hZ2VtZW50U2hvd2luZyIsIm1vcmVDb25maWdTaG93aW5nIiwiZXJyb3JzIiwibmVlZGVkUGF5bG9hZCIsInN1Ym1pdEFydGljbGUiLCJjbGVhclN0b3JhZ2UiLCJlcnJvckNiIiwiaWQiLCJ1cmwiLCJhcnRpY2xlIiwiY3VycmVudF9zdGF0ZV9wYXRoIiwibG9jYXRpb24iLCJyZXBsYWNlIiwiZ2VuZXJhdGVVcGxvYWRGb3JtZGF0YSIsInRva2VuIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsIk9iamVjdCIsImVudHJpZXMiLCJpbWFnZSIsImZvckVhY2giLCJfIiwidmFsdWUiLCJnZW5lcmF0ZU1haW5JbWFnZSIsImVycm9yIiwiRXJyb3IiLCJsaW5rcyIsInByb2Nlc3NJbWFnZVVwbG9hZCIsImltYWdlcyIsImhhbmRsZUltYWdlU3VjY2VzcyIsImhhbmRsZUltYWdlRmFpbHVyZSIsImxlbmd0aCIsInZhbGlkYXRlRmlsZUlucHV0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVPLFNBQVNBLGNBQVQsQ0FBd0JDLE9BQXhCLEVBQWlDQyxTQUFqQyxFQUE0Q0MsU0FBNUMs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QSxNQUFJRixNQUFNLENBQUNHLE1BQVAsR0FBZ0IsQ0FBaEIsSUFBcUJDLG9GQUFrQixFQUEzQyxFQUErQztBQUM3QyxRQUFNeEQsT0FBTyxHQUFHO0FBQUUyQyxXQUFLLEVBQUVTO0FBQVQsS0FBaEI7QUFFQUwscUJBQWlCLENBQUMvQyxPQUFELEVBQVVxRCxrQkFBVixFQUE4QkMsa0JBQTlCLENBQWpCO0FBQ0Q7QUFDRiIsImZpbGUiOiIuL2FwcC9qYXZhc2NyaXB0L2FydGljbGUtZm9ybS9hY3Rpb25zLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmFsaWRhdGVGaWxlSW5wdXRzIH0gZnJvbSAnLi4vcGFja3MvdmFsaWRhdGVGaWxlSW5wdXRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHByZXZpZXdBcnRpY2xlKHBheWxvYWQsIHN1Y2Nlc3NDYiwgZmFpbHVyZUNiKSB7XG4gIGZldGNoKCcvYXJ0aWNsZXMvcHJldmlldycsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICdYLUNTUkYtVG9rZW4nOiB3aW5kb3cuY3NyZlRva2VuLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGFydGljbGVfYm9keTogcGF5bG9hZCxcbiAgICB9KSxcbiAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgfSlcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAudGhlbihzdWNjZXNzQ2IpXG4gICAgLmNhdGNoKGZhaWx1cmVDYik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcnRpY2xlKCkge31cblxuZnVuY3Rpb24gcHJvY2Vzc1BheWxvYWQocGF5bG9hZCkge1xuICBjb25zdCB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbiAgICBwcmV2aWV3U2hvd2luZyxcbiAgICBoZWxwU2hvd2luZyxcbiAgICBwcmV2aWV3UmVzcG9uc2UsXG4gICAgaGVscEhUTUwsXG4gICAgaW1hZ2VNYW5hZ2VtZW50U2hvd2luZyxcbiAgICBtb3JlQ29uZmlnU2hvd2luZyxcbiAgICBlcnJvcnMsXG4gICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtdmFycyAqL1xuICAgIC4uLm5lZWRlZFBheWxvYWRcbiAgfSA9IHBheWxvYWQ7XG4gIHJldHVybiBuZWVkZWRQYXlsb2FkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3VibWl0QXJ0aWNsZShwYXlsb2FkLCBjbGVhclN0b3JhZ2UsIGVycm9yQ2IsIGZhaWx1cmVDYikge1xuICBjb25zdCBtZXRob2QgPSBwYXlsb2FkLmlkID8gJ1BVVCcgOiAnUE9TVCc7XG4gIGNvbnN0IHVybCA9IHBheWxvYWQuaWQgPyBgL2FydGljbGVzLyR7cGF5bG9hZC5pZH1gIDogJy9hcnRpY2xlcyc7XG4gIGZldGNoKHVybCwge1xuICAgIG1ldGhvZCxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICdYLUNTUkYtVG9rZW4nOiB3aW5kb3cuY3NyZlRva2VuLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGFydGljbGU6IHByb2Nlc3NQYXlsb2FkKHBheWxvYWQpLFxuICAgIH0pLFxuICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxuICB9KVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLmN1cnJlbnRfc3RhdGVfcGF0aCkge1xuICAgICAgICBjbGVhclN0b3JhZ2UoKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UocmVzcG9uc2UuY3VycmVudF9zdGF0ZV9wYXRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGVycm9yIGFuZCB0aGUgbWV0aG9kIGlzIFBPU1QsIHdlIGtub3cgdGhleSBhcmUgdHJ5aW5nIHRvIHB1Ymxpc2guXG4gICAgICAgIGVycm9yQ2IocmVzcG9uc2UsIG1ldGhvZCA9PT0gJ1BPU1QnKTtcbiAgICAgIH1cbiAgICB9KVxuICAgIC5jYXRjaChmYWlsdXJlQ2IpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVVwbG9hZEZvcm1kYXRhKHBheWxvYWQpIHtcbiAgY29uc3QgdG9rZW4gPSB3aW5kb3cuY3NyZlRva2VuO1xuICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICBmb3JtRGF0YS5hcHBlbmQoJ2F1dGhlbnRpY2l0eV90b2tlbicsIHRva2VuKTtcblxuICBPYmplY3QuZW50cmllcyhwYXlsb2FkLmltYWdlKS5mb3JFYWNoKChbXywgdmFsdWVdKSA9PlxuICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1hZ2VbXScsIHZhbHVlKSxcbiAgKTtcblxuICByZXR1cm4gZm9ybURhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZU1haW5JbWFnZShwYXlsb2FkLCBzdWNjZXNzQ2IsIGZhaWx1cmVDYikge1xuICBmZXRjaCgnL2ltYWdlX3VwbG9hZHMnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ1gtQ1NSRi1Ub2tlbic6IHdpbmRvdy5jc3JmVG9rZW4sXG4gICAgfSxcbiAgICBib2R5OiBnZW5lcmF0ZVVwbG9hZEZvcm1kYXRhKHBheWxvYWQpLFxuICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxuICB9KVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICBpZiAoanNvbi5lcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoanNvbi5lcnJvcik7XG4gICAgICB9XG4gICAgICBjb25zdCB7IGxpbmtzIH0gPSBqc29uO1xuICAgICAgY29uc3QgeyBpbWFnZSB9ID0gcGF5bG9hZDtcbiAgICAgIHJldHVybiBzdWNjZXNzQ2IoeyBsaW5rcywgaW1hZ2UgfSk7XG4gICAgfSlcbiAgICAuY2F0Y2goZmFpbHVyZUNiKTtcbn1cblxuLyoqXG4gKiBQcm9jZXNzZXMgaW1hZ2VzIGZvciB1cGxvYWQuXG4gKlxuICogQHBhcmFtIHtGaWxlTGlzdH0gaW1hZ2VzIEltYWdlcyB0byBiZSB1cGxvYWRlZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZUltYWdlU3VjY2VzcyBUaGUgaGFuZGxlciB0aGF0IHJ1bnMgd2hlbiB0aGUgaW1hZ2UgaXMgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlSW1hZ2VGYWlsdXJlIFRoZSBoYW5kbGVyIHRoYXQgcnVucyB3aGVuIHRoZSBpbWFnZSB1cGxvYWQgZmFpbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzSW1hZ2VVcGxvYWQoXG4gIGltYWdlcyxcbiAgaGFuZGxlSW1hZ2VTdWNjZXNzLFxuICBoYW5kbGVJbWFnZUZhaWx1cmUsXG4pIHtcbiAgLy8gQ3VycmVudGx5IG9ubHkgb25lIGltYWdlIGlzIHN1cHBvcnRlZCBmb3IgdXBsb2FkLlxuICBpZiAoaW1hZ2VzLmxlbmd0aCA+IDAgJiYgdmFsaWRhdGVGaWxlSW5wdXRzKCkpIHtcbiAgICBjb25zdCBwYXlsb2FkID0geyBpbWFnZTogaW1hZ2VzIH07XG5cbiAgICBnZW5lcmF0ZU1haW5JbWFnZShwYXlsb2FkLCBoYW5kbGVJbWFnZVN1Y2Nlc3MsIGhhbmRsZUltYWdlRmFpbHVyZSk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./app/javascript/article-form/actions.js\n");

/***/ }),

/***/ "./app/javascript/packs/validateFileInputs.js":
/*!****************************************************!*\
  !*** ./app/javascript/packs/validateFileInputs.js ***!
  \****************************************************/
/*! exports provided: validateFileInputs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateFileInputs\", function() { return validateFileInputs; });\n/**\n * @file Manages logic to validate file uploads client-side. In general, the\n * validations work by looping over input form fields with a type of file and\n * checking the size and format of the files upload by the user.\n */\n\n/**\n * An object containing the top level MIME type as the key and the max file\n * size in MB for the value. To use a different value than these defaults,\n * simply add a data-max-file-mb attribute to the input form field with the\n * max file size in MB. If that attribute is found, it takes priority over these\n * defaults.\n *\n * @constant {Object.<string, number>}\n */\nvar MAX_FILE_SIZE_MB = Object.freeze({\n  image: 25,\n  video: 50\n});\n/**\n * Permitted file types using the top level MIME type (i.e. image for\n * image/png). To specify permitted file types, simply add a\n * data-permitted-file-types attribute to the input form field as an Array of\n * strings specifying the top level MIME types that are permitted.\n *\n * @constant {string[]}\n */\n\nvar PERMITTED_FILE_TYPES = ['image'];\n/**\n * The maximum length of the file name to prevent errors on the backend when a\n * file name is too long.\n *\n * @constant {number}\n */\n\nvar MAX_FILE_NAME_LENGTH = 250;\n/**\n * Removes any pre-existing error messages from the DOM related to file\n * validation.\n *\n * @param {HTMLElement} fileInput - An input form field with type of file\n */\n\nfunction removeErrorMessage(fileInput) {\n  var errorMessage = fileInput.parentNode.querySelector('div.file-upload-error');\n\n  if (errorMessage) {\n    errorMessage.remove();\n  }\n}\n/**\n * Adds error messages in the form of a div with red text.\n *\n * @param {HTMLElement} fileInput - An input form field with type of file\n * @param {string} msg - The error message to be displayed to the user\n *\n * @returns {HTMLElement} The error element that was added to the DOM\n */\n\n\nfunction addErrorMessage(fileInput, msg) {\n  var fileInputField = fileInput;\n  var error = document.createElement('div');\n  error.style.color = 'red';\n  error.innerHTML = msg;\n  error.classList.add('file-upload-error');\n  fileInputField.parentNode.append(error);\n}\n/**\n * Handles errors for files that are too large.\n *\n * @param {object} fileSizeErrorHandler - A custom function to be ran after the default error handling\n * @param {HTMLElement} fileInput - An input form field with type of file\n * @param {number} fileSizeMb - The size of the file in MB\n * @param {?number} maxFileSizeMb - The max file size limit in MB\n */\n\n\nfunction handleFileSizeError(fileSizeErrorHandler, fileInput, fileSizeMb, maxFileSizeMb) {\n  var fileInputField = fileInput;\n  fileInputField.value = null;\n\n  if (fileSizeErrorHandler) {\n    fileSizeErrorHandler();\n  } else {\n    var errorMessage = \"File size too large (\".concat(fileSizeMb, \" MB).\"); // If a user uploads a file type that we haven't defined a max size limit for then maxFileSizeMb\n    // could be NaN\n\n    if (maxFileSizeMb >= 0) {\n      errorMessage += \" The limit is \".concat(maxFileSizeMb, \" MB.\");\n    }\n\n    addErrorMessage(fileInput, errorMessage);\n  }\n}\n/**\n * Handles errors for files that are not a valid format.\n *\n * @param {object} fileSizeErrorHandler - A custom function to be ran after the default error handling\n * @param {HTMLElement} fileInput - An input form field with type of file\n * @param {string} fileType - The top level file type (i.e. image for image/png)\n * @param {string[]} permittedFileTypes - The top level file types (i.e. image for image/png) that are permitted\n */\n\n\nfunction handleFileTypeError(fileTypeErrorHandler, fileInput, fileType, permittedFileTypes) {\n  var fileInputField = fileInput;\n  fileInputField.value = null;\n\n  if (fileTypeErrorHandler) {\n    fileTypeErrorHandler();\n  } else {\n    var errorMessage = \"Invalid file format (\".concat(fileType, \"). Only \").concat(permittedFileTypes.join(', '), \" files are permitted.\");\n    addErrorMessage(fileInput, errorMessage);\n  }\n}\n/**\n * Handles errors for files with names that are too long.\n *\n * @param {object} fileNameLengthErrorHandler - A custom function to be ran after the default error handling\n * @param {HTMLElement} fileInput - An input form field with type of file\n * @param {number} maxFileNameLength - The max number of characters permitted for a file name\n */\n\n\nfunction handleFileNameLengthError(fileNameLengthErrorHandler, fileInput, maxFileNameLength) {\n  var fileInputField = fileInput;\n  fileInputField.value = null;\n\n  if (fileNameLengthErrorHandler) {\n    fileNameLengthErrorHandler();\n  } else {\n    var errorMessage = \"File name is too long. It can't be longer than \".concat(maxFileNameLength, \" characters.\");\n    addErrorMessage(fileInput, errorMessage);\n  }\n}\n/**\n * Validates the file size and handles the error if it's invalid.\n *\n * @external File\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/File File}\n *\n * @param {File} file - The file attached by the user\n * @param {string} fileType - The top level file type (i.e. image for image/png)\n * @param {HTMLElement} fileInput - An input form field with type of file\n *\n * @returns {Boolean} Returns false if the file is too big. Otherwise, returns true.\n */\n\n\nfunction validateFileSize(file, fileType, fileInput) {\n  var maxFileSizeMb = fileInput.dataset.maxFileSizeMb;\n  var fileSizeErrorHandler = fileInput.dataset.fileSizeErrorHandler;\n  var fileSizeMb = (file.size / (1024 * 1024)).toFixed(2);\n  maxFileSizeMb = Number(maxFileSizeMb || MAX_FILE_SIZE_MB[fileType]);\n  var isValidFileSize = fileSizeMb <= maxFileSizeMb;\n\n  if (!isValidFileSize) {\n    handleFileSizeError(fileSizeErrorHandler, fileInput, fileSizeMb, maxFileSizeMb);\n  }\n\n  return isValidFileSize;\n}\n/**\n * Validates the file type and handles the error if it's invalid.\n *\n * @external File\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/File File}\n *\n * @param {File} file - The file attached by the user\n * @param {string} fileType - The top level file type (i.e. image for image/png)\n * @param {HTMLElement} fileInput - An input form field with type of file\n *\n * @returns {Boolean} Returns false if the files is an invalid format. Otherwise, returns true.\n */\n\n\nfunction validateFileType(file, fileType, fileInput) {\n  var permittedFileTypes = fileInput.dataset.permittedFileTypes;\n\n  if (permittedFileTypes) {\n    permittedFileTypes = JSON.parse(permittedFileTypes);\n  }\n\n  permittedFileTypes = permittedFileTypes || PERMITTED_FILE_TYPES;\n  var fileTypeErrorHandler = fileInput.dataset.fileTypeErrorHandler;\n  var isValidFileType = permittedFileTypes.includes(fileType);\n\n  if (!isValidFileType) {\n    handleFileTypeError(fileTypeErrorHandler, fileInput, fileType, permittedFileTypes);\n  }\n\n  return isValidFileType;\n}\n/**\n * Validates the length of the file name and handles the error if it's invalid.\n *\n * @external File\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/File File}\n *\n * @param {File} file - The file attached by the user\n * @param {HTMLElement} fileInput - An input form field with type of file\n *\n * @returns {Boolean} Returns false if the file name is too long. Otherwise, returns true.\n */\n\n\nfunction validateFileNameLength(file, fileInput) {\n  var maxFileNameLength = fileInput.dataset.maxFileNameLength;\n  maxFileNameLength = Number(maxFileNameLength || MAX_FILE_NAME_LENGTH);\n  var fileNameLengthErrorHandler = fileInput.dataset.fileNameLengthErrorHandler;\n  var isValidFileNameLength = file.name.length <= maxFileNameLength;\n\n  if (!isValidFileNameLength) {\n    handleFileNameLengthError(fileNameLengthErrorHandler, fileInput, maxFileNameLength);\n  }\n\n  return isValidFileNameLength;\n}\n/**\n * This is the core function to handle validations of uploaded files. It loops\n * through all the uploaded files for the given fileInput and checks the file\n * size, file format, and file name length. If a file fails a validation, the\n * error is handled.\n *\n * @param {HTMLElement} fileInput - An input form field with type of file\n *\n * @returns {Boolean} Returns false if any files failed validations. Otherwise, returns true.\n */\n\n\nfunction validateFileInput(fileInput) {\n  var isValidFileInput = true;\n  removeErrorMessage(fileInput);\n  var files = Array.from(fileInput.files);\n\n  for (var i = 0; i < files.length; i += 1) {\n    var file = files[i];\n    var fileType = file.type.split('/')[0];\n    var isValidFileSize = validateFileSize(file, fileType, fileInput);\n\n    if (!isValidFileSize) {\n      isValidFileInput = false;\n      break;\n    }\n\n    var isValidFileType = validateFileType(file, fileType, fileInput);\n\n    if (!isValidFileType) {\n      isValidFileInput = false;\n      break;\n    }\n\n    var isValidFileNameLength = validateFileNameLength(file, fileInput);\n\n    if (!isValidFileNameLength) {\n      isValidFileInput = false;\n      break;\n    }\n  }\n\n  return isValidFileInput;\n}\n/**\n * This function is designed to be exported in areas where we are doing more\n * custom implementations of file uploading using Preact. It can then be used\n * in Preact event handlers. It loops through all file input fields on the DOM\n * and validates any attached files.\n *\n * @returns {Boolean} Returns false if any files failed validations. Otherwise, returns true.\n */\n\n\nfunction validateFileInputs() {\n  var validFileInputs = true;\n  var fileInputs = document.querySelectorAll('input[type=\"file\"]');\n\n  for (var i = 0; i < fileInputs.length; i += 1) {\n    var fileInput = fileInputs[i];\n    var validFileInput = validateFileInput(fileInput);\n\n    if (!validFileInput) {\n      validFileInputs = false;\n      break;\n    }\n  }\n\n  return validFileInputs;\n} // This is written so that it works automagically by just including this pack\n// in a view.\n\nvar fileInputs = document.querySelectorAll('input[type=\"file\"]');\nfileInputs.forEach(function (fileInput) {\n  fileInput.addEventListener('change', function () {\n    validateFileInput(fileInput);\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC9wYWNrcy92YWxpZGF0ZUZpbGVJbnB1dHMuanM/ZTdlZSJdLCJuYW1lcyI6WyJNQVhfRklMRV9TSVpFX01CIiwiT2JqZWN0IiwiZnJlZXplIiwiaW1hZ2UiLCJ2aWRlbyIsIlBFUk1JVFRFRF9GSUxFX1RZUEVTIiwiTUFYX0ZJTEVfTkFNRV9MRU5HVEgiLCJyZW1vdmVFcnJvck1lc3NhZ2UiLCJmaWxlSW5wdXQiLCJlcnJvck1lc3NhZ2UiLCJwYXJlbnROb2RlIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZSIsImFkZEVycm9yTWVzc2FnZSIsIm1zZyIsImZpbGVJbnB1dEZpZWxkIiwiZXJyb3IiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsImNvbG9yIiwiaW5uZXJIVE1MIiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kIiwiaGFuZGxlRmlsZVNpemVFcnJvciIsImZpbGVTaXplRXJyb3JIYW5kbGVyIiwiZmlsZVNpemVNYiIsIm1heEZpbGVTaXplTWIiLCJ2YWx1ZSIsImhhbmRsZUZpbGVUeXBlRXJyb3IiLCJmaWxlVHlwZUVycm9ySGFuZGxlciIsImZpbGVUeXBlIiwicGVybWl0dGVkRmlsZVR5cGVzIiwiam9pbiIsImhhbmRsZUZpbGVOYW1lTGVuZ3RoRXJyb3IiLCJmaWxlTmFtZUxlbmd0aEVycm9ySGFuZGxlciIsIm1heEZpbGVOYW1lTGVuZ3RoIiwidmFsaWRhdGVGaWxlU2l6ZSIsImZpbGUiLCJkYXRhc2V0Iiwic2l6ZSIsInRvRml4ZWQiLCJOdW1iZXIiLCJpc1ZhbGlkRmlsZVNpemUiLCJ2YWxpZGF0ZUZpbGVUeXBlIiwiSlNPTiIsInBhcnNlIiwiaXNWYWxpZEZpbGVUeXBlIiwiaW5jbHVkZXMiLCJ2YWxpZGF0ZUZpbGVOYW1lTGVuZ3RoIiwiaXNWYWxpZEZpbGVOYW1lTGVuZ3RoIiwibmFtZSIsImxlbmd0aCIsInZhbGlkYXRlRmlsZUlucHV0IiwiaXNWYWxpZEZpbGVJbnB1dCIsImZpbGVzIiwiQXJyYXkiLCJmcm9tIiwiaSIsInR5cGUiLCJzcGxpdCIsInZhbGlkYXRlRmlsZUlucHV0cyIsInZhbGlkRmlsZUlucHV0cyIsImZpbGVJbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwidmFsaWRGaWxlSW5wdXQiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBTUEsZ0JBQWdCLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjO0FBQ3JDQyxPQUFLLEVBQUUsRUFEOEI7QUFFckNDLE9BQUssRUFBRTtBQUY4QixDQUFkLENBQXpCO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxJQUFNQyxvQkFBb0IsR0FBRyxDQUFDLE9BQUQsQ0FBN0I7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsSUFBTUMsb0JBQW9CLEdBQUcsR0FBN0I7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsU0FBU0Msa0JBQVQsQ0FBNEJDLFNBQTVCLEVBQXVDO0FBQ3JDLE1BQU1DLFlBQVksR0FBR0QsU0FBUyxDQUFDRSxVQUFWLENBQXFCQyxhQUFyQixDQUNuQix1QkFEbUIsQ0FBckI7O0FBSUEsTUFBSUYsWUFBSixFQUFrQjtBQUNoQkEsZ0JBQVksQ0FBQ0csTUFBYjtBQUNEO0FBQ0Y7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxTQUFTQyxlQUFULENBQXlCTCxTQUF6QixFQUFvQ00sR0FBcEMsRUFBeUM7QUFDdkMsTUFBTUMsY0FBYyxHQUFHUCxTQUF2QjtBQUNBLE1BQU1RLEtBQUssR0FBR0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWQ7QUFDQUYsT0FBSyxDQUFDRyxLQUFOLENBQVlDLEtBQVos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LEVBQU8vQixTQUFQLENBQXBEOztBQUVBLFFBQUksQ0FBQzJDLHFCQUFMLEVBQTRCO0FBQzFCSSxzQkFBZ0IsR0FBRyxLQUFuQjtBQUNBO0FBQ0Q7QUFDRjs7QUFFRCxTQUFPQSxnQkFBUDtBQUNEO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ08sU0FBU08sa0JBQVQsR0FBOEI7QUFDbkMsTUFBSUMsZUFBZSxHQUFHLElBQXRCO0FBQ0EsTUFBTUMsVUFBVSxHQUFHL0MsUUFBUSxDQUFDZ0QsZ0JBQVQsQ0FBMEIsb0JBQTFCLENBQW5COztBQUVBLE9BQUssSUFBSU4sQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0ssVUFBVSxDQUFDWCxNQUEvQixFQUF1Q00sQ0FBQyxJQUFJLENBQTVDLEVBQStDO0FBQzdDLFFBQU1uRCxTQUFTLEdBQUd3RCxVQUFVLENBQUNMLENBQUQsQ0FBNUI7QUFDQSxRQUFNTyxjQUFjLEdBQUdaLGlCQUFpQixDQUFDOUMsU0FBRCxDQUF4Qzs7QUFFQSxRQUFJLENBQUMwRCxjQUFMLEVBQXFCO0FBQ25CSCxxQkFBZSxHQUFHLEtBQWxCO0FBQ0E7QUFDRDtBQUNGOztBQUVELFNBQU9BLGVBQVA7QUFDRCxDLENBRUQ7QUFDQTs7QUFDQSxJQUFNQyxVQUFVLEdBQUcvQyxRQUFRLENBQUNnRCxnQkFBVCxDQUEwQixvQkFBMUIsQ0FBbkI7QUFFQUQsVUFBVSxDQUFDRyxPQUFYLENBQW1CLFVBQUMzRCxTQUFELEVBQWU7QUFDaENBLFdBQVMsQ0FBQzRELGdCQUFWLENBQTJCLFFBQTNCLEVBQXFDLFlBQU07QUFDekNkLHFCQUFpQixDQUFDOUMsU0FBRCxDQUFqQjtBQUNELEdBRkQ7QUFHRCxDQUpEIiwiZmlsZSI6Ii4vYXBwL2phdmFzY3JpcHQvcGFja3MvdmFsaWRhdGVGaWxlSW5wdXRzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSBNYW5hZ2VzIGxvZ2ljIHRvIHZhbGlkYXRlIGZpbGUgdXBsb2FkcyBjbGllbnQtc2lkZS4gSW4gZ2VuZXJhbCwgdGhlXG4gKiB2YWxpZGF0aW9ucyB3b3JrIGJ5IGxvb3Bpbmcgb3ZlciBpbnB1dCBmb3JtIGZpZWxkcyB3aXRoIGEgdHlwZSBvZiBmaWxlIGFuZFxuICogY2hlY2tpbmcgdGhlIHNpemUgYW5kIGZvcm1hdCBvZiB0aGUgZmlsZXMgdXBsb2FkIGJ5IHRoZSB1c2VyLlxuICovXG5cbi8qKlxuICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHRvcCBsZXZlbCBNSU1FIHR5cGUgYXMgdGhlIGtleSBhbmQgdGhlIG1heCBmaWxlXG4gKiBzaXplIGluIE1CIGZvciB0aGUgdmFsdWUuIFRvIHVzZSBhIGRpZmZlcmVudCB2YWx1ZSB0aGFuIHRoZXNlIGRlZmF1bHRzLFxuICogc2ltcGx5IGFkZCBhIGRhdGEtbWF4LWZpbGUtbWIgYXR0cmlidXRlIHRvIHRoZSBpbnB1dCBmb3JtIGZpZWxkIHdpdGggdGhlXG4gKiBtYXggZmlsZSBzaXplIGluIE1CLiBJZiB0aGF0IGF0dHJpYnV0ZSBpcyBmb3VuZCwgaXQgdGFrZXMgcHJpb3JpdHkgb3ZlciB0aGVzZVxuICogZGVmYXVsdHMuXG4gKlxuICogQGNvbnN0YW50IHtPYmplY3QuPHN0cmluZywgbnVtYmVyPn1cbiAqL1xuY29uc3QgTUFYX0ZJTEVfU0laRV9NQiA9IE9iamVjdC5mcmVlemUoe1xuICBpbWFnZTogMjUsXG4gIHZpZGVvOiA1MCxcbn0pO1xuXG4vKipcbiAqIFBlcm1pdHRlZCBmaWxlIHR5cGVzIHVzaW5nIHRoZSB0b3AgbGV2ZWwgTUlNRSB0eXBlIChpLmUuIGltYWdlIGZvclxuICogaW1hZ2UvcG5nKS4gVG8gc3BlY2lmeSBwZXJtaXR0ZWQgZmlsZSB0eXBlcywgc2ltcGx5IGFkZCBhXG4gKiBkYXRhLXBlcm1pdHRlZC1maWxlLXR5cGVzIGF0dHJpYnV0ZSB0byB0aGUgaW5wdXQgZm9ybSBmaWVsZCBhcyBhbiBBcnJheSBvZlxuICogc3RyaW5ncyBzcGVjaWZ5aW5nIHRoZSB0b3AgbGV2ZWwgTUlNRSB0eXBlcyB0aGF0IGFyZSBwZXJtaXR0ZWQuXG4gKlxuICogQGNvbnN0YW50IHtzdHJpbmdbXX1cbiAqL1xuY29uc3QgUEVSTUlUVEVEX0ZJTEVfVFlQRVMgPSBbJ2ltYWdlJ107XG5cbi8qKlxuICogVGhlIG1heGltdW0gbGVuZ3RoIG9mIHRoZSBmaWxlIG5hbWUgdG8gcHJldmVudCBlcnJvcnMgb24gdGhlIGJhY2tlbmQgd2hlbiBhXG4gKiBmaWxlIG5hbWUgaXMgdG9vIGxvbmcuXG4gKlxuICogQGNvbnN0YW50IHtudW1iZXJ9XG4gKi9cbmNvbnN0IE1BWF9GSUxFX05BTUVfTEVOR1RIID0gMjUwO1xuXG4vKipcbiAqIFJlbW92ZXMgYW55IHByZS1leGlzdGluZyBlcnJvciBtZXNzYWdlcyBmcm9tIHRoZSBET00gcmVsYXRlZCB0byBmaWxlXG4gKiB2YWxpZGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGZpbGVJbnB1dCAtIEFuIGlucHV0IGZvcm0gZmllbGQgd2l0aCB0eXBlIG9mIGZpbGVcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRXJyb3JNZXNzYWdlKGZpbGVJbnB1dCkge1xuICBjb25zdCBlcnJvck1lc3NhZ2UgPSBmaWxlSW5wdXQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKFxuICAgICdkaXYuZmlsZS11cGxvYWQtZXJyb3InLFxuICApO1xuXG4gIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICBlcnJvck1lc3NhZ2UucmVtb3ZlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBBZGRzIGVycm9yIG1lc3NhZ2VzIGluIHRoZSBmb3JtIG9mIGEgZGl2IHdpdGggcmVkIHRleHQuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZmlsZUlucHV0IC0gQW4gaW5wdXQgZm9ybSBmaWVsZCB3aXRoIHR5cGUgb2YgZmlsZVxuICogQHBhcmFtIHtzdHJpbmd9IG1zZyAtIFRoZSBlcnJvciBtZXNzYWdlIHRvIGJlIGRpc3BsYXllZCB0byB0aGUgdXNlclxuICpcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gVGhlIGVycm9yIGVsZW1lbnQgdGhhdCB3YXMgYWRkZWQgdG8gdGhlIERPTVxuICovXG5mdW5jdGlvbiBhZGRFcnJvck1lc3NhZ2UoZmlsZUlucHV0LCBtc2cpIHtcbiAgY29uc3QgZmlsZUlucHV0RmllbGQgPSBmaWxlSW5wdXQ7XG4gIGNvbnN0IGVycm9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGVycm9yLnN0eWxlLmNvbG9yID0gJ3JlZCc7XG4gIGVycm9yLmlubmVySFRNTCA9IG1zZztcbiAgZXJyb3IuY2xhc3NMaXN0LmFkZCgnZmlsZS11cGxvYWQtZXJyb3InKTtcblxuICBmaWxlSW5wdXRGaWVsZC5wYXJlbnROb2RlLmFwcGVuZChlcnJvcik7XG59XG5cbi8qKlxuICogSGFuZGxlcyBlcnJvcnMgZm9yIGZpbGVzIHRoYXQgYXJlIHRvbyBsYXJnZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZmlsZVNpemVFcnJvckhhbmRsZXIgLSBBIGN1c3RvbSBmdW5jdGlvbiB0byBiZSByYW4gYWZ0ZXIgdGhlIGRlZmF1bHQgZXJyb3IgaGFuZGxpbmdcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGZpbGVJbnB1dCAtIEFuIGlucHV0IGZvcm0gZmllbGQgd2l0aCB0eXBlIG9mIGZpbGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBmaWxlU2l6ZU1iIC0gVGhlIHNpemUgb2YgdGhlIGZpbGUgaW4gTUJcbiAqIEBwYXJhbSB7P251bWJlcn0gbWF4RmlsZVNpemVNYiAtIFRoZSBtYXggZmlsZSBzaXplIGxpbWl0IGluIE1CXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZUZpbGVTaXplRXJyb3IoXG4gIGZpbGVTaXplRXJyb3JIYW5kbGVyLFxuICBmaWxlSW5wdXQsXG4gIGZpbGVTaXplTWIsXG4gIG1heEZpbGVTaXplTWIsXG4pIHtcbiAgY29uc3QgZmlsZUlucHV0RmllbGQgPSBmaWxlSW5wdXQ7XG4gIGZpbGVJbnB1dEZpZWxkLnZhbHVlID0gbnVsbDtcblxuICBpZiAoZmlsZVNpemVFcnJvckhhbmRsZXIpIHtcbiAgICBmaWxlU2l6ZUVycm9ySGFuZGxlcigpO1xuICB9IGVsc2Uge1xuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgRmlsZSBzaXplIHRvbyBsYXJnZSAoJHtmaWxlU2l6ZU1ifSBNQikuYDtcblxuICAgIC8vIElmIGEgdXNlciB1cGxvYWRzIGEgZmlsZSB0eXBlIHRoYXQgd2UgaGF2ZW4ndCBkZWZpbmVkIGEgbWF4IHNpemUgbGltaXQgZm9yIHRoZW4gbWF4RmlsZVNpemVNYlxuICAgIC8vIGNvdWxkIGJlIE5hTlxuICAgIGlmIChtYXhGaWxlU2l6ZU1iID49IDApIHtcbiAgICAgIGVycm9yTWVzc2FnZSArPSBgIFRoZSBsaW1pdCBpcyAke21heEZpbGVTaXplTWJ9IE1CLmA7XG4gICAgfVxuXG4gICAgYWRkRXJyb3JNZXNzYWdlKGZpbGVJbnB1dCwgZXJyb3JNZXNzYWdlKTtcbiAgfVxufVxuXG4vKipcbiAqIEhhbmRsZXMgZXJyb3JzIGZvciBmaWxlcyB0aGF0IGFyZSBub3QgYSB2YWxpZCBmb3JtYXQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGZpbGVTaXplRXJyb3JIYW5kbGVyIC0gQSBjdXN0b20gZnVuY3Rpb24gdG8gYmUgcmFuIGFmdGVyIHRoZSBkZWZhdWx0IGVycm9yIGhhbmRsaW5nXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBmaWxlSW5wdXQgLSBBbiBpbnB1dCBmb3JtIGZpZWxkIHdpdGggdHlwZSBvZiBmaWxlXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZVR5cGUgLSBUaGUgdG9wIGxldmVsIGZpbGUgdHlwZSAoaS5lLiBpbWFnZSBmb3IgaW1hZ2UvcG5nKVxuICogQHBhcmFtIHtzdHJpbmdbXX0gcGVybWl0dGVkRmlsZVR5cGVzIC0gVGhlIHRvcCBsZXZlbCBmaWxlIHR5cGVzIChpLmUuIGltYWdlIGZvciBpbWFnZS9wbmcpIHRoYXQgYXJlIHBlcm1pdHRlZFxuICovXG5mdW5jdGlvbiBoYW5kbGVGaWxlVHlwZUVycm9yKFxuICBmaWxlVHlwZUVycm9ySGFuZGxlcixcbiAgZmlsZUlucHV0LFxuICBmaWxlVHlwZSxcbiAgcGVybWl0dGVkRmlsZVR5cGVzLFxuKSB7XG4gIGNvbnN0IGZpbGVJbnB1dEZpZWxkID0gZmlsZUlucHV0O1xuICBmaWxlSW5wdXRGaWVsZC52YWx1ZSA9IG51bGw7XG5cbiAgaWYgKGZpbGVUeXBlRXJyb3JIYW5kbGVyKSB7XG4gICAgZmlsZVR5cGVFcnJvckhhbmRsZXIoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgSW52YWxpZCBmaWxlIGZvcm1hdCAoJHtmaWxlVHlwZX0pLiBPbmx5ICR7cGVybWl0dGVkRmlsZVR5cGVzLmpvaW4oXG4gICAgICAnLCAnLFxuICAgICl9IGZpbGVzIGFyZSBwZXJtaXR0ZWQuYDtcbiAgICBhZGRFcnJvck1lc3NhZ2UoZmlsZUlucHV0LCBlcnJvck1lc3NhZ2UpO1xuICB9XG59XG5cbi8qKlxuICogSGFuZGxlcyBlcnJvcnMgZm9yIGZpbGVzIHdpdGggbmFtZXMgdGhhdCBhcmUgdG9vIGxvbmcuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGZpbGVOYW1lTGVuZ3RoRXJyb3JIYW5kbGVyIC0gQSBjdXN0b20gZnVuY3Rpb24gdG8gYmUgcmFuIGFmdGVyIHRoZSBkZWZhdWx0IGVycm9yIGhhbmRsaW5nXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBmaWxlSW5wdXQgLSBBbiBpbnB1dCBmb3JtIGZpZWxkIHdpdGggdHlwZSBvZiBmaWxlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4RmlsZU5hbWVMZW5ndGggLSBUaGUgbWF4IG51bWJlciBvZiBjaGFyYWN0ZXJzIHBlcm1pdHRlZCBmb3IgYSBmaWxlIG5hbWVcbiAqL1xuZnVuY3Rpb24gaGFuZGxlRmlsZU5hbWVMZW5ndGhFcnJvcihcbiAgZmlsZU5hbWVMZW5ndGhFcnJvckhhbmRsZXIsXG4gIGZpbGVJbnB1dCxcbiAgbWF4RmlsZU5hbWVMZW5ndGgsXG4pIHtcbiAgY29uc3QgZmlsZUlucHV0RmllbGQgPSBmaWxlSW5wdXQ7XG4gIGZpbGVJbnB1dEZpZWxkLnZhbHVlID0gbnVsbDtcblxuICBpZiAoZmlsZU5hbWVMZW5ndGhFcnJvckhhbmRsZXIpIHtcbiAgICBmaWxlTmFtZUxlbmd0aEVycm9ySGFuZGxlcigpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGBGaWxlIG5hbWUgaXMgdG9vIGxvbmcuIEl0IGNhbid0IGJlIGxvbmdlciB0aGFuICR7bWF4RmlsZU5hbWVMZW5ndGh9IGNoYXJhY3RlcnMuYDtcbiAgICBhZGRFcnJvck1lc3NhZ2UoZmlsZUlucHV0LCBlcnJvck1lc3NhZ2UpO1xuICB9XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSBmaWxlIHNpemUgYW5kIGhhbmRsZXMgdGhlIGVycm9yIGlmIGl0J3MgaW52YWxpZC5cbiAqXG4gKiBAZXh0ZXJuYWwgRmlsZVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ZpbGUgRmlsZX1cbiAqXG4gKiBAcGFyYW0ge0ZpbGV9IGZpbGUgLSBUaGUgZmlsZSBhdHRhY2hlZCBieSB0aGUgdXNlclxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGVUeXBlIC0gVGhlIHRvcCBsZXZlbCBmaWxlIHR5cGUgKGkuZS4gaW1hZ2UgZm9yIGltYWdlL3BuZylcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGZpbGVJbnB1dCAtIEFuIGlucHV0IGZvcm0gZmllbGQgd2l0aCB0eXBlIG9mIGZpbGVcbiAqXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gUmV0dXJucyBmYWxzZSBpZiB0aGUgZmlsZSBpcyB0b28gYmlnLiBPdGhlcndpc2UsIHJldHVybnMgdHJ1ZS5cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVGaWxlU2l6ZShmaWxlLCBmaWxlVHlwZSwgZmlsZUlucHV0KSB7XG4gIGxldCB7IG1heEZpbGVTaXplTWIgfSA9IGZpbGVJbnB1dC5kYXRhc2V0O1xuXG4gIGNvbnN0IHsgZmlsZVNpemVFcnJvckhhbmRsZXIgfSA9IGZpbGVJbnB1dC5kYXRhc2V0O1xuXG4gIGNvbnN0IGZpbGVTaXplTWIgPSAoZmlsZS5zaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKTtcbiAgbWF4RmlsZVNpemVNYiA9IE51bWJlcihtYXhGaWxlU2l6ZU1iIHx8IE1BWF9GSUxFX1NJWkVfTUJbZmlsZVR5cGVdKTtcblxuICBjb25zdCBpc1ZhbGlkRmlsZVNpemUgPSBmaWxlU2l6ZU1iIDw9IG1heEZpbGVTaXplTWI7XG5cbiAgaWYgKCFpc1ZhbGlkRmlsZVNpemUpIHtcbiAgICBoYW5kbGVGaWxlU2l6ZUVycm9yKFxuICAgICAgZmlsZVNpemVFcnJvckhhbmRsZXIsXG4gICAgICBmaWxlSW5wdXQsXG4gICAgICBmaWxlU2l6ZU1iLFxuICAgICAgbWF4RmlsZVNpemVNYixcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGlzVmFsaWRGaWxlU2l6ZTtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZXMgdGhlIGZpbGUgdHlwZSBhbmQgaGFuZGxlcyB0aGUgZXJyb3IgaWYgaXQncyBpbnZhbGlkLlxuICpcbiAqIEBleHRlcm5hbCBGaWxlXG4gKiBAc2VlIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRmlsZSBGaWxlfVxuICpcbiAqIEBwYXJhbSB7RmlsZX0gZmlsZSAtIFRoZSBmaWxlIGF0dGFjaGVkIGJ5IHRoZSB1c2VyXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZVR5cGUgLSBUaGUgdG9wIGxldmVsIGZpbGUgdHlwZSAoaS5lLiBpbWFnZSBmb3IgaW1hZ2UvcG5nKVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZmlsZUlucHV0IC0gQW4gaW5wdXQgZm9ybSBmaWVsZCB3aXRoIHR5cGUgb2YgZmlsZVxuICpcbiAqIEByZXR1cm5zIHtCb29sZWFufSBSZXR1cm5zIGZhbHNlIGlmIHRoZSBmaWxlcyBpcyBhbiBpbnZhbGlkIGZvcm1hdC4gT3RoZXJ3aXNlLCByZXR1cm5zIHRydWUuXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlRmlsZVR5cGUoZmlsZSwgZmlsZVR5cGUsIGZpbGVJbnB1dCkge1xuICBsZXQgeyBwZXJtaXR0ZWRGaWxlVHlwZXMgfSA9IGZpbGVJbnB1dC5kYXRhc2V0O1xuXG4gIGlmIChwZXJtaXR0ZWRGaWxlVHlwZXMpIHtcbiAgICBwZXJtaXR0ZWRGaWxlVHlwZXMgPSBKU09OLnBhcnNlKHBlcm1pdHRlZEZpbGVUeXBlcyk7XG4gIH1cblxuICBwZXJtaXR0ZWRGaWxlVHlwZXMgPSBwZXJtaXR0ZWRGaWxlVHlwZXMgfHwgUEVSTUlUVEVEX0ZJTEVfVFlQRVM7XG5cbiAgY29uc3QgeyBmaWxlVHlwZUVycm9ySGFuZGxlciB9ID0gZmlsZUlucHV0LmRhdGFzZXQ7XG5cbiAgY29uc3QgaXNWYWxpZEZpbGVUeXBlID0gcGVybWl0dGVkRmlsZVR5cGVzLmluY2x1ZGVzKGZpbGVUeXBlKTtcblxuICBpZiAoIWlzVmFsaWRGaWxlVHlwZSkge1xuICAgIGhhbmRsZUZpbGVUeXBlRXJyb3IoXG4gICAgICBmaWxlVHlwZUVycm9ySGFuZGxlcixcbiAgICAgIGZpbGVJbnB1dCxcbiAgICAgIGZpbGVUeXBlLFxuICAgICAgcGVybWl0dGVkRmlsZVR5cGVzLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gaXNWYWxpZEZpbGVUeXBlO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGUgbGVuZ3RoIG9mIHRoZSBmaWxlIG5hbWUgYW5kIGhhbmRsZXMgdGhlIGVycm9yIGlmIGl0J3MgaW52YWxpZC5cbiAqXG4gKiBAZXh0ZXJuYWwgRmlsZVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ZpbGUgRmlsZX1cbiAqXG4gKiBAcGFyYW0ge0ZpbGV9IGZpbGUgLSBUaGUgZmlsZSBhdHRhY2hlZCBieSB0aGUgdXNlclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZmlsZUlucHV0IC0gQW4gaW5wdXQgZm9ybSBmaWVsZCB3aXRoIHR5cGUgb2YgZmlsZVxuICpcbiAqIEByZXR1cm5zIHtCb29sZWFufSBSZXR1cm5zIGZhbHNlIGlmIHRoZSBmaWxlIG5hbWUgaXMgdG9vIGxvbmcuIE90aGVyd2lzZSwgcmV0dXJucyB0cnVlLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUZpbGVOYW1lTGVuZ3RoKGZpbGUsIGZpbGVJbnB1dCkge1xuICBsZXQgeyBtYXhGaWxlTmFtZUxlbmd0aCB9ID0gZmlsZUlucHV0LmRhdGFzZXQ7XG5cbiAgbWF4RmlsZU5hbWVMZW5ndGggPSBOdW1iZXIobWF4RmlsZU5hbWVMZW5ndGggfHwgTUFYX0ZJTEVfTkFNRV9MRU5HVEgpO1xuXG4gIGNvbnN0IHsgZmlsZU5hbWVMZW5ndGhFcnJvckhhbmRsZXIgfSA9IGZpbGVJbnB1dC5kYXRhc2V0O1xuXG4gIGNvbnN0IGlzVmFsaWRGaWxlTmFtZUxlbmd0aCA9IGZpbGUubmFtZS5sZW5ndGggPD0gbWF4RmlsZU5hbWVMZW5ndGg7XG5cbiAgaWYgKCFpc1ZhbGlkRmlsZU5hbWVMZW5ndGgpIHtcbiAgICBoYW5kbGVGaWxlTmFtZUxlbmd0aEVycm9yKFxuICAgICAgZmlsZU5hbWVMZW5ndGhFcnJvckhhbmRsZXIsXG4gICAgICBmaWxlSW5wdXQsXG4gICAgICBtYXhGaWxlTmFtZUxlbmd0aCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGlzVmFsaWRGaWxlTmFtZUxlbmd0aDtcbn1cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb3JlIGZ1bmN0aW9uIHRvIGhhbmRsZSB2YWxpZGF0aW9ucyBvZiB1cGxvYWRlZCBmaWxlcy4gSXQgbG9vcHNcbiAqIHRocm91Z2ggYWxsIHRoZSB1cGxvYWRlZCBmaWxlcyBmb3IgdGhlIGdpdmVuIGZpbGVJbnB1dCBhbmQgY2hlY2tzIHRoZSBmaWxlXG4gKiBzaXplLCBmaWxlIGZvcm1hdCwgYW5kIGZpbGUgbmFtZSBsZW5ndGguIElmIGEgZmlsZSBmYWlscyBhIHZhbGlkYXRpb24sIHRoZVxuICogZXJyb3IgaXMgaGFuZGxlZC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBmaWxlSW5wdXQgLSBBbiBpbnB1dCBmb3JtIGZpZWxkIHdpdGggdHlwZSBvZiBmaWxlXG4gKlxuICogQHJldHVybnMge0Jvb2xlYW59IFJldHVybnMgZmFsc2UgaWYgYW55IGZpbGVzIGZhaWxlZCB2YWxpZGF0aW9ucy4gT3RoZXJ3aXNlLCByZXR1cm5zIHRydWUuXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlRmlsZUlucHV0KGZpbGVJbnB1dCkge1xuICBsZXQgaXNWYWxpZEZpbGVJbnB1dCA9IHRydWU7XG5cbiAgcmVtb3ZlRXJyb3JNZXNzYWdlKGZpbGVJbnB1dCk7XG4gIGNvbnN0IGZpbGVzID0gQXJyYXkuZnJvbShmaWxlSW5wdXQuZmlsZXMpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBmaWxlID0gZmlsZXNbaV07XG4gICAgY29uc3QgZmlsZVR5cGUgPSBmaWxlLnR5cGUuc3BsaXQoJy8nKVswXTtcblxuICAgIGNvbnN0IGlzVmFsaWRGaWxlU2l6ZSA9IHZhbGlkYXRlRmlsZVNpemUoZmlsZSwgZmlsZVR5cGUsIGZpbGVJbnB1dCk7XG5cbiAgICBpZiAoIWlzVmFsaWRGaWxlU2l6ZSkge1xuICAgICAgaXNWYWxpZEZpbGVJbnB1dCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY29uc3QgaXNWYWxpZEZpbGVUeXBlID0gdmFsaWRhdGVGaWxlVHlwZShmaWxlLCBmaWxlVHlwZSwgZmlsZUlucHV0KTtcblxuICAgIGlmICghaXNWYWxpZEZpbGVUeXBlKSB7XG4gICAgICBpc1ZhbGlkRmlsZUlucHV0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBjb25zdCBpc1ZhbGlkRmlsZU5hbWVMZW5ndGggPSB2YWxpZGF0ZUZpbGVOYW1lTGVuZ3RoKGZpbGUsIGZpbGVJbnB1dCk7XG5cbiAgICBpZiAoIWlzVmFsaWRGaWxlTmFtZUxlbmd0aCkge1xuICAgICAgaXNWYWxpZEZpbGVJbnB1dCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGlzVmFsaWRGaWxlSW5wdXQ7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBleHBvcnRlZCBpbiBhcmVhcyB3aGVyZSB3ZSBhcmUgZG9pbmcgbW9yZVxuICogY3VzdG9tIGltcGxlbWVudGF0aW9ucyBvZiBmaWxlIHVwbG9hZGluZyB1c2luZyBQcmVhY3QuIEl0IGNhbiB0aGVuIGJlIHVzZWRcbiAqIGluIFByZWFjdCBldmVudCBoYW5kbGVycy4gSXQgbG9vcHMgdGhyb3VnaCBhbGwgZmlsZSBpbnB1dCBmaWVsZHMgb24gdGhlIERPTVxuICogYW5kIHZhbGlkYXRlcyBhbnkgYXR0YWNoZWQgZmlsZXMuXG4gKlxuICogQHJldHVybnMge0Jvb2xlYW59IFJldHVybnMgZmFsc2UgaWYgYW55IGZpbGVzIGZhaWxlZCB2YWxpZGF0aW9ucy4gT3RoZXJ3aXNlLCByZXR1cm5zIHRydWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUZpbGVJbnB1dHMoKSB7XG4gIGxldCB2YWxpZEZpbGVJbnB1dHMgPSB0cnVlO1xuICBjb25zdCBmaWxlSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImZpbGVcIl0nKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVJbnB1dHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBmaWxlSW5wdXQgPSBmaWxlSW5wdXRzW2ldO1xuICAgIGNvbnN0IHZhbGlkRmlsZUlucHV0ID0gdmFsaWRhdGVGaWxlSW5wdXQoZmlsZUlucHV0KTtcblxuICAgIGlmICghdmFsaWRGaWxlSW5wdXQpIHtcbiAgICAgIHZhbGlkRmlsZUlucHV0cyA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHZhbGlkRmlsZUlucHV0cztcbn1cblxuLy8gVGhpcyBpcyB3cml0dGVuIHNvIHRoYXQgaXQgd29ya3MgYXV0b21hZ2ljYWxseSBieSBqdXN0IGluY2x1ZGluZyB0aGlzIHBhY2tcbi8vIGluIGEgdmlldy5cbmNvbnN0IGZpbGVJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwiZmlsZVwiXScpO1xuXG5maWxlSW5wdXRzLmZvckVhY2goKGZpbGVJbnB1dCkgPT4ge1xuICBmaWxlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgIHZhbGlkYXRlRmlsZUlucHV0KGZpbGVJbnB1dCk7XG4gIH0pO1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./app/javascript/packs/validateFileInputs.js\n");

/***/ }),

/***/ "./app/javascript/utilities/dragAndDrop.js":
/*!*************************************************!*\
  !*** ./app/javascript/utilities/dragAndDrop.js ***!
  \*************************************************/
/*! exports provided: useDragAndDrop, DragAndDropZone */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useDragAndDrop\", function() { return useDragAndDrop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DragAndDropZone\", function() { return DragAndDropZone; });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var preact_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact/hooks */ \"./node_modules/preact/hooks/dist/hooks.module.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n/**\n * A custom Preact hook used to attach drag and drop functionality to a DOM element.\n * @example\n * function SomeComponent(props) {\n *   const { setElement } = useDragAndDrop({\n *     onDrop: someDropHandler,\n *     onDragOver: someDragOverHandler,\n *     onDragExit: someDragExitHandler\n *   });\n *\n *  const someDomRef = useRef(null);\n *\n *  useEffect(() => {\n *    if (someDomRef.current) {\n *      setElement(someDomRef.current);\n *    }\n *  });\n *\n *  return <textarea ref={someDomRef}>I'm a text area</textarea>;\n * };\n *\n * @param {object} props\n * @param {Function} props.onDragOver The handler that runs when the dragover event is fired.\n * @param {Function} props.onDragExit The handler that runs when the dragexit/dragleave events are fired.\n * @param {Function} props.onDrop The handler that runs when the drop event is fired.\n */\n\nfunction useDragAndDrop(_ref) {\n  var onDragOver = _ref.onDragOver,\n      onDragExit = _ref.onDragExit,\n      onDrop = _ref.onDrop;\n\n  var _useState = Object(preact_hooks__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      element = _useState2[0],\n      setElement = _useState2[1];\n\n  Object(preact_hooks__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (!element) {\n      return;\n    }\n\n    var noDragAndDropHandler = function noDragAndDropHandler(event) {\n      return event.preventDefault();\n    };\n\n    document.addEventListener('dragover', noDragAndDropHandler);\n    document.addEventListener('drop', noDragAndDropHandler);\n    element.addEventListener('dragover', onDragOver);\n    element.addEventListener('dragexit', onDragExit);\n    element.addEventListener('dragleave', onDragExit);\n    element.addEventListener('drop', onDrop);\n    return function () {\n      document.removeEventListener('dragover', noDragAndDropHandler);\n      document.removeEventListener('drop', noDragAndDropHandler);\n      element.removeEventListener('dragover', onDragOver);\n      element.removeEventListener('dragexit', onDragExit);\n      element.removeEventListener('dragleave', onDragExit);\n      element.removeEventListener('drop', onDrop);\n    };\n  }, [element, onDragOver, onDragExit, onDrop]);\n  return {\n    setElement: setElement\n  };\n}\n/**\n * Registers drag and drop events for the child element that is wrapped by this component.\n *\n * @example\n * <DragAndDropZone\n *     onDragOver={someDragOverHandler}\n *     onDragExit={someDragExitHandler}\n *     onDrop={someDropHandler}\n *     >\n *    <textarea>I'm a text area</textarea>\n * <DragAndDropZone>\n *\n * @param {object} props\n * @param {JSX.Element} props.children The React element that will register it's DOM counterpart with drag and drop events.\n * @param {Function} props.onDragOver The handler that runs when the dragover event is fired.\n * @param {Function} props.onDragExit The handler that runs when the dragexit/dragleave events are fired.\n * @param {Function} props.onDrop The handler that runs when the drop event is fired.\n */\n\nfunction DragAndDropZone(_ref2) {\n  var children = _ref2.children,\n      onDragOver = _ref2.onDragOver,\n      onDragExit = _ref2.onDragExit,\n      onDrop = _ref2.onDrop;\n\n  if (!children) {\n    throw new Error('The <DragAndDropZone /> component children prop is null or was not specified.');\n  }\n\n  var _useDragAndDrop = useDragAndDrop({\n    onDragOver: onDragOver,\n    onDragExit: onDragExit,\n    onDrop: onDrop\n  }),\n      setElement = _useDragAndDrop.setElement;\n\n  var dropZoneRef = Object(preact_hooks__WEBPACK_IMPORTED_MODULE_1__[\"useRef\"])(null);\n\n  if (dropZoneRef.current) {\n    setElement(dropZoneRef.current);\n  }\n\n  return Object(preact__WEBPACK_IMPORTED_MODULE_0__[\"cloneElement\"])(children, {\n    ref: dropZoneRef\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC91dGlsaXRpZXMvZHJhZ0FuZERyb3AuanM/YjViMyJdLCJuYW1lcyI6WyJ1c2VEcmFnQW5kRHJvcCIsIm9uRHJhZ092ZXIiLCJvbkRyYWdFeGl0Iiwib25Ecm9wIiwidXNlU3RhdGUiLCJlbGVtZW50Iiwic2V0RWxlbWVudCIsInVzZUVmZmVjdCIsIm5vRHJhZ0FuZERyb3BIYW5kbGVyIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJEcmFnQW5kRHJvcFpvbmUiLCJjaGlsZHJlbiIsIkVycm9yIiwiZHJvcFpvbmVSZWYiLCJ1c2VSZWYiLCJjdXJyZW50IiwiY2xvbmVFbGVtZW50IiwicmVmIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNPLFNBQVNBLGNBQVQsT0FBNEQ7QUFBQSxNQUFsQ0MsVUFBa0MsUUFBbENBLFVBQWtDO0FBQUEsTUFBdEJDLFVBQXNCLFFBQXRCQSxVQUFzQjtBQUFBLE1BQVZDLE1BQVUsUUFBVkEsTUFBVTs7QUFBQSxrQkFDbkNDLDZEQUFRLENBQUMsSUFBRCxDQUQyQjtBQUFBO0FBQUEsTUFDMURDLE9BRDBEO0FBQUEsTUFDakRDLFVBRGlEOztBQUdqRUMsZ0VBQVMsQ0FBQyxZQUFNO0FBQ2QsUUFBSSxDQUFDRixPQUFMLEVBQWM7QUFDWjtBQUNEOztBQUVELFFBQU1HLG9CQUFvQixHQUFHLFNBQXZCQSxvQkFBdUIsQ0FBQ0MsS0FBRDtBQUFBLGFBQVdBLEtBQUssQ0FBQ0MsY0FBTixFQUFYO0FBQUEsS0FBN0I7O0FBRUFDLFlBQVEsQ0FBQ0MsZ0JBQVQsQ0FBMEIsVUFBMUIsRUFBc0NKLG9CQUF0QztBQUNBRyxZQUFRLENBQUNDLGdCQUFULENBQTBCLE1BQTFCLEVBQWtDSixvQkFBbEM7QUFFQUgsV0FBTyxDQUFDTyxnQkFBUixDQUF5QixVQUF6QixFQUFxQ1gsVUFBckM7QUFDQUksV0FBTyxDQUFDTyxnQkFBUixDQUF5QixVQUF6QixFQUFxQ1YsVUFBckM7QUFDQUcsV0FBTyxDQUFDTyxnQkFBUixDQUF5QixXQUF6QixFQUFzQ1YsVUFBdEM7QUFDQUcsV0FBTyxDQUFDTyxnQkFBUixDQUF5QixNQUF6QixFQUFpQ1QsTUFBakM7QUFFQSxXQUFPLFlBQU07QUFDWFEsY0FBUSxDQUFDRSxtQkFBVCxDQUE2QixVQUE3QixFQUF5Q0wsb0JBQXpDO0FBQ0FHLGNBQVEsQ0FBQ0UsbUJBQVQsQ0FBNkIsTUFBN0IsRUFBcUNMLG9CQUFyQztBQUVBSCxhQUFPLENBQUNRLG1CQUFSLENBQTRCLFVBQTVCLEVBQXdDWixVQUF4QztBQUNBSSxhQUFPLENBQUNRLG1CQUFSLENBQTRCLFVBQTVCLEVBQXdDWCxVQUF4QztBQUNBRyxhQUFPLENBQUNRLG1CQUFSLENBQTRCLFdBQTVCLEVBQXlDWCxVQUF6QztBQUNBRyxhQUFPLENBQUNRLG1CQUFSLENBQTRCLE1BQTVCLEVBQW9DVixNQUFwQztBQUNELEtBUkQ7QUFTRCxHQXhCUSxFQXdCTixDQUFDRSxPQUFELEVBQVVKLFVBQVYsRUFBc0JDLFVBQXRCLEVBQWtDQyxNQUFsQyxDQXhCTSxDQUFUO0FBMEJBLFNBQU87QUFBRUcsY0FBVSxFQUFWQTtBQUFGLEdBQVA7QUFDRDtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxTQUFTUSxlQUFULFFBQXVFO0FBQUEsTUFBNUNDLFFBQTRDLFNBQTVDQSxRQUE0QztBQUFBLE1BQWxDZCxVQUFrQyxTQUFsQ0EsVUFBa0M7QUFBQSxNQUF0QkMsVUFBc0IsU0FBdEJBLFVBQXNCO0FBQUEsTUFBVkMsTUFBVSxTQUFWQSxNQUFVOztBQUM1RSxNQUFJLENBQUNZLFFBQUwsRUFBZTtBQUNiLFVBQU0sSUFBSUMsS0FBSixDQUNKLCtFQURJLENBQU47QUFHRDs7QUFMMkUsd0JBT3JEaEIsY0FBYyxDQUFDO0FBQUVDLGNBQVUsRUFBVkEsVUFBRjtBQUFjQyxjQUFVLEVBQVZBLFVBQWQ7QUFBMEJDLFVBQU0sRUFBTkE7QUFBMUIsR0FBRCxDQVB1QztBQUFBLE1BT3BFRyxVQVBvRSxtQkFPcEVBLFVBUG9FOztBQVE1RSxNQUFNVyxXQUFXLEdBQUdDLDJEQUFNLENBQUMsSUFBRCxDQUExQjs7QUFFQSxNQUFJRCxXQUFXLENBQUNFLE9BQWhCLEVBQXlCO0FBQ3ZCYixjQUFVLENBQUNXLFdBQVcsQ0FBQ0UsT0FBYixDQUFWO0FBQ0Q7O0FBRUQsU0FBT0MsMkRBQVksQ0FBQ0wsUUFBRCxFQUFXO0FBQzVCTSxPQUFHLEVBQUVKO0FBRHVCLEdBQVgsQ0FBbkI7QUFHRCIsImZpbGUiOiIuL2FwcC9qYXZhc2NyaXB0L3V0aWxpdGllcy9kcmFnQW5kRHJvcC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsb25lRWxlbWVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdwcmVhY3QvaG9va3MnO1xuXG4vKipcbiAqIEEgY3VzdG9tIFByZWFjdCBob29rIHVzZWQgdG8gYXR0YWNoIGRyYWcgYW5kIGRyb3AgZnVuY3Rpb25hbGl0eSB0byBhIERPTSBlbGVtZW50LlxuICogQGV4YW1wbGVcbiAqIGZ1bmN0aW9uIFNvbWVDb21wb25lbnQocHJvcHMpIHtcbiAqICAgY29uc3QgeyBzZXRFbGVtZW50IH0gPSB1c2VEcmFnQW5kRHJvcCh7XG4gKiAgICAgb25Ecm9wOiBzb21lRHJvcEhhbmRsZXIsXG4gKiAgICAgb25EcmFnT3Zlcjogc29tZURyYWdPdmVySGFuZGxlcixcbiAqICAgICBvbkRyYWdFeGl0OiBzb21lRHJhZ0V4aXRIYW5kbGVyXG4gKiAgIH0pO1xuICpcbiAqICBjb25zdCBzb21lRG9tUmVmID0gdXNlUmVmKG51bGwpO1xuICpcbiAqICB1c2VFZmZlY3QoKCkgPT4ge1xuICogICAgaWYgKHNvbWVEb21SZWYuY3VycmVudCkge1xuICogICAgICBzZXRFbGVtZW50KHNvbWVEb21SZWYuY3VycmVudCk7XG4gKiAgICB9XG4gKiAgfSk7XG4gKlxuICogIHJldHVybiA8dGV4dGFyZWEgcmVmPXtzb21lRG9tUmVmfT5JJ20gYSB0ZXh0IGFyZWE8L3RleHRhcmVhPjtcbiAqIH07XG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5vbkRyYWdPdmVyIFRoZSBoYW5kbGVyIHRoYXQgcnVucyB3aGVuIHRoZSBkcmFnb3ZlciBldmVudCBpcyBmaXJlZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLm9uRHJhZ0V4aXQgVGhlIGhhbmRsZXIgdGhhdCBydW5zIHdoZW4gdGhlIGRyYWdleGl0L2RyYWdsZWF2ZSBldmVudHMgYXJlIGZpcmVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25Ecm9wIFRoZSBoYW5kbGVyIHRoYXQgcnVucyB3aGVuIHRoZSBkcm9wIGV2ZW50IGlzIGZpcmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlRHJhZ0FuZERyb3AoeyBvbkRyYWdPdmVyLCBvbkRyYWdFeGl0LCBvbkRyb3AgfSkge1xuICBjb25zdCBbZWxlbWVudCwgc2V0RWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5vRHJhZ0FuZERyb3BIYW5kbGVyID0gKGV2ZW50KSA9PiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBub0RyYWdBbmREcm9wSGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIG5vRHJhZ0FuZERyb3BIYW5kbGVyKTtcblxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBvbkRyYWdPdmVyKTtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdleGl0Jywgb25EcmFnRXhpdCk7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBvbkRyYWdFeGl0KTtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBvbkRyb3ApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgbm9EcmFnQW5kRHJvcEhhbmRsZXIpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIG5vRHJhZ0FuZERyb3BIYW5kbGVyKTtcblxuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIG9uRHJhZ092ZXIpO1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZXhpdCcsIG9uRHJhZ0V4aXQpO1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBvbkRyYWdFeGl0KTtcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIG9uRHJvcCk7XG4gICAgfTtcbiAgfSwgW2VsZW1lbnQsIG9uRHJhZ092ZXIsIG9uRHJhZ0V4aXQsIG9uRHJvcF0pO1xuXG4gIHJldHVybiB7IHNldEVsZW1lbnQgfTtcbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgZHJhZyBhbmQgZHJvcCBldmVudHMgZm9yIHRoZSBjaGlsZCBlbGVtZW50IHRoYXQgaXMgd3JhcHBlZCBieSB0aGlzIGNvbXBvbmVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICogPERyYWdBbmREcm9wWm9uZVxuICogICAgIG9uRHJhZ092ZXI9e3NvbWVEcmFnT3ZlckhhbmRsZXJ9XG4gKiAgICAgb25EcmFnRXhpdD17c29tZURyYWdFeGl0SGFuZGxlcn1cbiAqICAgICBvbkRyb3A9e3NvbWVEcm9wSGFuZGxlcn1cbiAqICAgICA+XG4gKiAgICA8dGV4dGFyZWE+SSdtIGEgdGV4dCBhcmVhPC90ZXh0YXJlYT5cbiAqIDxEcmFnQW5kRHJvcFpvbmU+XG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge0pTWC5FbGVtZW50fSBwcm9wcy5jaGlsZHJlbiBUaGUgUmVhY3QgZWxlbWVudCB0aGF0IHdpbGwgcmVnaXN0ZXIgaXQncyBET00gY291bnRlcnBhcnQgd2l0aCBkcmFnIGFuZCBkcm9wIGV2ZW50cy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLm9uRHJhZ092ZXIgVGhlIGhhbmRsZXIgdGhhdCBydW5zIHdoZW4gdGhlIGRyYWdvdmVyIGV2ZW50IGlzIGZpcmVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25EcmFnRXhpdCBUaGUgaGFuZGxlciB0aGF0IHJ1bnMgd2hlbiB0aGUgZHJhZ2V4aXQvZHJhZ2xlYXZlIGV2ZW50cyBhcmUgZmlyZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5vbkRyb3AgVGhlIGhhbmRsZXIgdGhhdCBydW5zIHdoZW4gdGhlIGRyb3AgZXZlbnQgaXMgZmlyZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBEcmFnQW5kRHJvcFpvbmUoeyBjaGlsZHJlbiwgb25EcmFnT3Zlciwgb25EcmFnRXhpdCwgb25Ecm9wIH0pIHtcbiAgaWYgKCFjaGlsZHJlbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdUaGUgPERyYWdBbmREcm9wWm9uZSAvPiBjb21wb25lbnQgY2hpbGRyZW4gcHJvcCBpcyBudWxsIG9yIHdhcyBub3Qgc3BlY2lmaWVkLicsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHsgc2V0RWxlbWVudCB9ID0gdXNlRHJhZ0FuZERyb3AoeyBvbkRyYWdPdmVyLCBvbkRyYWdFeGl0LCBvbkRyb3AgfSk7XG4gIGNvbnN0IGRyb3Bab25lUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIGlmIChkcm9wWm9uZVJlZi5jdXJyZW50KSB7XG4gICAgc2V0RWxlbWVudChkcm9wWm9uZVJlZi5jdXJyZW50KTtcbiAgfVxuXG4gIHJldHVybiBjbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHtcbiAgICByZWY6IGRyb3Bab25lUmVmLFxuICB9KTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./app/javascript/utilities/dragAndDrop.js\n");

/***/ })

}]);